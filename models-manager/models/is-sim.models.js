
// Generated by CoffeeScript 1.4.0
var BrowserState,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

BrowserState = (function(_super) {

  __extends(BrowserState, _super);

  BrowserState.inst = [];

  BrowserState.init = false;

  function BrowserState() {
    BrowserState.__super__.constructor.call(this);
    this.add_attr({
      window_size: [0, 0],
      location: {
        hash: "",
        host: "",
        hostname: "",
        href: "",
        pathname: "",
        port: "",
        protocol: "",
        search: ""
      }
    });
    BrowserState.inst.push(this);
    if (!BrowserState.init) {
      BrowserState.init = true;
      window.onresize = BrowserState.onresize;
      window.onhashchange = BrowserState.onhashchange;
    }
    window.onresize();
    window.onhashchange();
  }

  BrowserState.onresize = function() {
    var inst, _i, _len, _ref, _results;
    _ref = BrowserState.inst;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      inst = _ref[_i];
      _results.push(inst.window_size.set([window.innerWidth, window.innerHeight]));
    }
    return _results;
  };

  BrowserState.onhashchange = function() {
    var inst, _i, _len, _ref, _results;
    _ref = BrowserState.inst;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      inst = _ref[_i];
      inst.location.hash.set(location.hash);
      inst.location.host.set(location.host);
      inst.location.hostname.set(location.hostname);
      inst.location.href.set(location.href);
      inst.location.pathname.set(location.pathname);
      inst.location.port.set(location.port);
      inst.location.protocol.set(location.protocol);
      _results.push(inst.location.search.set(location.search));
    }
    return _results;
  };

  return BrowserState;

})(Model);
// Generated by CoffeeScript 1.4.0
var LayoutManagerData,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

LayoutManagerData = (function(_super) {

  __extends(LayoutManagerData, _super);

  LayoutManagerData._used_panel_id = [];

  function LayoutManagerData(data) {
    if (data == null) {
      data = {
        panel_id: "id_0"
      };
    }
    LayoutManagerData.__super__.constructor.call(this);
    this.add_attr({
      root: data
    });
    this._assign_default_values(this.root);
  }

  LayoutManagerData.prototype.make_info = function(p_min, p_max, border_size) {
    var lst, obj;
    lst = [];
    obj = this._make_graph_rec(lst, this.root.get(), border_size);
    this._make_sizes(obj, p_min, p_max);
    return lst;
  };

  LayoutManagerData.prototype.allow_destruction = function(data) {
    if (data.immortal) {
      return false;
    } else {
      return true;
    }
  };

  LayoutManagerData.prototype.find_item_with_panel_id = function(id, data) {
    var c, r, _i, _len, _ref, _ref1;
    if (data == null) {
      data = this.root;
    }
    if ((_ref = data.panel_id) != null ? _ref.equals(id) : void 0) {
      return data;
    }
    if (data.children != null) {
      _ref1 = data.children;
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        c = _ref1[_i];
        r = this.find_item_with_panel_id(id, c);
        if (r != null) {
          return r;
        }
      }
    }
  };

  LayoutManagerData.prototype.find_parent_of_panel_id = function(id, data) {
    var c, r, _i, _len, _ref, _ref1;
    if (data == null) {
      data = this.root;
    }
    if (data.children != null) {
      _ref = data.children;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        c = _ref[_i];
        if ((_ref1 = c.panel_id) != null ? _ref1.equals(id) : void 0) {
          return data;
        }
        r = this.find_parent_of_panel_id(id, c);
        if (r != null) {
          return r;
        }
      }
    }
  };

  LayoutManagerData.prototype.mk_split = function(d, s, id, c, new_panel_id) {
    var ch, lc, nc, od, os;
    if (new_panel_id == null) {
      new_panel_id = this._find_new_panel_id([]);
    }
    ch = this.find_item_with_panel_id(id);
    od = ch.get();
    os = od.strength || 1;
    nc = {
      panel_id: new_panel_id
    };
    lc = [od, nc];
    if (!s) {
      lc.reverse();
    }
    lc[0].strength = 0 + c;
    lc[1].strength = 1 - c;
    ch.set({
      sep_norm: d,
      strength: os,
      children: lc,
      panel_id: this._find_new_panel_id([new_panel_id])
    });
    return new_panel_id;
  };

  LayoutManagerData.prototype.rm_panel = function(id) {
    var ch, ci, nn, pa;
    if (!this.allow_destruction(id)) {
      return false;
    }
    ch = this.find_item_with_panel_id(id);
    pa = this.find_parent_of_panel_id(id);
    if (pa.children.length === 2) {
      nn = 1 * (pa.children[0] === ch);
      ci = pa.children[nn].get();
      ci.strength = pa.strength.get();
      pa.set(ci);
    } else {
      console.log("TODO");
    }
    return true;
  };

  LayoutManagerData.prototype.panel_id_of_term_panels = function() {
    var res;
    res = [];
    this._get_panel_id_of_term_panels(res, this.root);
    return res;
  };

  LayoutManagerData.prototype.panel_ids = function() {
    var res;
    res = [];
    this._get_panel_ids(res, this.root);
    return res;
  };

  LayoutManagerData.prototype._make_graph_rec = function(lst, data, border_size, orig) {
    var ch, n, num_ci, repr, _i, _j, _ref, _ref1, _ref2;
    if (orig == null) {
      orig = data;
    }
    repr = {
      data: data,
      pan_mana: this,
      sep_norm: data.sep_norm || 0,
      border_s: data.border_s != null ? data.border_s : border_size,
      min_size: data.min_size || [0, 0],
      max_size: data.max_size || [1e5, 1e5],
      selected: data.selected,
      immortal: data.immortal,
      strength: data.strength || 1,
      panel_id: data.panel_id,
      children: [],
      parent: void 0,
      num_in_p: void 0,
      p_min: void 0,
      p_max: void 0,
      d_border: void 0,
      min_by: function(d) {
        var c, l, _i, _len, _ref;
        l = this.min_size[d];
        _ref = this.children;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          c = _ref[_i];
          l = Math.max(l, c.min_by(d));
        }
        return l;
      },
      max_by: function(d) {
        var c, l, _i, _len, _ref;
        l = this.max_size[d];
        _ref = this.children;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          c = _ref[_i];
          l = Math.min(l, c.max_by(d));
        }
        return l;
      },
      contains: function(p) {
        return (p != null) && p[0] >= this.p_min[0] && p[0] < this.p_max[0] && p[1] >= this.p_min[1] && p[1] < this.p_max[1];
      },
      can_be_destroyed: function() {
        var c, _i, _len, _ref;
        if (this.immortal) {
          return false;
        }
        _ref = this.children;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          c = _ref[_i];
          if (!c.can_be_destroyed()) {
            return false;
          }
        }
        if (!this.pan_mana.allow_destruction(data)) {
          return false;
        }
        return true;
      }
    };
    if ((_ref = data.children) != null ? _ref.length : void 0) {
      for (num_ci = _i = 0, _ref1 = data.children.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; num_ci = 0 <= _ref1 ? ++_i : --_i) {
        ch = this._make_graph_rec(lst, data.children[num_ci], border_size, orig);
        repr.children.push(ch);
        ch.parent = repr;
        ch.num_in_p = num_ci;
      }
      if (repr.children.length) {
        for (n = _j = 0, _ref2 = repr.children.length - 1; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; n = 0 <= _ref2 ? ++_j : --_j) {
          repr.children[n].d_border = repr.sep_norm;
        }
      }
    }
    lst.push(repr);
    return repr;
  };

  LayoutManagerData.prototype._make_sizes = function(repr, p_min, p_max) {
    var c, child, con, d, end, i, m, n, n_max, n_min, num_ci, pos, s, sep, sum, tot, _i, _j, _k, _l, _len, _ref, _ref1, _ref2, _ref3, _results;
    repr.p_min = p_min;
    repr.p_max = p_max;
    if (repr.children.length) {
      tot = p_max[repr.sep_norm] - p_min[repr.sep_norm];
      for (num_ci = _i = 0, _ref = repr.children.length - 1; 0 <= _ref ? _i < _ref : _i > _ref; num_ci = 0 <= _ref ? ++_i : --_i) {
        tot -= repr.children[num_ci].border_s;
      }
      sum = 0;
      _ref1 = repr.children;
      for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
        c = _ref1[_j];
        sum += c.strength;
      }
      con = (function() {
        var _k, _len1, _ref2, _results;
        _ref2 = repr.children;
        _results = [];
        for (_k = 0, _len1 = _ref2.length; _k < _len1; _k++) {
          i = _ref2[_k];
          _results.push(0);
        }
        return _results;
      })();
      sep = (function() {
        var _k, _len1, _ref2, _results;
        _ref2 = repr.children;
        _results = [];
        for (_k = 0, _len1 = _ref2.length; _k < _len1; _k++) {
          i = _ref2[_k];
          _results.push(0);
        }
        return _results;
      })();
      while (true) {
        end = true;
        for (n = _k = 0, _ref2 = repr.children.length; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; n = 0 <= _ref2 ? ++_k : --_k) {
          if (con[n]) {
            continue;
          }
          child = repr.children[n];
          s = child.strength;
          if (!(repr.sep_norm != null)) {
            alert("sep_norm is not defined");
          }
          d = Math.round(tot * s / sum);
          m = child.min_by(repr.sep_norm);
          if (d < m) {
            d = m;
            tot -= m;
            end = false;
            con[n] = 1;
            sum -= s;
          }
          m = child.max_by(repr.sep_norm);
          if (d > m) {
            d = m;
            tot -= m;
            end = false;
            con[n] = 1;
            sum -= s;
          }
          sep[n] = d;
        }
        if (end) {
          break;
        }
      }
      pos = p_min[repr.sep_norm];
      _results = [];
      for (num_ci = _l = 0, _ref3 = repr.children.length; 0 <= _ref3 ? _l < _ref3 : _l > _ref3; num_ci = 0 <= _ref3 ? ++_l : --_l) {
        n_min = [p_min[0], p_min[1]];
        n_max = [p_max[0], p_max[1]];
        n_min[repr.sep_norm] = pos;
        n_max[repr.sep_norm] = pos + sep[num_ci];
        this._make_sizes(repr.children[num_ci], n_min, n_max);
        _results.push(pos += sep[num_ci] + repr.children[num_ci].border_s);
      }
      return _results;
    }
  };

  LayoutManagerData.prototype._id_in_data_rec = function(cur, id) {
    var chi, _i, _len, _ref, _ref1;
    if ((_ref = cur.panel_id) != null ? _ref.equals(id) : void 0) {
      return true;
    }
    if (cur.children != null) {
      _ref1 = cur.children;
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        chi = _ref1[_i];
        if (this._id_in_data_rec(chi, id)) {
          return true;
        }
      }
    }
    return false;
  };

  LayoutManagerData.prototype._find_new_panel_id = function(lst) {
    var trial, txt;
    if (lst == null) {
      lst = [];
    }
    trial = 0;
    while (true) {
      txt = "id_" + trial;
      if (lst.indexOf(txt) < 0 && LayoutManagerData._used_panel_id.indexOf(txt) < 0 && !this._id_in_data_rec(this.root, txt)) {
        LayoutManagerData._used_panel_id.push(txt);
        return txt;
      }
      trial += 1;
    }
  };

  LayoutManagerData.prototype._assign_default_values = function(cur) {
    var chi, _i, _len, _ref, _results;
    if (!(cur.panel_id != null)) {
      cur.add_attr({
        panel_id: new Str(this._find_new_panel_id([]))
      });
    }
    if (!(cur.strength != null)) {
      cur.add_attr({
        strength: 1
      });
    }
    if (cur.children != null) {
      _ref = cur.children;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        chi = _ref[_i];
        _results.push(this._assign_default_values(chi));
      }
      return _results;
    }
  };

  LayoutManagerData.prototype._get_panel_id_of_term_panels = function(res, data) {
    var c, _i, _len, _ref, _ref1, _results;
    if ((_ref = data.children) != null ? _ref.length : void 0) {
      _ref1 = data.children;
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        c = _ref1[_i];
        _results.push(this._get_panel_id_of_term_panels(res, c));
      }
      return _results;
    } else {
      return res.push(data.panel_id.get());
    }
  };

  LayoutManagerData.prototype._get_panel_ids = function(res, data) {
    var c, _i, _len, _ref, _ref1, _results;
    res.push(data.panel_id.get());
    if ((_ref = data.children) != null ? _ref.length : void 0) {
      _ref1 = data.children;
      _results = [];
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        c = _ref1[_i];
        _results.push(this._get_panel_ids(res, c));
      }
      return _results;
    }
  };

  return LayoutManagerData;

})(Model);
// Generated by CoffeeScript 1.4.0
var Color,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Color = (function(_super) {

  __extends(Color, _super);

  function Color(r, g, b, a) {
    if (r == null) {
      r = 0;
    }
    if (g == null) {
      g = 0;
    }
    if (b == null) {
      b = 0;
    }
    if (a == null) {
      a = 255;
    }
    Color.__super__.constructor.call(this);
    this.add_attr({
      r: new ConstrainedVal(r, {
        min: 0,
        max: 255,
        div: 255
      }),
      g: new ConstrainedVal(g, {
        min: 0,
        max: 255,
        div: 255
      }),
      b: new ConstrainedVal(b, {
        min: 0,
        max: 255,
        div: 255
      }),
      a: new ConstrainedVal(a, {
        min: 0,
        max: 255,
        div: 255
      })
    });
  }

  Color.prototype.to_hex = function() {
    return "#" + Color._ts(this.r) + Color._ts(this.g) + Color._ts(this.b);
  };

  Color.prototype.to_rgba = function() {
    return "rgba(" + (this.r.get()) + ", " + (this.g.get()) + ", " + (this.b.get()) + ", " + (this.a.get()) + ")";
  };

  Color.prototype.to_hsv = function() {
    return Color.rgb_to_hsv(this.r.get(), this.g.get(), this.b.get());
  };

  Color.prototype._set = function(val) {
    if (val instanceof Color) {
      this.r.set(val.r);
      this.g.set(val.g);
      this.b.set(val.b);
      return this.a.set(val.a);
    } else if (typeof val === 'string' && val[0] === "#") {
      if (val.length === 4) {
        this.r.set("0x" + val.slice(1, 2) + val.slice(1, 2));
        this.g.set("0x" + val.slice(2, 3) + val.slice(2, 3));
        this.b.set("0x" + val.slice(3, 4) + val.slice(3, 4));
        return this.a.set(255);
      } else if (val.length === 7) {
        this.r.set("0x" + val.slice(1, 3));
        this.g.set("0x" + val.slice(3, 5));
        this.b.set("0x" + val.slice(5, 7));
        return this.a.set(255);
      } else {
        return console.error("get color " + val);
      }
    } else {
      return console.error("get color " + val);
    }
  };

  Color.rgb_to_hsv = function(r, g, b) {
    var del, h, max, min, s;
    r /= 255.0;
    g /= 255.0;
    b /= 255.0;
    min = Math.min(r, g, b);
    max = Math.max(r, g, b);
    del = max - min;
    if (max) {
      s = del / max;
    } else {
      return [0, 0, 0];
    }
    del += !del;
    if (r === max) {
      h = (g - b) / del;
    } else if (g === max) {
      h = 2 + (b - r) / del;
    } else {
      h = 4 + (r - g) / del;
    }
    h *= 60.0 / 360.0;
    if (h < 0) {
      h += 1;
    }
    return [h, s, max];
  };

  Color.hsv_to_rgb = function(h, s, v) {
    var f, i, m, n;
    h *= 6;
    i = Math.floor(h);
    f = h - i;
    if (!(i & 1)) {
      f = 1 - f;
    }
    m = Math.round(255 * v * (1 - s));
    n = Math.round(255 * v * (1 - s * f));
    v = Math.round(255 * v);
    switch (i) {
      case 1:
        return [n, v, m];
      case 2:
        return [m, v, n];
      case 3:
        return [m, n, v];
      case 4:
        return [n, m, v];
      case 5:
        return [v, m, n];
      default:
        return [v, n, m];
    }
  };

  Color._ts = function(v) {
    var r;
    r = v.get().toString(16);
    if (r.length === 1) {
      r = "0" + r;
    }
    return r;
  };

  return Color;

})(Model);
// Generated by CoffeeScript 1.4.0
var Gradient,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Gradient = (function(_super) {

  __extends(Gradient, _super);

  function Gradient(predef) {
    Gradient.__super__.constructor.call(this);
    this.add_attr({
      color_stop: []
    });
    if (predef === "b2w") {
      this.add_color([255, 0, 0, 255], 0);
      this.add_color([0, 255, 0, 255], 0);
      this.add_color([0, 0, 255, 255], 1);
    }
  }

  Gradient.prototype.add_color = function(color, position) {
    if (color == null) {
      color = [0, 0, 0, 255];
    }
    if (position == null) {
      position = 0;
    }
    return this.color_stop.push({
      color: new Color(color[0], color[1], color[2], color[3]),
      position: position
    });
  };

  Gradient.prototype.remove_color = function(position) {
    return this.color_stop.splice(position, 1);
  };

  Gradient.prototype.get_fragment_shader = function(v, m, n) {
    var col, dc, fs, _i, _ref;
    if (m == null) {
      m = "";
    }
    if (n == null) {
      n = "";
    }
    dc = (function() {
      var _i, _len, _ref, _results;
      _ref = this.color_stop;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        col = _ref[_i];
        _results.push([col.position.get(), col.color.r.get() / 255.0, col.color.g.get() / 255.0, col.color.b.get() / 255.0, col.color.a.get() / 255.0]);
      }
      return _results;
    }).call(this);
    dc.sort(function(a, b) {
      return a[0] - b[0];
    });
    fs = "precision mediump float;";
    fs += "varying float " + v + ";";
    if (n.length) {
      fs += "varying vec3 " + n + ";";
    }
    if (m.length) {
      fs += "uniform vec4 " + m + ";";
    }
    fs += "void main( void ) {";
    if (n.length) {
      fs += "    float cm = abs( " + n + "[ 2 ] );";
    } else {
      fs += "    float cm = 1.0;";
    }
    for (col = _i = 1, _ref = dc.length; 1 <= _ref ? _i < _ref : _i > _ref; col = 1 <= _ref ? ++_i : --_i) {
      if (m.length) {
        fs += "                    if ( " + v + " <= float( " + dc[col - 0][0] + " ) ) {\n                        vec4 c1 = vec4( " + m + ".r * float( " + dc[col - 0][1] + " ), " + m + ".g * float( " + dc[col - 0][2] + " ), " + m + ".b * float( " + dc[col - 0][3] + " ), " + m + ".a * float( " + dc[col - 0][4] + " ) );\n                        vec4 c0 = vec4( " + m + ".r * float( " + dc[col - 1][1] + " ), " + m + ".g * float( " + dc[col - 1][2] + " ), " + m + ".b * float( " + dc[col - 1][3] + " ), " + m + ".a * float( " + dc[col - 1][4] + " ) );\n                        gl_FragColor = c0 + ( c1 - c0 ) * ( " + v + " - float( " + dc[col - 1][0] + " ) ) / ( float( " + dc[col - 0][0] + " ) - float( " + dc[col - 1][0] + " ) );\n                        gl_FragColor.r *= cm; gl_FragColor.g *= cm; gl_FragColor.b *= cm;\n                        return;\n                    }\n                ";
      } else {
        fs += "                    if ( " + v + " <= float( " + dc[col - 0][0] + " ) ) {\n                        vec4 c0 = vec4( " + dc[col - 1][1] + ", " + dc[col - 1][2] + ", " + dc[col - 1][3] + ", " + dc[col - 1][4] + " );\n                        vec4 c1 = vec4( " + dc[col - 0][1] + ", " + dc[col - 0][2] + ", " + dc[col - 0][3] + ", " + dc[col - 0][4] + " );\n                        gl_FragColor = c0 + ( c1 - c0 ) * ( " + v + " - float( " + dc[col - 1][0] + " ) ) / ( float( " + dc[col - 0][0] + " ) - float( " + dc[col - 1][0] + " ) );\n                        gl_FragColor.r *= cm; gl_FragColor.g *= cm; gl_FragColor.b *= cm;\n                        return;\n                    }\n                ";
      }
    }
    return fs + "                gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n            }\n        ";
  };

  Gradient.prototype.get_color_from_pos = function(position) {
    var c, col_a, col_b, col_g, col_r, factor, i, ind_color_stop, last_ind, size_of_interval, size_of_new_interval, _i, _len, _ref;
    ind_color_stop = [];
    _ref = this.color_stop;
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      c = _ref[i];
      if (c.position.get() >= position) {
        if (i === 0) {
          return [this.color_stop[0].color.r.get(), this.color_stop[0].color.g.get(), this.color_stop[0].color.b.get(), this.color_stop[0].color.a.get()];
        } else {
          ind_color_stop.push(i - 1);
          ind_color_stop.push(i);
        }
        break;
      }
    }
    if (ind_color_stop.length === 0) {
      last_ind = this.color_stop.length - 1;
      return [this.color_stop[last_ind].color.r.get(), this.color_stop[last_ind].color.g.get(), this.color_stop[last_ind].color.b.get(), this.color_stop[last_ind].color.a.get()];
    }
    size_of_interval = Math.abs(this.color_stop[ind_color_stop[1]].position.get() - this.color_stop[ind_color_stop[0]].position.get());
    size_of_new_interval = Math.abs(this.color_stop[ind_color_stop[0]].position.get() - position);
    factor = size_of_interval / size_of_new_interval;
    col_r = this.color_stop[ind_color_stop[0]].color.r.get() - Math.round((Math.abs(this.color_stop[ind_color_stop[1]].color.r.get() - this.color_stop[ind_color_stop[0]].color.r.get())) / factor);
    col_g = this.color_stop[ind_color_stop[0]].color.g.get() - Math.round((Math.abs(this.color_stop[ind_color_stop[1]].color.g.get() - this.color_stop[ind_color_stop[0]].color.g.get())) / factor);
    col_b = this.color_stop[ind_color_stop[0]].color.b.get() - Math.round((Math.abs(this.color_stop[ind_color_stop[1]].color.b.get() - this.color_stop[ind_color_stop[0]].color.b.get())) / factor);
    col_a = this.color_stop[ind_color_stop[0]].color.a.get() - Math.round((Math.abs(this.color_stop[ind_color_stop[1]].color.a.get() - this.color_stop[ind_color_stop[0]].color.a.get())) / factor);
    return [col_r, col_g, col_b, col_a];
  };

  return Gradient;

})(Model);
// Generated by CoffeeScript 1.4.0
var StrLanguage,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

StrLanguage = (function(_super) {

  __extends(StrLanguage, _super);

  function StrLanguage(value, language, callback) {
    if (value == null) {
      value = "";
    }
    if (language == null) {
      language = "text";
    }
    if (callback == null) {
      callback = void 0;
    }
    StrLanguage.__super__.constructor.call(this);
    this.add_attr({
      value: new Str(value),
      language: language,
      callback: callback
    });
  }

  StrLanguage.prototype.get = function() {
    return this.value.get();
  };

  StrLanguage.prototype.set = function(val) {
    return this.value.set(val);
  };

  StrLanguage.prototype.get_language = function() {
    return this.language.get();
  };

  return StrLanguage;

})(Model);
// Generated by CoffeeScript 1.4.0
var root,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

root = typeof _root_obj === "undefined" ? global : window;

root.Button = (function(_super) {

  __extends(Button, _super);

  function Button(label_off, label_on, state, disabled) {
    if (label_off == null) {
      label_off = "Submit";
    }
    if (label_on == null) {
      label_on = label_off;
    }
    if (state == null) {
      state = false;
    }
    if (disabled == null) {
      disabled = false;
    }
    Button.__super__.constructor.call(this);
    this.add_attr({
      disabled: disabled,
      state: state,
      label: [label_off, label_on]
    });
  }

  Button.prototype.get = function() {
    return this.state.get();
  };

  Button.prototype.txt = function() {
    return this.label[this.state.get() * 1];
  };

  Button.prototype.equals = function(a) {
    return this.state.equals(a);
  };

  Button.prototype._set = function(state) {
    if (this.change_allowed(state)) {
      return this.state.set(state);
    }
  };

  Button.prototype.toggle = function() {
    return this.set(!this.get());
  };

  Button.prototype.change_allowed = function(state) {
    return 1;
  };

  return Button;

})(Model);
// Generated by CoffeeScript 1.4.0
var Vec_3,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Vec_3 = (function(_super) {

  __extends(Vec_3, _super);

  function Vec_3() {
    return Vec_3.__super__.constructor.apply(this, arguments);
  }

  Vec_3.prototype.static_length = function() {
    return 3;
  };

  Vec_3.sub = function(a, b) {
    return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];
  };

  Vec_3.add = function(a, b) {
    return [a[0] + b[0], a[1] + b[1], a[2] + b[2]];
  };

  Vec_3.mul = function(a, b) {
    return [a[0] * b[0], a[1] * b[1], a[2] * b[2]];
  };

  Vec_3.div = function(a, b) {
    return [a[0] / b[0], a[1] / b[1], a[2] / b[2]];
  };

  Vec_3.mus = function(a, b) {
    return [a * b[0], a * b[1], a * b[2]];
  };

  Vec_3.dis = function(a, b) {
    return [a[0] / b, a[1] / b, a[2] / b];
  };

  Vec_3.ads = function(a, b) {
    return [a + b[0], a + b[1], a + b[2]];
  };

  Vec_3.dot = function(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  };

  Vec_3.cro = function(a, b) {
    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];
  };

  Vec_3.min = function(a) {
    return [-a[0], -a[1], -a[2]];
  };

  Vec_3.len = function(a) {
    return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);
  };

  Vec_3.nor = function(a) {
    var l;
    l = Vec_3.len(a) + 1e-40;
    return [a[0] / l, a[1] / l, a[2] / l];
  };

  Vec_3.dist = function(a, b) {
    return Math.sqrt((Math.pow(a[0] - b[0], 2)) + (Math.pow(a[1] - b[1], 2)) + (Math.pow(a[2] - b[2], 2)));
  };

  Vec_3.equ = function(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  };

  Vec_3.rot = function(V, R) {
    var a, c, s, x, y, z;
    a = Vec_3.len(R) + 1e-40;
    x = R[0] / a;
    y = R[1] / a;
    z = R[2] / a;
    c = Math.cos(a);
    s = Math.sin(a);
    return [(x * x + (1 - x * x) * c) * V[0] + (x * y * (1 - c) - z * s) * V[1] + (x * z * (1 - c) + y * s) * V[2], (y * x * (1 - c) + z * s) * V[0] + (y * y + (1 - y * y) * c) * V[1] + (y * z * (1 - c) - x * s) * V[2], (z * x * (1 - c) - y * s) * V[0] + (z * y * (1 - c) + x * s) * V[1] + (z * z + (1 - z * z) * c) * V[2]];
  };

  Vec_3.sm = function(x, t) {
    return [x[0] * t, x[1] * t, x[2] * t];
  };

  Vec_3.determinant = function(a) {
    var d, i, j, j1, m, n, _i;
    n = a.length;
    if (n === 1) {
      return a[0][0];
    } else if (n === 2) {
      return a[0][0] * a[1][1] - a[1][0] * a[0][1];
    } else {
      d = 0;
      for (j1 = _i = 0; 0 <= n ? _i < n : _i > n; j1 = 0 <= n ? ++_i : --_i) {
        m = (function() {
          var _j, _results;
          _results = [];
          for (i = _j = 1; 1 <= n ? _j < n : _j > n; i = 1 <= n ? ++_j : --_j) {
            _results.push((function() {
              var _k, _results1;
              _results1 = [];
              for (j = _k = 0; 0 <= n ? _k < n : _k > n; j = 0 <= n ? ++_k : --_k) {
                if (j !== j1) {
                  _results1.push(a[i][j]);
                }
              }
              return _results1;
            })());
          }
          return _results;
        })();
        d += Math.pow(-1.0, j1) * a[0][j1] * Vec_3.determinant(m);
      }
      return d;
    }
  };

  Vec_3.solve = function(M, B) {
    var c, d, i, j, m, n, r, _i, _j, _k, _results;
    n = B.length;
    if (M[0].length != null) {
      d = Vec_3.determinant(M);
      if (M[0].length !== n) {
        console.log("pb with solve args");
      }
      m = (function() {
        var _i, _results;
        _results = [];
        for (i = _i = 0; 0 <= n ? _i < n : _i > n; i = 0 <= n ? ++_i : --_i) {
          _results.push((function() {
            var _j, _results1;
            _results1 = [];
            for (j = _j = 0; 0 <= n ? _j < n : _j > n; j = 0 <= n ? ++_j : --_j) {
              _results1.push(0.0);
            }
            return _results1;
          })());
        }
        return _results;
      })();
      _results = [];
      for (i = _i = 0; 0 <= n ? _i < n : _i > n; i = 0 <= n ? ++_i : --_i) {
        for (r = _j = 0; 0 <= n ? _j < n : _j > n; r = 0 <= n ? ++_j : --_j) {
          for (c = _k = 0; 0 <= n ? _k < n : _k > n; c = 0 <= n ? ++_k : --_k) {
            if (c === i) {
              m[r][c] = B[r];
            } else {
              m[r][c] = M[r][c];
            }
          }
        }
        _results.push(Vec_3.determinant(m) / d);
      }
      return _results;
    } else {
      m = (function() {
        var _l, _results1;
        _results1 = [];
        for (i = _l = 0; 0 <= n ? _l < n : _l > n; i = 0 <= n ? ++_l : --_l) {
          _results1.push((function() {
            var _m, _results2;
            _results2 = [];
            for (j = _m = 0; 0 <= n ? _m < n : _m > n; j = 0 <= n ? ++_m : --_m) {
              _results2.push(M[n * j + i]);
            }
            return _results2;
          })());
        }
        return _results1;
      })();
      return Vec_3.solve(m, B);
    }
  };

  return Vec_3;

})(Vec);
// Generated by CoffeeScript 1.4.0
var UndoManager;

UndoManager = (function() {

  function UndoManager(model) {
    this.model = model;
    this.max_patchs = 3;
    this.patch_undo = [];
    this.patch_redo = [];
    this.snapshotok = true;
  }

  UndoManager.prototype.snapshot = function(force) {
    var date, dma, l, lst_0, lst_1, map, mid, mid_0, mid_1, n_data, s, _i, _j, _len, _len1,
      _this = this;
    if (force == null) {
      force = false;
    }
    if (this.snapshotok || force) {
      this.snapshotok = false;
      date = this._date_last_snapshot();
      if (this.model._date_last_modification > date) {
        this.patch_redo = [];
        this.patch_undo.push({
          date: Model._counter,
          data: this.model.get_state(date)
        });
      }
      if (this.patch_undo.length > this.max_patchs) {
        lst_0 = this.patch_undo[0].data.split("\n");
        lst_1 = this.patch_undo[1].data.split("\n");
        mid_0 = lst_0.shift();
        mid_1 = lst_1.shift();
        if (mid_0 !== mid_1) {
          console.log("weird");
        }
        map = {};
        for (_i = 0, _len = lst_0.length; _i < _len; _i++) {
          l = lst_0[_i];
          if (!l.length) {
            continue;
          }
          s = l.split(" ");
          map[s[0]] = {
            type: s[1],
            data: s[2]
          };
        }
        n_data = "";
        for (_j = 0, _len1 = lst_1.length; _j < _len1; _j++) {
          l = lst_1[_j];
          if (!l.length) {
            continue;
          }
          s = l.split(" ");
          delete map[s[0]];
        }
        for (mid in map) {
          dma = map[mid];
          this.patch_undo[1].data += "\n" + mid + " " + dma.type + " " + dma.data;
        }
        this.patch_undo.shift();
      }
    }
    if (this._timer_snap != null) {
      clearTimeout(this._timer_snap);
    }
    return this._timer_snap = setTimeout((function() {
      return _this.snapshotok = true;
    }), 250);
  };

  UndoManager.prototype.undo = function(num) {
    var n, _i;
    if (num == null) {
      num = 1;
    }
    this.snapshot(true);
    num = Math.min(num, this.patch_undo.length - 1);
    if (num > 0) {
      for (n = _i = 0; 0 <= num ? _i < num : _i > num; n = 0 <= num ? ++_i : --_i) {
        this.patch_redo.push(this.patch_undo.pop());
      }
      return this._set_state_undo_list();
    }
  };

  UndoManager.prototype.redo = function(num) {
    var date, n, _i;
    if (num == null) {
      num = 1;
    }
    date = this._date_last_snapshot();
    if (this.model._date_last_modification > date) {
      this.patch_redo = [];
    }
    num = Math.min(num, this.patch_redo.length);
    if (num > 0) {
      for (n = _i = 0; 0 <= num ? _i < num : _i > num; n = 0 <= num ? ++_i : --_i) {
        this.patch_undo.push(this.patch_redo.pop());
      }
      return this._set_state_undo_list();
    }
  };

  UndoManager.prototype._set_state_undo_list = function() {
    var l, lst, map, p, s, _i, _j, _len, _len1, _ref;
    map = {};
    _ref = this.patch_undo;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      p = _ref[_i];
      lst = p.data.split("\n");
      lst.shift();
      for (_j = 0, _len1 = lst.length; _j < _len1; _j++) {
        l = lst[_j];
        if (!l.length) {
          continue;
        }
        s = l.split(" ");
        map[s[0]] = {
          type: s[1],
          data: s[2],
          buff: void 0
        };
      }
    }
    this.model._set_state(map[this.model.model_id].data, map);
    if (this.patch_undo.length) {
      return this.patch_undo[this.patch_undo.length - 1].date = Model._counter + 2;
    }
  };

  UndoManager.prototype._date_last_snapshot = function() {
    if (this.patch_undo.length) {
      return this.patch_undo[this.patch_undo.length - 1].date;
    }
    return -1;
  };

  return UndoManager;

})();
// Generated by CoffeeScript 1.4.0
var PointTheme,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

PointTheme = (function(_super) {

  __extends(PointTheme, _super);

  function PointTheme(color, width, line_color, line_width) {
    if (color == null) {
      color = new Color(255, 255, 255, 255);
    }
    if (width == null) {
      width = 5;
    }
    if (line_color == null) {
      line_color = new Color(200, 200, 200, 255);
    }
    if (line_width == null) {
      line_width = 1;
    }
    PointTheme.__super__.constructor.call(this);
    this.add_attr({
      color: color,
      width: width,
      line_color: line_color,
      line_width: line_width
    });
  }

  PointTheme.prototype.beg_ctx = function(info) {
    var ctx;
    ctx = info.ctx_2d();
    ctx.fillStyle = this.color.to_rgba();
    ctx.lineWidth = this.line_width.get();
    return ctx.strokeStyle = this.line_color.to_rgba();
  };

  PointTheme.prototype.end_ctx = function(info) {};

  PointTheme.prototype.draw_proj = function(info, proj) {
    var ctx;
    ctx = info.ctx_2d();
    ctx.beginPath();
    ctx.arc(proj[0], proj[1], this.width.get(), 0, Math.PI * 2, true);
    ctx.fill();
    return ctx.stroke();
  };

  return PointTheme;

})(Model);
// Generated by CoffeeScript 1.4.0
var LineTheme,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

LineTheme = (function(_super) {

  __extends(LineTheme, _super);

  function LineTheme(color, width) {
    if (color == null) {
      color = new Color(255, 255, 255, 255);
    }
    if (width == null) {
      width = 2;
    }
    LineTheme.__super__.constructor.call(this);
    this.add_attr({
      color: color,
      width: width
    });
  }

  LineTheme.prototype.beg_ctx = function(info) {
    var fs, gl, vs;
    if (info.ctx_type === "2d") {
      info.ctx.lineWidth = this.width.get();
      return info.ctx.strokeStyle = this.color.to_rgba();
    } else {
      vs = "                precision mediump float;\n                attribute vec3 a_position;\n                uniform vec4 u_color;\n                uniform float w;\n                uniform float h;\n                void main( void ) {\n                    gl_Position = vec4( \n                        2.0 * a_position[ 0 ] / w - 1.0,\n                        1.0 - 2.0 * a_position[ 1 ] / h,\n                        a_position[ 2 ] - 1e-5,\n                        1.0 );\n                }\n            ";
      fs = "                precision mediump float;\n                uniform vec4 u_color;\n                void main( void ) {\n                    gl_FragColor = u_color;\n                }\n            ";
      gl = info.ctx;
      this.ps = info.cm.gl_prog(vs, fs);
      gl.useProgram(this.ps);
      this.ps.aposAttrib = gl.getAttribLocation(this.ps, "a_position");
      gl.enableVertexAttribArray(this.ps.aposAttrib);
      this.ps.colorUniform = gl.getUniformLocation(this.ps, "u_color");
      this.ps.wUniform = gl.getUniformLocation(this.ps, "w");
      return this.ps.hUniform = gl.getUniformLocation(this.ps, "h");
    }
  };

  LineTheme.prototype.end_ctx = function(info) {};

  LineTheme.prototype.draw_straight_proj = function(info, p0, p1) {
    var gl, ibuf, idx, initBuffer, vbuf, vtx;
    if (info.ctx_type === "2d") {
      info.ctx.beginPath();
      this.contour_straight_proj(info, p0, p1);
      return info.ctx.stroke();
    } else {
      gl = info.ctx;
      vtx = new Float32Array([p0[0], p0[1], p0[2], p1[0], p1[1], p1[2]]);
      idx = new Uint16Array([0, 1]);
      initBuffer = function(glELEMENT_ARRAY_BUFFER, data) {
        var buf;
        buf = gl.createBuffer();
        gl.bindBuffer(glELEMENT_ARRAY_BUFFER, buf);
        gl.bufferData(glELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);
        return buf;
      };
      vbuf = initBuffer(gl.ARRAY_BUFFER, vtx);
      ibuf = initBuffer(gl.ELEMENT_ARRAY_BUFFER, idx);
      gl.vertexAttribPointer(this.ps.aposAttrib, 3, gl.FLOAT, false, 0, 0);
      gl.lineWidth(this.width.get());
      gl.uniform4f(this.ps.colorUniform, this.color.r.get() / 255, this.color.g.get() / 255, this.color.b.get() / 255, this.color.a.get() / 255);
      gl.uniform1f(this.ps.wUniform, info.w);
      gl.uniform1f(this.ps.hUniform, info.h);
      gl.drawElements(gl.LINES, 2, gl.UNSIGNED_SHORT, 0);
      gl.bindBuffer(gl.ARRAY_BUFFER, null);
      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
      gl.deleteBuffer(vbuf);
      return gl.deleteBuffer(ibuf);
    }
  };

  LineTheme.prototype.contour_straight_proj = function(info, p0, p1, beg) {
    if (beg == null) {
      beg = true;
    }
    if (beg) {
      info.ctx.moveTo(p0[0], p0[1]);
    }
    return info.ctx.lineTo(p1[0], p1[1]);
  };

  LineTheme.prototype.draw_arc = function(info, P0, P1, P2) {
    if (info.ctx_type === "2d") {
      info.ctx.beginPath();
      this.contour_arc(info, P0, P1, P2);
      return info.ctx.stroke();
    } else {
      return this.contour_arc(info, P0, P1, P2);
    }
  };

  LineTheme.prototype.contour_arc = function(info, P0, P1, P2, beg) {
    var a, ai, cr, gl, ibuf, idx, initBuffer, ls, n, p, pt, rca, rsa, vbuf, vtx, _i, _ref;
    if (beg == null) {
      beg = true;
    }
    cr = this._get_center_radius(P0, P1, P2);
    n = Math.ceil(Math.abs(cr.a[2] - cr.a[0]) / 0.1);
    pt = [];
    ls = [];
    for (ai = _i = _ref = 1 - beg; _ref <= n ? _i <= n : _i >= n; ai = _ref <= n ? ++_i : --_i) {
      a = cr.a[0] + (cr.a[2] - cr.a[0]) * ai / n;
      rca = cr.R * Math.cos(a);
      rsa = cr.R * Math.sin(a);
      p = info.re_2_sc.proj([cr.C[0] + rca * cr.P01[0] + rsa * cr.P02[0], cr.C[1] + rca * cr.P01[1] + rsa * cr.P02[1], cr.C[2] + rca * cr.P01[2] + rsa * cr.P02[2]]);
      if (info.ctx_type === "2d") {
        if (ai) {
          info.ctx.lineTo(p[0], p[1]);
        } else {
          info.ctx.moveTo(p[0], p[1]);
        }
      } else {
        pt.push(p[0]);
        pt.push(p[1]);
        pt.push(p[2]);
        if (ai) {
          ls.push(ai - 1);
          ls.push(ai - 0);
        }
      }
    }
    if (info.ctx_type !== "2d") {
      gl = info.ctx;
      vtx = new Float32Array(pt);
      idx = new Uint16Array(ls);
      initBuffer = function(glELEMENT_ARRAY_BUFFER, data) {
        var buf;
        buf = gl.createBuffer();
        gl.bindBuffer(glELEMENT_ARRAY_BUFFER, buf);
        gl.bufferData(glELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);
        return buf;
      };
      vbuf = initBuffer(gl.ARRAY_BUFFER, vtx);
      ibuf = initBuffer(gl.ELEMENT_ARRAY_BUFFER, idx);
      gl.vertexAttribPointer(this.ps.aposAttrib, 3, gl.FLOAT, false, 0, 0);
      gl.lineWidth(this.width.get());
      gl.uniform4f(this.ps.colorUniform, this.color.r.get() / 255, this.color.g.get() / 255, this.color.b.get() / 255, this.color.a.get() / 255);
      gl.uniform1f(this.ps.wUniform, info.w);
      gl.uniform1f(this.ps.hUniform, info.h);
      gl.drawElements(gl.LINES, ls.length, gl.UNSIGNED_SHORT, 0);
      gl.bindBuffer(gl.ARRAY_BUFFER, null);
      return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
    }
  };

  LineTheme.prototype.draw_interpolated_arcs = function(info, points) {
    if (points.length === 3) {
      return this.draw_arc(info, points[0], points[1], points[2]);
    }
    info.ctx.beginPath();
    this.contour_interpolated_arcs(info, points);
    return info.ctx.stroke();
  };

  LineTheme.prototype.contour_interpolated_arcs = function(info, points, beg) {
    var a0, a1, alpha, ar, i, n, nr, p, p0, p1, pr, res, _i, _j, _k, _l, _ref, _results;
    if (beg == null) {
      beg = true;
    }
    if (points.length === 3) {
      return this.contour_arc(info, points[0], points[1], points[2]);
    }
    res = (function() {
      var _i, _ref, _results;
      _results = [];
      for (i = _i = 0, _ref = points.length - 2; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        _results.push(this._get_center_radius(points[i], points[i + 1], points[i + 2]));
      }
      return _results;
    }).call(this);
    p = info.re_2_sc.proj(points[0]);
    if (beg) {
      info.ctx.moveTo(p[0], p[1]);
    }
    for (n = _i = 1; _i <= 30; n = ++_i) {
      alpha = n / 30.0;
      ar = res[0].a[0] + (res[0].a[1] - res[0].a[0]) * alpha;
      pr = this._get_proj_arc(info, res[0], ar);
      info.ctx.lineTo(pr[0], pr[1]);
    }
    for (i = _j = 0, _ref = points.length - 3; 0 <= _ref ? _j < _ref : _j > _ref; i = 0 <= _ref ? ++_j : --_j) {
      for (n = _k = 0; _k < 30; n = ++_k) {
        alpha = n / 30.0;
        a0 = res[i + 0].a[1] + (res[i + 0].a[2] - res[i + 0].a[1]) * alpha;
        a1 = res[i + 1].a[0] + (res[i + 1].a[1] - res[i + 1].a[0]) * alpha;
        p0 = this._get_proj_arc(info, res[i + 0], a0);
        p1 = this._get_proj_arc(info, res[i + 1], a1);
        pr = Vec_3.add(Vec_3.mus(1 - alpha, p0), Vec_3.mus(alpha, p1));
        info.ctx.lineTo(pr[0], pr[1]);
      }
    }
    nr = res.length - 1;
    _results = [];
    for (n = _l = 0; _l <= 30; n = ++_l) {
      alpha = n / 30.0;
      ar = res[nr].a[1] + (res[nr].a[2] - res[nr].a[1]) * alpha;
      pr = this._get_proj_arc(info, res[nr], ar);
      _results.push(info.ctx.lineTo(pr[0], pr[1]));
    }
    return _results;
  };

  LineTheme.prototype._get_center_radius = function(P0, P1, P2) {
    var C, P01, P02, R, a0, a1, a2, ma, res, x1, x2, xc, y2, yc;
    P01 = Vec_3.sub(P1, P0);
    P02 = Vec_3.sub(P2, P0);
    x1 = Vec_3.len(P01);
    P01 = Vec_3.mus(1 / x1, P01);
    x2 = Vec_3.dot(P02, P01);
    P02 = Vec_3.sub(P02, Vec_3.mus(x2, P01));
    y2 = Vec_3.len(P02);
    P02 = Vec_3.mus(1 / y2, P02);
    xc = x1 * 0.5;
    yc = (x2 * x2 + y2 * y2 - x2 * x1) / (2.0 * y2);
    C = Vec_3.add(Vec_3.add(P0, Vec_3.mus(xc, P01)), Vec_3.mus(yc, P02));
    R = Vec_3.len(Vec_3.sub(P0, C));
    a0 = Math.atan2(0 - yc, 0 - xc);
    a1 = Math.atan2(0 - yc, x1 - xc);
    a2 = Math.atan2(y2 - yc, x2 - xc);
    ma = 0.5 * (a0 + a2);
    if (Math.abs(a1 - ma) > Math.abs(a0 - ma)) {
      if (a2 < a0) {
        a2 += 2 * Math.PI;
      } else {
        a0 += 2 * Math.PI;
      }
    }
    ma = 0.5 * (a0 + a2);
    if (Math.abs(a1 - ma) > Math.abs(a0 - ma)) {
      a1 += 2 * Math.PI;
    }
    res = {
      xc: xc,
      yx: yc,
      C: C,
      R: R,
      a: [a0, a1, a2],
      P01: P01,
      P02: P02
    };
    return res;
  };

  LineTheme.prototype._get_proj_arc = function(info, arc_info, a) {
    var rca, rsa;
    rca = arc_info.R * Math.cos(a);
    rsa = arc_info.R * Math.sin(a);
    return info.re_2_sc.proj([arc_info.C[0] + rca * arc_info.P01[0] + rsa * arc_info.P02[0], arc_info.C[1] + rca * arc_info.P01[1] + rsa * arc_info.P02[1], arc_info.C[2] + rca * arc_info.P01[2] + rsa * arc_info.P02[2]]);
  };

  return LineTheme;

})(Model);
// Generated by CoffeeScript 1.4.0
var Theme,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Theme = (function(_super) {

  __extends(Theme, _super);

  function Theme() {
    Theme.__super__.constructor.call(this);
    this.add_attr({
      lines: new LineTheme(new Color(255, 255, 255, 255), 1),
      selected_lines: new LineTheme(new Color(200, 200, 100, 255), 1.5),
      points: new PointTheme(new Color(255, 255, 255, 255), 4, new Color(255, 255, 255, 255), 1),
      editable_points: new PointTheme(new Color(0, 255, 0, 255), 4, new Color(255, 255, 255, 255), 1),
      surfaces: new SurfaceTheme(new Color(150, 150, 150, 255)),
      selected_points: new PointTheme(new Color(255, 0, 0, 255), 4, new Color(255, 255, 255, 255), 1),
      highlighted_points: new PointTheme(new Color(0, 0, 0, 0), 5, new Color(255, 255, 0, 255), 1),
      selected_elements: new LineTheme(new Color(255, 0, 0, 255), 1),
      highlighted_elements: new LineTheme(new Color(255, 255, 0, 255), 1.5),
      constrain_boundary_displacement: new LineTheme(new Color(122, 0, 0, 255), 2),
      constrain_boundary_displacement_hover: new LineTheme(new Color(122, 0, 0, 255), 3),
      constrain_boundary_strain: new LineTheme(new Color(200, 100, 100, 255), 2),
      constrain_boundary_strain_hover: new LineTheme(new Color(200, 100, 100, 255), 3),
      constrain_boundary_pressure: new LineTheme(new Color(50, 0, 0, 255), 2),
      constrain_boundary_pressure_hover: new LineTheme(new Color(50, 0, 0, 255), 3),
      free_boundary: new LineTheme(new Color(0, 122, 0, 255), 2),
      free_boundary_hover: new LineTheme(new Color(0, 122, 0, 255), 3),
      gradient_legend: new Gradient,
      anim_delay: 300,
      zoom_factor: 5
    });
    this.gradient_legend.add_color([255, 255, 255, 255], 0);
    this.gradient_legend.add_color([0, 0, 0, 255], 1);
  }

  return Theme;

})(Model);
// Generated by CoffeeScript 1.4.0
var SurfaceTheme,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SurfaceTheme = (function(_super) {

  __extends(SurfaceTheme, _super);

  function SurfaceTheme(color) {
    if (color == null) {
      color = new Color(200, 200, 200, 255);
    }
    SurfaceTheme.__super__.constructor.call(this);
    this.add_attr({
      color: color
    });
  }

  SurfaceTheme.prototype.beg_ctx = function(info) {
    if (info.ctx_type === "2d") {
      info.ctx.fillStyle = this.color.to_rgba();
      return info.ctx.strokeStyle = this.color.to_rgba();
    }
  };

  SurfaceTheme.prototype.end_ctx = function(info) {};

  SurfaceTheme.prototype.draw = function(info, func) {
    info.ctx.beginPath();
    func(info);
    info.ctx.fill();
    return info.ctx.stroke();
  };

  SurfaceTheme.prototype.draw_triangle = function(info, p0, p1, p2, col) {
    var array, fs, gl, pcol, points, pos, ps, vs;
    if (col == null) {
      col = [0.9, 0.9, 0.9];
    }
    vs = "            precision mediump float;\n            attribute vec3 pos;\n            void main( void ) {\n                gl_Position = vec4( pos, 1.0 );\n            }\n        ";
    fs = "            precision mediump float;\n'           uniform vec4 col;\n            void main( void ) {\n                gl_FragColor = col;\n            }        ";
    ps = info.cm.gl_prog(vs, fs);
    gl = info.ctx;
    points = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, points);
    array = new Float32Array([2.0 * p0[0] / info.w - 1.0, 1.0 - 2.0 * p0[1] / info.h, p0[2], 2.0 * p1[0] / info.w - 1.0, 1.0 - 2.0 * p1[1] / info.h, p1[2], 2.0 * p2[0] / info.w - 1.0, 1.0 - 2.0 * p2[1] / info.h, p2[2]]);
    gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW);
    gl.useProgram(ps);
    pos = gl.getAttribLocation(ps, "pos");
    gl.enableVertexAttribArray(pos);
    pcol = gl.getUniformLocation(ps, "col");
    gl.uniform4f(pcol, col[0], col[1], col[2], 1.0);
    gl.bindBuffer(gl.ARRAY_BUFFER, points);
    gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 3);
    gl.deleteBuffer(points);
    gl.bindBuffer(gl.ARRAY_BUFFER, null);
    return gl.disableVertexAttribArray(pos);
  };

  return SurfaceTheme;

})(Model);
// Generated by CoffeeScript 1.4.0
var TypedArray,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TypedArray = (function(_super) {

  __extends(TypedArray, _super);

  function TypedArray(size, data) {
    var B;
    TypedArray.__super__.constructor.call(this);
    if (!(size != null)) {
      size = [];
    }
    if (!size.length) {
      size = [size];
    }
    this._size = size;
    if (!(data != null)) {
      B = this.base_type();
      data = new B(this.nb_items());
    }
    this._data = data;
  }

  TypedArray.prototype.base_type = function() {};

  TypedArray.prototype.dim = function() {
    return this._size.length;
  };

  TypedArray.prototype.size = function(d) {
    if (d != null) {
      return this._size[d];
    } else {
      return this._size;
    }
  };

  TypedArray.prototype.set_val = function(index, value) {
    index = this._get_index(index);
    if (this._data[index] !== value) {
      this._data[index] = value;
      return this._signal_change();
    }
  };

  TypedArray.prototype.nb_items = function() {
    var i, tot, _i, _len, _ref;
    tot = this._size[0] || 0;
    _ref = this._size.slice(1);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      tot *= i;
    }
    return tot;
  };

  TypedArray.prototype.toString = function() {
    var i, j, l, m, o, res, s, v, _i, _j, _len, _ref, _ref1;
    m = 1;
    res = "";
    l = (function() {
      var _i, _len, _ref, _results;
      _ref = this._size;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        s = _ref[_i];
        o = m;
        m *= s;
        _results.push(o);
      }
      return _results;
    }).call(this);
    _ref = this._data;
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      v = _ref[i];
      res += v;
      for (j = _j = _ref1 = l.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; j = _ref1 <= 0 ? ++_j : --_j) {
        if (i % l[j] === l[j] - 1) {
          res += [" ", "\n", "\n\n"][j];
          break;
        }
      }
    }
    return res;
  };

  TypedArray.prototype.equals = function(obj) {
    var i, v, _i, _len, _ref;
    if (obj instanceof TypedArray) {
      if (this._size.length !== obj._size.length) {
        return false;
      }
      _ref = this._size;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        v = _ref[i];
        if (v !== obj._size[i]) {
          return false;
        }
      }
      return this._data === obj._data;
    }
    return this._data === obj;
  };

  TypedArray.prototype.get = function(index) {
    if (index != null) {
      return this._data[this._get_index(index)];
    } else {
      return this._data;
    }
  };

  TypedArray.prototype.resize = function(new_size) {
    var B, n, s, tot, _i, _len;
    tot = 1;
    for (_i = 0, _len = new_size.length; _i < _len; _i++) {
      s = new_size[_i];
      tot *= s;
    }
    B = this.base_type();
    n = new B(tot);
    n.set(this._data);
    this._data = n;
    this._size = new_size;
    return this._signal_change();
  };

  TypedArray.prototype._set = function(str) {
    var B;
    if (typeof str === "string") {
      this._set_state(str, {});
      return true;
    }
    if (this._data !== value || this._size.length !== 1 || this._size[0] !== value.length) {
      B = this.base_type();
      this._data = new B(value);
      this._size = [value.length];
      return true;
    }
    return false;
  };

  TypedArray.prototype._get_index = function(index) {
    var i, m, o, _i, _ref;
    if (index.length) {
      o = 0;
      m = 1;
      for (i = _i = 0, _ref = index.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        o += m * index[i];
        m *= this._size[i];
      }
      return o;
    }
    return index;
  };

  TypedArray.prototype._get_fs_data = function(out) {
    FileSystem.set_server_id_if_necessary(out, this);
    return out.mod += "C " + this._server_id + " " + (this._get_state()) + " ";
  };

  TypedArray.prototype._get_state = function() {
    var d, res, s, _i, _j, _len, _len1, _ref, _ref1;
    res = "";
    res += this._size.length;
    _ref = this._size;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      s = _ref[_i];
      res += "," + s;
    }
    _ref1 = this._data;
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      d = _ref1[_j];
      res += "," + d;
    }
    return res;
  };

  TypedArray.prototype._set_state = function(str, map) {
    var B, l, n, s, v, _i, _results;
    l = str.split(",");
    s = parseInt(l[0]);
    this._size = (function() {
      var _i, _results;
      _results = [];
      for (v = _i = 0; 0 <= s ? _i < s : _i > s; v = 0 <= s ? ++_i : --_i) {
        _results.push(parseInt(l[v + 1]));
      }
      return _results;
    })();
    B = this.base_type();
    n = this.nb_items();
    this._data = new B(n);
    _results = [];
    for (v = _i = 0; 0 <= n ? _i < n : _i > n; v = 0 <= n ? ++_i : --_i) {
      _results.push(this._data[v] = parseFloat(l[s + 1 + v]));
    }
    return _results;
  };

  return TypedArray;

})(Model);
// Generated by CoffeeScript 1.4.0
var TypedArray_Float64,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TypedArray_Float64 = (function(_super) {

  __extends(TypedArray_Float64, _super);

  function TypedArray_Float64(size, data) {
    if (size == null) {
      size = [];
    }
    TypedArray_Float64.__super__.constructor.call(this, size, data);
  }

  TypedArray_Float64.prototype.base_type = function() {
    return Float64Array;
  };

  TypedArray_Float64.prototype.deep_copy = function() {
    return new TypedArray_Float64(this._size, this._data);
  };

  return TypedArray_Float64;

})(TypedArray);
// Generated by CoffeeScript 1.4.0
var TypedArray_Int32,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TypedArray_Int32 = (function(_super) {

  __extends(TypedArray_Int32, _super);

  function TypedArray_Int32(size, data) {
    if (size == null) {
      size = [];
    }
    TypedArray_Int32.__super__.constructor.call(this, size, data);
  }

  TypedArray_Int32.prototype.base_type = function() {
    return Int32Array;
  };

  TypedArray_Int32.prototype.deep_copy = function() {
    return new TypedArray_Int32(this._size, this._data);
  };

  return TypedArray_Int32;

})(TypedArray);
// Generated by CoffeeScript 1.4.0
var TypedArray_Float32,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TypedArray_Float32 = (function(_super) {

  __extends(TypedArray_Float32, _super);

  function TypedArray_Float32(size, data) {
    if (size == null) {
      size = [];
    }
    TypedArray_Float32.__super__.constructor.call(this, size, data);
  }

  TypedArray_Float32.prototype.base_type = function() {
    return Float32Array;
  };

  TypedArray_Float32.prototype.deep_copy = function() {
    return new TypedArray_Float32(this._size, this._data);
  };

  return TypedArray_Float32;

})(TypedArray);
// Generated by CoffeeScript 1.4.0
var Drawable,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Drawable = (function(_super) {

  __extends(Drawable, _super);

  function Drawable() {
    return Drawable.__super__.constructor.apply(this, arguments);
  }

  Drawable.prototype.draw = function(info) {};

  Drawable.prototype.update_min_max = function(x_min, x_max) {};

  Drawable.prototype.get_movable_entities = function(res, info, phase) {};

  Drawable.prototype.z_index = function() {
    return 0;
  };

  Drawable.prototype.sub_canvas_items = function() {
    return [];
  };

  return Drawable;

})(Model);
// Generated by CoffeeScript 1.4.0
var Element,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element = (function(_super) {

  __extends(Element, _super);

  function Element() {
    return Element.__super__.constructor.apply(this, arguments);
  }

  return Element;

})(Model);
// Generated by CoffeeScript 1.4.0
var ParametrizedDrawable,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ParametrizedDrawable = (function(_super) {

  __extends(ParametrizedDrawable, _super);

  function ParametrizedDrawable(data) {
    ParametrizedDrawable.__super__.constructor.call(this);
    this.add_attr({
      data: data
    });
  }

  ParametrizedDrawable.prototype.get_sub_field = function(info) {
    return this.data.get_sub_field(info);
  };

  ParametrizedDrawable.prototype.draw = function(info, additionnal_parameters) {
    this._udpate_parameters_if_necessary();
    return this.data.draw(info, this.drawing_parameters, additionnal_parameters);
  };

  ParametrizedDrawable.prototype.update_min_max = function(x_min, x_max) {
    return this.data.update_min_max(x_min, x_max);
  };

  ParametrizedDrawable.prototype.disp_only_in_model_editor = function() {
    return this.drawing_parameters;
  };

  ParametrizedDrawable.prototype.z_index = function() {
    return this.data.z_index();
  };

  ParametrizedDrawable.prototype._udpate_parameters_if_necessary = function() {
    if (!(this.drawing_parameters != null)) {
      return this.data.get_drawing_parameters(this);
    }
  };

  return ParametrizedDrawable;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Element_WithIndices,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element_WithIndices = (function(_super) {

  __extends(Element_WithIndices, _super);

  function Element_WithIndices(indices) {
    if (indices == null) {
      indices = [];
    }
    Element_WithIndices.__super__.constructor.call(this);
    this.add_attr({
      indices: indices
    });
  }

  Element_WithIndices.prototype.points_inside = function(tab_ind) {
    var a, i, _i, _j, _len, _len1, _ref;
    for (_i = 0, _len = tab_ind.length; _i < _len; _i++) {
      i = tab_ind[_i];
      _ref = this.indices;
      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
        a = _ref[_j];
        if (a.equals(i)) {
          return true;
        }
      }
    }
    return false;
  };

  Element_WithIndices.prototype.get_point_numbers = function() {
    return this.indices.get();
  };

  Element_WithIndices.prototype.update_indices = function(done, n_array) {
    var v, _i, _len, _ref, _results;
    if (!(done[this.model_id] != null)) {
      done[this.model_id] = true;
      _ref = this.indices;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        v = _ref[_i];
        _results.push(v.set(n_array[v.get()]));
      }
      return _results;
    }
  };

  return Element_WithIndices;

})(Element);
// Generated by CoffeeScript 1.4.0
var Choice_RestrictedByDim,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Choice_RestrictedByDim = (function(_super) {

  __extends(Choice_RestrictedByDim, _super);

  function Choice_RestrictedByDim(data, initial_list) {
    if (initial_list == null) {
      initial_list = [];
    }
    Choice_RestrictedByDim.__super__.constructor.call(this, data, initial_list);
    this.add_attr({
      wanted_dim: [2, 3]
    });
  }

  Choice_RestrictedByDim.prototype.filter = function(obj) {
    return this.wanted_dim.contains(obj.dim());
  };

  return Choice_RestrictedByDim;

})(Choice);
// Generated by CoffeeScript 1.4.0
var MoveScheme_2D,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MoveScheme_2D = (function(_super) {

  __extends(MoveScheme_2D, _super);

  function MoveScheme_2D() {
    MoveScheme_2D.__super__.constructor.call(this);
    this.add_attr({
      _O: new Vec_3([0, 0, 0]),
      _N: new Vec_3([0, 0, 1])
    });
  }

  MoveScheme_2D.prototype.beg_click = function(pos) {};

  MoveScheme_2D.prototype.move = function(selected_entities, pos, P, D) {
    var I, bot, dec, m, top, _i, _len, _results;
    top = Vec_3.dot(Vec_3.sub(this._O, P), this._N);
    bot = Vec_3.dot(D, this._N);
    I = Vec_3.add(P, Vec_3.mus(top / bot, D));
    dec = Vec_3.sub(I, pos);
    _results = [];
    for (_i = 0, _len = selected_entities.length; _i < _len; _i++) {
      m = selected_entities[_i];
      if (m instanceof Point) {
        _results.push(m.pos.set(Vec_3.add(m.pos.get(), dec)));
      }
    }
    return _results;
  };

  return MoveScheme_2D;

})(Model);
// Generated by CoffeeScript 1.4.0
var Cam,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Cam = (function(_super) {
  var TransBuf, TransEye;

  __extends(Cam, _super);

  function Cam(want_aspect_ratio) {
    if (want_aspect_ratio == null) {
      want_aspect_ratio = false;
    }
    Cam.__super__.constructor.call(this);
    this.add_attr({
      threeD: true,
      O: [0, 0, 0],
      X: [1, 0, 0],
      Y: [0, 1, 0],
      C: [0, 0, 0],
      d: 1,
      _O: [0, 0, 0],
      _d: 1,
      a: new ConstrainedVal(20, {
        min: 0,
        max: 80
      })
    });
    if (want_aspect_ratio) {
      this.add_attr({
        r: 1
      });
    }
  }

  Cam.prototype.gl_mat = function(w, h) {
    var O, O_w, X, Y, Z, cx, cy, d_w, f, g, i, p, z_max, z_min;
    X = Vec_3.nor(this.X.get());
    Y = Vec_3.nor(Vec_3.sub(this.Y.get(), Vec_3.mus(Vec_3.dot(X, this.Y.get()), X)));
    Z = Vec_3.nor(Vec_3.cro(X, Y));
    O = [Vec_3.dot(this.O.get(), X), Vec_3.dot(this.O.get(), Y), Vec_3.dot(this.O.get(), Z)];
    f = 2 / this.d.get();
    g = -f;
    cx = Math.min(w, h) / w;
    cy = Math.min(w, h) / h;
    O_w = this._O.get();
    d_w = this._d.get();
    p = Math.tan(this.a.get() * 3.14158 / 360) * 2 / d_w;
    z_max = Vec_3.dot(O_w, Z) + d_w / 2;
    z_min = Vec_3.dot(O_w, Z) - d_w / 2;
    h = 1.0 / (z_max - z_min);
    i = 0.5 * (z_min + z_max) / (z_max - z_min);
    return [cx * f * X[0], cy * f * Y[0], h * Z[0], p * Z[0], cx * f * X[1], cy * f * Y[1], h * Z[1], p * Z[1], cx * f * X[2], cy * f * Y[2], h * Z[2], p * Z[2], cx * g * O[0], cy * g * O[1], -i, 1 - p * O[2]];
  };

  Cam.prototype.gl_attr = function(info, prefix) {
    return "uniform mat4 " + prefix + "_mat;";
  };

  Cam.prototype.gl_attr_vec = function(info, prefix) {
    return "uniform mat3 " + prefix + "_mat;";
  };

  Cam.prototype.gl_main = function(info, prefix) {
    return "gl_Position = " + prefix + "_mat * gl_Position;";
  };

  Cam.prototype.gl_main_vec = function(info, prefix, norm_val, norm_var) {
    return "" + norm_var + " = " + prefix + "_mat * " + norm_val + ";";
  };

  Cam.prototype.gl_exec = function(info, prefix, prog) {
    var gl, mat, proj_mat;
    mat = this.gl_mat(info.w, info.h);
    gl = info.ctx;
    proj_mat = gl.getUniformLocation(prog, "" + prefix + "_mat");
    return gl.uniformMatrix4fv(proj_mat, false, new Float32Array(mat));
  };

  Cam.prototype.gl_exec_vec = function(info, prefix, prog) {
    var X, Y, Z, gl, mat, proj_mat;
    X = Vec_3.nor(this.X.get());
    Y = Vec_3.nor(Vec_3.sub(this.Y.get(), Vec_3.mus(Vec_3.dot(X, this.Y.get()), X)));
    Z = Vec_3.nor(Vec_3.cro(X, Y));
    mat = [X[0], Y[0], Z[0], X[1], Y[1], Z[1], X[2], Y[2], Z[2]];
    gl = info.ctx;
    proj_mat = gl.getUniformLocation(prog, "" + prefix + "_mat");
    return gl.uniformMatrix3fv(proj_mat, false, new Float32Array(mat));
  };

  Cam.prototype.focal_point = function() {
    var ap, nZ;
    nZ = Vec_3.nor(Vec_3.cro(this.X.get(), this.Y.get()));
    ap = Math.tan(this.a.get() / 2 * 3.14159265358979323846 / 180);
    return [this.O[0].get() - 0.5 * this.d.get() / ap * nZ[0], this.O[1].get() - 0.5 * this.d.get() / ap * nZ[1], this.O[2].get() - 0.5 * this.d.get() / ap * nZ[2]];
  };

  Cam.prototype.pan = function(x, y, w, h, ctrl_key) {
    var c, d, r, _i, _results;
    if (ctrl_key == null) {
      ctrl_key = false;
    }
    if (ctrl_key) {
      x /= 10;
      y /= 10;
    }
    c = this.d.get() / Math.min(w, h);
    r = this.r || 1;
    x *= c * r;
    y *= c;
    _results = [];
    for (d = _i = 0; _i <= 2; d = ++_i) {
      _results.push(this.O[d].set(this.O[d].get() - x * this.X[d].get() + y * this.Y[d].get()));
    }
    return _results;
  };

  Cam.prototype.zoom = function(x, y, c, w, h) {
    var n_re_2_sc, o, o_sc_2_rw, p;
    if (typeof c === "number") {
      return zoom(x, y, [c, c], w, h);
    } else {
      o_sc_2_rw = this.sc_2_rw(w, h);
      o = o_sc_2_rw.pos(x, y);
      this.d.set(this.d.get() / c[1]);
      if (this.r != null) {
        this.r.set(this.r.get() * c[1] / c[0]);
      }
      n_re_2_sc = this.re_2_sc(w, h);
      p = n_re_2_sc.proj(o);
      return this.pan(x - p[0], y - p[1], w, h);
    }
  };

  Cam.prototype.rotate = function(x, y, z) {
    var R;
    if (this.threeD.get()) {
      R = this.s_to_w_vec([x, y, z]);
      this.X.set(Vec_3.rot(this.X.get(), R));
      this.Y.set(Vec_3.rot(this.Y.get(), R));
      return this.O.set(Vec_3.add(this.C.get(), Vec_3.rot(Vec_3.sub(this.O.get(), this.C.get()), R)));
    }
  };

  Cam.prototype.re_2_sc = function(w, h) {
    return new TransBuf(this.gl_mat(w, h), w, h);
  };

  Cam.prototype.sc_2_rw = function(w, h) {
    return new TransEye(this.gl_mat(w, h), w, h);
  };

  Cam.prototype.equal = function(l) {
    var ap_3;
    ap_3 = function(a, b, e) {
      if (e == null) {
        e = 1e-3;
      }
      return Math.abs(a[0] - b[0]) < e && Math.abs(a[1] - b[1]) < e && Math.abs(a[2] - b[2]) < e;
    };
    if ((this.r != null) && (l.r != null) && l.r.get() !== this.r.get()) {
      return false;
    }
    return l.w === this.w && l.h === this.h && ap_3(l.O, this.O) && ap_3(l.X, this.X) && ap_3(l.Y, this.Y) && Math.abs(l.a - this.a) < 1e-3 && Math.abs(l.d - this.d) / this.d < 1e-3;
  };

  Cam.prototype.s_to_w_vec = function(V) {
    var X, Y, Z;
    X = Vec_3.nor(this.X.get());
    Y = Vec_3.nor(this.Y.get());
    Z = Vec_3.nor(Vec_3.cro(X, Y));
    return [V[0] * this.X[0] + V[1] * this.Y[0] + V[2] * Z[0], V[0] * this.X[1] + V[1] * this.Y[1] + V[2] * Z[1], V[0] * this.X[2] + V[1] * this.Y[2] + V[2] * Z[2]];
  };

  Cam.prototype.get_X = function() {
    return Vec_3.nor(this.X.get());
  };

  Cam.prototype.get_Y = function() {
    return Vec_3.nor(this.Y.get());
  };

  Cam.prototype.get_Z = function() {
    return Vec_3.nor(Vec_3.cro(this.X.get(), this.Y.get()));
  };

  Cam.prototype.get_a = function() {
    return this.a.get();
  };

  Cam.prototype.get_screen_coord = function(coord) {
    var Cx, Cy, Cz, O, X, Y, Z, d, x, y, z;
    x = coord[0];
    y = coord[1];
    z = coord[2] || 0;
    O = this.O.get();
    X = this.X.get();
    Y = this.Y.get();
    Z = this.get_Z();
    d = this.d;
    Cx = Vec_3.mus(d * x, X);
    Cy = Vec_3.mus(d * y, Y);
    Cz = Vec_3.mus(d * z, Z);
    return Vec_3.add(O, Vec_3.add(Cx, Vec_3.add(Cy, Cz)));
  };

  TransEye = (function() {

    function TransEye(mat, w, h) {
      this.mat = mat;
      this.w = w;
      this.h = h;
    }

    TransEye.prototype.dir = function(x, y) {
      return Vec_3.nor(Vec_3.sub(Vec_3.solve(this.mat, [x, y, 0.5, 1]), Vec_3.solve(this.mat, [x, y, -0.5, 1])));
    };

    TransEye.prototype.pos = function(x, y, z) {
      var R;
      if (z == null) {
        z = 0;
      }
      R = Vec_3.solve(this.mat, [2 * x / this.w - 1, 1 - 2 * y / this.h, z, 1]);
      return [R[0] / R[3], R[1] / R[3], R[2] / R[3]];
    };

    return TransEye;

  })();

  TransBuf = (function() {

    function TransBuf(mat, w, h) {
      this.mat = mat;
      this.w = w;
      this.h = h;
    }

    TransBuf.prototype.proj = function(P) {
      var R;
      R = [this.mat[0 + 4 * 0] * P[0] + this.mat[0 + 4 * 1] * P[1] + this.mat[0 + 4 * 2] * P[2] + this.mat[0 + 4 * 3], this.mat[1 + 4 * 0] * P[0] + this.mat[1 + 4 * 1] * P[1] + this.mat[1 + 4 * 2] * P[2] + this.mat[1 + 4 * 3], this.mat[2 + 4 * 0] * P[0] + this.mat[2 + 4 * 1] * P[1] + this.mat[2 + 4 * 2] * P[2] + this.mat[2 + 4 * 3], this.mat[3 + 4 * 0] * P[0] + this.mat[3 + 4 * 1] * P[1] + this.mat[3 + 4 * 2] * P[2] + this.mat[3 + 4 * 3]];
      return [0.5 * this.w * (1 + R[0] / R[3]), 0.5 * this.h * (1 - R[1] / R[3]), R[2] / R[3]];
    };

    return TransBuf;

  })();

  return Cam;

})(Model);
// Generated by CoffeeScript 1.4.0
var ServerAssistedVisualization,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ServerAssistedVisualization = (function(_super) {

  __extends(ServerAssistedVisualization, _super);

  function ServerAssistedVisualization(app, bs) {
    var ds,
      _this = this;
    ServerAssistedVisualization.__super__.constructor.call(this);
    this.add_attr({
      data: app.data,
      layout: {}
    });
    ds = app.data.selected_display_settings();
    bind([bs, ds._layout], function() {
      var d, lay, lid, lm, mid, used_lid, _i, _len, _ref, _ref1, _ref2, _results;
      used_lid = {};
      _ref = app.layouts;
      for (mid in _ref) {
        lm = _ref[mid];
        _ref1 = lm._pan_vs_id;
        for (lid in _ref1) {
          lay = _ref1[lid];
          if (!(lay.cm != null)) {
            continue;
          }
          if (!(_this.layout[lid] != null)) {
            _this.layout.add_attr(lid, {
              width: 0,
              height: 0
            });
          }
          _this.layout[lid].width.set(lay.cm.canvas.width);
          _this.layout[lid].height.set(lay.cm.canvas.height);
          used_lid[lid] = true;
        }
      }
      _ref2 = (function() {
        var _j, _len, _ref2, _results1;
        _ref2 = this.layout._attribute_names;
        _results1 = [];
        for (_j = 0, _len = _ref2.length; _j < _len; _j++) {
          lid = _ref2[_j];
          if (!(used_lid[lid] != null)) {
            _results1.push(lid);
          }
        }
        return _results1;
      }).call(_this);
      _results = [];
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        d = _ref2[_i];
        _results.push(_this.layout.rem_attr(d));
      }
      return _results;
    });
  }

  return ServerAssistedVisualization;

})(Model);
// Generated by CoffeeScript 1.4.0
var Lst_Point,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Lst_Point = (function(_super) {

  __extends(Lst_Point, _super);

  function Lst_Point() {
    return Lst_Point.__super__.constructor.apply(this, arguments);
  }

  Lst_Point.prototype.base_type = function() {
    return Point;
  };

  Lst_Point.prototype.dim = function() {
    return 2;
  };

  Lst_Point.prototype._underlying_fs_type = function() {
    return "Lst";
  };

  return Lst_Point;

})(Lst);
// Generated by CoffeeScript 1.4.0
var MoveScheme_3D,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MoveScheme_3D = (function(_super) {

  __extends(MoveScheme_3D, _super);

  function MoveScheme_3D() {
    MoveScheme_3D.__super__.constructor.call(this);
    this.add_attr({
      _req_pos: new Vec_3,
      _req_dir: new Vec_3,
      _old_pos: new Vec_3,
      _old_dir: new Vec_3
    });
    this.cos_for_move_req_old_dir = 0.7;
    this._beg_click = false;
  }

  MoveScheme_3D.prototype.beg_click = function(pos) {
    return this._beg_click = true;
  };

  MoveScheme_3D.prototype.move = function(selected_entities, pos, p_0, d_0) {
    var c_00, c_01, c_11, d, d_1, del, dete, dok, l_0, m, p_1, ve_0, ve_1, _i, _j, _len;
    if (this._beg_click) {
      this._beg_click = false;
      d_1 = this._old_dir.get();
      dok = d_1[0] || d_1[1] || d_1[2];
      if (dok && Math.abs(Vec_3.dot(d_0, d_1)) < this.cos_for_move_req_old_dir) {
        this._req_pos.set(this._old_pos);
        this._req_dir.set(this._old_dir);
      }
    }
    l_0 = Vec_3.dot(Vec_3.sub(pos.get(), p_0), d_0);
    p_1 = this._req_pos.get();
    d_1 = this._req_dir.get();
    if (d_1[0] || d_1[1] || d_1[2]) {
      c_00 = d_0[0] * d_0[0] + d_0[1] * d_0[1] + d_0[2] * d_0[2];
      c_01 = d_0[0] * d_1[0] + d_0[1] * d_1[1] + d_0[2] * d_1[2];
      c_11 = d_1[0] * d_1[0] + d_1[1] * d_1[1] + d_1[2] * d_1[2];
      dete = c_00 * c_11 - c_01 * c_01;
      ve_0 = d_0[0] * (p_0[0] - p_1[0]) + d_0[1] * (p_0[1] - p_1[1]) + d_0[2] * (p_0[2] - p_1[2]);
      ve_1 = d_1[0] * (p_0[0] - p_1[0]) + d_1[1] * (p_0[1] - p_1[1]) + d_1[2] * (p_0[2] - p_1[2]);
      l_0 = (c_01 * ve_1 - c_11 * ve_0) / dete;
    }
    del = (function() {
      var _i, _results;
      _results = [];
      for (d = _i = 0; _i <= 2; d = ++_i) {
        _results.push(p_0[d] + d_0[d] * l_0 - pos[d].get());
      }
      return _results;
    })();
    for (_i = 0, _len = selected_entities.length; _i < _len; _i++) {
      m = selected_entities[_i];
      if (m instanceof Point) {
        for (d = _j = 0; _j <= 2; d = ++_j) {
          m.pos[d].set(m.pos[d].get() + del[d]);
        }
      }
    }
    this._old_pos.set(p_0);
    return this._old_dir.set(d_0);
  };

  return MoveScheme_3D;

})(Model);
// Generated by CoffeeScript 1.4.0
var Mesh,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Mesh = (function(_super) {

  __extends(Mesh, _super);

  function Mesh(params) {
    if (params == null) {
      params = {};
    }
    Mesh.__super__.constructor.call(this);
    this.add_attr({
      _theme: new Theme
    });
    this.add_attr({
      visualization: {
        display_style: new Choice(3, ["Points", "Wireframe", "Surface", "Surface with Edges"]),
        point_edition: (!params.not_editable ? true : void 0),
        element_color: this._theme.surfaces.color,
        line_color: this._theme.lines.color
      },
      points: new Lst_Point,
      _elements: [],
      _selected_points: [],
      _pelected_points: [],
      _selected_elements: [],
      _pelected_elements: []
    });
    this.move_scheme = MoveScheme_3D;
    this._sub_elements = [];
    this._sub_date = -1;
    this.delete_selected_points_callback = [];
  }

  Mesh.prototype.add_point = function(pos) {
    var res;
    if (pos == null) {
      pos = [0, 0, 0];
    }
    res = new Point(pos, new this.move_scheme);
    this.points.push(res);
    return res;
  };

  Mesh.prototype.add_element = function(element) {
    return this._elements.push(element);
  };

  Mesh.prototype.nb_points = function() {
    return this.points.length;
  };

  Mesh.prototype.nb_elements = function() {
    var el, res, _i, _len, _ref;
    res = 0;
    _ref = this._elements;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      el = _ref[_i];
      if (typeof el.indices.size(1) === "number") {
        res += el.indices.size(1);
      }
    }
    return res;
  };

  Mesh.prototype.real_change = function() {
    var a, _i, _len, _ref;
    _ref = [this.points, this._elements];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      a = _ref[_i];
      if (a.real_change()) {
        return true;
      }
    }
    return false;
  };

  Mesh.prototype.z_index = function() {
    return 1000;
  };

  Mesh.prototype.clear = function() {
    this.points.clear();
    return this._elements.clear();
  };

  Mesh.prototype.add_theme_if_undef = function() {
    if (!(this._theme != null)) {
      return this.add_attr({
        _theme: new Theme
      });
    }
  };

  Mesh.prototype.draw = function(info) {
    var draw_points, el, i, n, p, proj, _i, _j, _k, _l, _len, _len1, _len10, _len11, _len12, _len13, _len14, _len15, _len2, _len3, _len4, _len5, _len6, _len7, _len8, _len9, _m, _n, _o, _p, _q, _r, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _results, _s, _t, _u, _v, _w, _x;
    this.add_theme_if_undef();
    if (info.ctx_type === 'gl') {
      _ref = this._elements;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        el = _ref[_i];
        el.draw_gl(info, this, this.points);
      }
      draw_points = false;
      if (((_ref1 = this.visualization.point_edition) != null ? _ref1.get() : void 0) && (info.sel_item[this.model_id] != null)) {
        proj = (function() {
          var _j, _len1, _ref2, _results;
          _ref2 = this.points;
          _results = [];
          for (i = _j = 0, _len1 = _ref2.length; _j < _len1; i = ++_j) {
            p = _ref2[i];
            _results.push(info.re_2_sc.proj(p.pos.get()));
          }
          return _results;
        }).call(this);
        this._theme.editable_points.beg_ctx(info);
        for (_j = 0, _len1 = proj.length; _j < _len1; _j++) {
          p = proj[_j];
          this._theme.points.draw_proj(info, p);
        }
        this._theme.editable_points.end_ctx(info);
        if (this._selected_points.length) {
          this._theme.selected_points.beg_ctx(info);
          _ref2 = this._selected_points;
          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
            p = _ref2[_k];
            n = info.re_2_sc.proj(p.pos.get());
            this._theme.selected_points.draw_proj(info, n);
          }
          this._theme.selected_points.end_ctx(info);
        }
        if (this._pelected_points.length) {
          this._theme.highlighted_points.beg_ctx(info);
          _ref3 = this._pelected_points;
          for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {
            p = _ref3[_l];
            n = info.re_2_sc.proj(p.pos.get());
            this._theme.highlighted_points.draw_proj(info, n);
          }
          this._theme.highlighted_points.end_ctx(info);
        }
      } else if (this.visualization.display_style.equals("Points")) {
        this._theme.points.beg_ctx(info);
        for (_m = 0, _len4 = proj.length; _m < _len4; _m++) {
          p = proj[_m];
          this._theme.points.draw_proj(info, p);
        }
        this._theme.points.end_ctx(info);
      }
      this._update_sub_elements();
      _ref4 = this._sub_elements;
      for (_n = 0, _len5 = _ref4.length; _n < _len5; _n++) {
        el = _ref4[_n];
        el.draw_gl(info, this, this.points, true);
      }
      if (this._selected_elements.length) {
        _ref5 = this._pelected_points;
        for (_o = 0, _len6 = _ref5.length; _o < _len6; _o++) {
          el = _ref5[_o];
          el.draw_gl(info, this, this.points, true, this._theme.selected_elements);
        }
      }
      if (this._pelected_elements.length) {
        _ref6 = this._pelected_elements;
        for (_p = 0, _len7 = _ref6.length; _p < _len7; _p++) {
          el = _ref6[_p];
          el.draw_gl(info, this, this.points, true, this._theme.highlighted_elements);
        }
      }
      return true;
    }
    if ((_ref7 = this.points) != null ? _ref7.length : void 0) {
      proj = (function() {
        var _len8, _q, _ref8, _results;
        _ref8 = this.points;
        _results = [];
        for (i = _q = 0, _len8 = _ref8.length; _q < _len8; i = ++_q) {
          p = _ref8[i];
          _results.push(info.re_2_sc.proj(p.pos.get()));
        }
        return _results;
      }).call(this);
      _ref8 = this._elements;
      for (_q = 0, _len8 = _ref8.length; _q < _len8; _q++) {
        el = _ref8[_q];
        el.draw(info, this, proj);
      }
      draw_points = false;
      if (((_ref9 = this.visualization.point_edition) != null ? _ref9.get() : void 0) && (info.sel_item[this.model_id] != null)) {
        this._theme.editable_points.beg_ctx(info);
        for (_r = 0, _len9 = proj.length; _r < _len9; _r++) {
          p = proj[_r];
          this._theme.points.draw_proj(info, p);
        }
        this._theme.editable_points.end_ctx(info);
        if (this._selected_points.length) {
          this._theme.selected_points.beg_ctx(info);
          _ref10 = this._selected_points;
          for (_s = 0, _len10 = _ref10.length; _s < _len10; _s++) {
            p = _ref10[_s];
            n = info.re_2_sc.proj(p.pos.get());
            this._theme.selected_points.draw_proj(info, n);
          }
          this._theme.selected_points.end_ctx(info);
        }
        if (this._pelected_points.length) {
          this._theme.highlighted_points.beg_ctx(info);
          _ref11 = this._pelected_points;
          for (_t = 0, _len11 = _ref11.length; _t < _len11; _t++) {
            p = _ref11[_t];
            n = info.re_2_sc.proj(p.pos.get());
            this._theme.highlighted_points.draw_proj(info, n);
          }
          this._theme.highlighted_points.end_ctx(info);
        }
      } else if (this.visualization.display_style.equals("Points")) {
        this._theme.points.beg_ctx(info);
        for (_u = 0, _len12 = proj.length; _u < _len12; _u++) {
          p = proj[_u];
          this._theme.points.draw_proj(info, p);
        }
        this._theme.points.end_ctx(info);
      }
      this._update_sub_elements();
      _ref12 = this._sub_elements;
      for (_v = 0, _len13 = _ref12.length; _v < _len13; _v++) {
        el = _ref12[_v];
        el.draw(info, this, proj, true);
      }
      if (this._selected_elements.length) {
        _ref13 = this._pelected_points;
        for (_w = 0, _len14 = _ref13.length; _w < _len14; _w++) {
          el = _ref13[_w];
          el.draw(info, this, proj, true, this._theme.selected_elements);
        }
      }
      if (this._pelected_elements.length) {
        _ref14 = this._pelected_elements;
        _results = [];
        for (_x = 0, _len15 = _ref14.length; _x < _len15; _x++) {
          el = _ref14[_x];
          _results.push(el.draw(info, this, proj, true, this._theme.highlighted_elements));
        }
        return _results;
      }
    }
  };

  Mesh.prototype.on_mouse_down = function(cm, evt, pos, b, old, points_allowed) {
    var best, divisions, el, ip, nl, np, p, proj, res, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1, _ref2, _ref3, _ref4;
    if (points_allowed == null) {
      points_allowed = true;
    }
    delete this._moving_point;
    if ((_ref = this.visualization.point_edition) != null ? _ref.get() : void 0) {
      if (b === "LEFT" || b === "RIGHT") {
        if (points_allowed) {
          proj = (function() {
            var _i, _len, _ref1, _results;
            _ref1 = this.points;
            _results = [];
            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
              p = _ref1[_i];
              _results.push(cm.cam_info.re_2_sc.proj(p.pos.get()));
            }
            return _results;
          }).call(this);
          best = this._closest_point_closer_than(proj, pos, 10);
          if (best >= 0) {
            if (evt.ctrlKey) {
              this._ctrlKey = true;
              if (this._selected_points.toggle_ref(this.points[best])) {
                this._moving_point = this.points[best];
                this._moving_point.beg_click(pos);
              }
            } else {
              this._ctrlKey = false;
              if (!this._selected_points.contains_ref(this.points[best])) {
                this._selected_points.clear();
                this._selected_points.set([this.points[best]]);
              }
              this._moving_point = this.points[best];
              this._moving_point.beg_click(pos);
            }
            if (b === "RIGHT") {
              return false;
            }
            return true;
          } else {
            this._pelected_points.clear();
          }
          best = {
            dist: 4
          };
          _ref1 = this._elements;
          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
            el = _ref1[_i];
            if (typeof el.closest_point_closer_than === "function") {
              el.closest_point_closer_than(best, this, proj, cm.cam_info, pos);
            }
          }
          _ref2 = this._sub_elements;
          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
            el = _ref2[_j];
            if (typeof el.closest_point_closer_than === "function") {
              el.closest_point_closer_than(best, this, proj, cm.cam_info, pos);
            }
          }
          if (best.disp != null) {
            np = this.points.length;
            ip = this.add_point(best.disp);
            this._selected_points.clear();
            this._selected_points.set([ip]);
            this._moving_point = ip;
            this._moving_point.beg_click(pos);
            res = [];
            divisions = {};
            _ref3 = this._elements;
            for (_k = 0, _len2 = _ref3.length; _k < _len2; _k++) {
              el = _ref3[_k];
              if (typeof el.cut_with_point === "function") {
                el.cut_with_point(divisions, best, this, np, ip);
              }
              if (divisions[el.model_id] != null) {
                _ref4 = divisions[el.model_id];
                for (_l = 0, _len3 = _ref4.length; _l < _len3; _l++) {
                  nl = _ref4[_l];
                  res.push(nl);
                }
              } else {
                res.push(el);
              }
            }
            this._elements.clear();
            this._elements.set(res);
          }
        }
      }
    }
    return false;
  };

  Mesh.prototype.on_mouse_up_wo_move = function(cm, evt, pos, b, points_allowed) {
    var p;
    if (points_allowed == null) {
      points_allowed = true;
    }
    if ((this._moving_point != null) && !this._ctrlKey && this._selected_points.length > 1) {
      p = this._selected_points.back();
      this._selected_points.clear();
      this._selected_points.set([p]);
      return true;
    }
  };

  Mesh.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var best, d_0, el, p, p_0, proj, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3;
    if ((_ref = this.visualization.point_edition) != null ? _ref.get() : void 0) {
      if ((this._moving_point != null) && b === "LEFT") {
        if ((_ref1 = cm.undo_manager) != null) {
          _ref1.snapshot();
        }
        p_0 = cm.cam_info.sc_2_rw.pos(pos[0], pos[1]);
        d_0 = cm.cam_info.sc_2_rw.dir(pos[0], pos[1]);
        this._moving_point.move(this._selected_points, this._moving_point.pos, p_0, d_0);
        return true;
      }
      proj = (function() {
        var _i, _len, _ref2, _results;
        _ref2 = this.points;
        _results = [];
        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
          p = _ref2[_i];
          _results.push(cm.cam_info.re_2_sc.proj(p.pos.get()));
        }
        return _results;
      }).call(this);
      best = this._closest_point_closer_than(proj, pos, 10);
      if (best >= 0) {
        this._pelected_points.clear();
        this._pelected_points.set([this.points[best]]);
        return true;
      }
      best = {
        dist: 4
      };
      _ref2 = this._elements;
      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
        el = _ref2[_i];
        if (typeof el.closest_point_closer_than === "function") {
          el.closest_point_closer_than(best, this, proj, cm.cam_info, pos);
        }
      }
      _ref3 = this._sub_elements;
      for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
        el = _ref3[_j];
        if (typeof el.closest_point_closer_than === "function") {
          el.closest_point_closer_than(best, this, proj, cm.cam_info, pos);
        }
      }
      if (best.disp != null) {
        this._pelected_points.clear();
        this._pelected_points.set([new Point(best.disp)]);
        return true;
      }
    }
    this._pelected_points.clear();
    return false;
  };

  Mesh.prototype.update_min_max = function(x_min, x_max) {
    var d, m, p, _i, _len, _ref, _results;
    _ref = this.points;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      m = _ref[_i];
      p = m.pos.get();
      _results.push((function() {
        var _j, _results1;
        _results1 = [];
        for (d = _j = 0; _j < 3; d = ++_j) {
          x_min[d] = Math.min(x_min[d], p[d]);
          _results1.push(x_max[d] = Math.max(x_max[d], p[d]));
        }
        return _results1;
      })());
    }
    return _results;
  };

  Mesh.prototype.make_curve_line_from_selected = function() {
    var el, index_selected_points, sel_point, _i, _len, _results;
    index_selected_points = this._get_indices_of_selected_points();
    if (index_selected_points.length) {
      _results = [];
      for (_i = 0, _len = index_selected_points.length; _i < _len; _i++) {
        sel_point = index_selected_points[_i];
        _results.push((function() {
          var _j, _len1, _ref, _results1;
          _ref = this._elements;
          _results1 = [];
          for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
            el = _ref[_j];
            _results1.push(el.make_curve_line_from_selected(sel_point));
          }
          return _results1;
        }).call(this));
      }
      return _results;
    }
  };

  Mesh.prototype.break_line_from_selected = function() {
    var el, index_selected_points, sel_point, _i, _len, _results;
    index_selected_points = this._get_indices_of_selected_points();
    if (index_selected_points.length) {
      _results = [];
      for (_i = 0, _len = index_selected_points.length; _i < _len; _i++) {
        sel_point = index_selected_points[_i];
        _results.push((function() {
          var _j, _len1, _ref, _results1;
          _ref = this._elements;
          _results1 = [];
          for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
            el = _ref[_j];
            _results1.push(el.break_line_from_selected(sel_point));
          }
          return _results1;
        }).call(this));
      }
      return _results;
    }
  };

  Mesh.prototype.delete_selected_point = function() {
    var done, el, fun, i, ind, index_selected_points, j, n_array, p, sel_point, _i, _j, _k, _l, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4, _results;
    index_selected_points = this._get_indices_of_selected_points();
    if (index_selected_points.length > 0) {
      _results = [];
      for (ind = _i = _ref = index_selected_points.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; ind = _ref <= 0 ? ++_i : --_i) {
        sel_point = index_selected_points[ind];
        p = this.points[sel_point];
        n_array = (function() {
          var _j, _ref1, _results1;
          _results1 = [];
          for (i = _j = 0, _ref1 = this.points.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
            _results1.push(i);
          }
          return _results1;
        }).call(this);
        n_array[sel_point] = -1;
        for (j = _j = _ref1 = sel_point + 1, _ref2 = this.points.length; _ref1 <= _ref2 ? _j < _ref2 : _j > _ref2; j = _ref1 <= _ref2 ? ++_j : --_j) {
          n_array[j] -= 1;
        }
        _ref3 = this._elements;
        for (_k = 0, _len = _ref3.length; _k < _len; _k++) {
          el = _ref3[_k];
          if (typeof el.rem_sub_element === "function") {
            el.rem_sub_element(sel_point);
          }
        }
        this._selected_points.remove_ref(p);
        this._pelected_points.remove_ref(p);
        this.points.splice(sel_point, 1);
        _ref4 = this.delete_selected_points_callback;
        for (_l = 0, _len1 = _ref4.length; _l < _len1; _l++) {
          fun = _ref4[_l];
          fun(this, index_selected_points);
        }
        done = {};
        _results.push((function() {
          var _len2, _m, _ref5, _results1;
          _ref5 = this._elements;
          _results1 = [];
          for (_m = 0, _len2 = _ref5.length; _m < _len2; _m++) {
            el = _ref5[_m];
            _results1.push(typeof el.update_indices === "function" ? el.update_indices(done, n_array) : void 0);
          }
          return _results1;
        }).call(this));
      }
      return _results;
    }
  };

  Mesh.prototype._actualise_indices = function(array, val, index) {
    var ind, _i, _len, _ref, _results;
    if (index == null) {
      index = 0;
    }
    if (array.length && val !== 0 && index >= 0 && index <= array.length - 1) {
      _ref = array.slice(index, array.length);
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        ind = _ref[_i];
        _results.push(array[ind].set(array[ind].get() + val));
      }
      return _results;
    }
  };

  Mesh.prototype._get_indices_of_selected_points = function() {
    var index_selected_points, j, point, sel_point, _i, _j, _len, _len1, _ref, _ref1;
    index_selected_points = [];
    _ref = this.points;
    for (j = _i = 0, _len = _ref.length; _i < _len; j = ++_i) {
      point = _ref[j];
      _ref1 = this._selected_points;
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        sel_point = _ref1[_j];
        if (point === sel_point) {
          index_selected_points.push(j);
        }
      }
    }
    return index_selected_points;
  };

  Mesh.prototype._update_sub_elements = function() {
    var e, l, n, oi, _base, _results;
    if (this._sub_date < this._elements._date_last_modification) {
      this._sub_date = this._elements._date_last_modification;
      l = (function() {
        var _i, _len, _ref, _results;
        _ref = this._elements;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          e = _ref[_i];
          _results.push(e);
        }
        return _results;
      }).call(this);
      this._sub_elements = [];
      _results = [];
      while (l.length) {
        oi = this._sub_elements.length;
        if (typeof (_base = l.pop()).add_sub_element === "function") {
          _base.add_sub_element(this._sub_elements);
        }
        _results.push((function() {
          var _i, _len, _ref, _results1;
          _ref = this._sub_elements.slice(oi);
          _results1 = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            n = _ref[_i];
            _results1.push(l.push(n));
          }
          return _results1;
        }).call(this));
      }
      return _results;
    }
  };

  Mesh.prototype._closest_point_closer_than = function(proj, pos, dist) {
    var best, d, n, p, _i, _len;
    best = -1;
    for (n = _i = 0, _len = proj.length; _i < _len; n = ++_i) {
      p = proj[n];
      d = Math.sqrt(Math.pow(pos[0] - p[0], 2) + Math.pow(pos[1] - p[1], 2));
      if (dist > d) {
        dist = d;
        best = n;
      }
    }
    return best;
  };

  return Mesh;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Transform,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Transform = (function(_super) {

  __extends(Transform, _super);

  function Transform() {
    Transform.__super__.constructor.call(this);
    this.add_attr({
      cur_points: new Lst_Point,
      old_points: new Lst_Point,
      lock: true,
      _selected: new Lst,
      _pre_sele: new Lst
    });
  }

  Transform.prototype.z_index = function() {
    return 1000;
  };

  Transform.prototype.draw = function(info) {
    var draw_point, item, n, p, proj, selected, _i, _j, _k, _len, _len1, _pre_sele, _ref, _ref1, _ref2, _results;
    draw_point = info.sel_item[this.model_id];
    if (this.cur_points.length && draw_point) {
      selected = {};
      _ref = this._selected;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        item = _ref[_i];
        selected[item.model_id] = true;
      }
      _pre_sele = {};
      _ref1 = this._pre_sele;
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        item = _ref1[_j];
        _pre_sele[item.model_id] = true;
      }
      proj = (function() {
        var _k, _len2, _ref2, _results;
        _ref2 = this.cur_points;
        _results = [];
        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
          p = _ref2[_k];
          _results.push(info.re_2_sc.proj(p.pos.get()));
        }
        return _results;
      }).call(this);
      _results = [];
      for (n = _k = 0, _ref2 = proj.length; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; n = 0 <= _ref2 ? ++_k : --_k) {
        info.ctx.lineWidth = 1;
        info.ctx.strokeStyle = "#333311";
        info.ctx.fillStyle = "#333311";
        p = proj[n];
        if (selected[this.cur_points[n].model_id] != null) {
          info.ctx.strokeStyle = "#FF0000";
        } else {
          info.ctx.strokeStyle = "#FFFF00";
        }
        info.ctx.beginPath();
        info.ctx.arc(p[0], p[1], 4, 0, Math.PI * 2, true);
        info.ctx.closePath();
        info.ctx.fill();
        info.ctx.stroke();
        if (_pre_sele[this.cur_points[n].model_id] != null) {
          info.ctx.fillStyle = "#FFFF22";
          info.ctx.beginPath();
          info.ctx.lineWidth = 0.8;
          info.ctx.arc(p[0], p[1], 3, 0, Math.PI * 2, true);
          info.ctx.fill();
          _results.push(info.ctx.closePath());
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    }
  };

  Transform.prototype.get_movable_entities = function(res, info, pos, phase) {
    var d, draw_point, dx, dy, i, p, proj, x, y, _i, _len, _ref, _ref1, _results;
    draw_point = info.sel_item[this.model_id];
    if (this.cur_points.length && draw_point) {
      x = pos[0];
      y = pos[1];
      if (phase === 0) {
        _ref = this.cur_points;
        _results = [];
        for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
          p = _ref[i];
          proj = info.re_2_sc.proj(p.pos.get());
          dx = x - proj[0];
          dy = y - proj[1];
          d = Math.sqrt(dx * dx + dy * dy);
          if (d <= 10) {
            res.push({
              item: p,
              dist: d,
              type: "Transform"
            });
            if (((_ref1 = this.lock) != null ? _ref1.get() : void 0) === false) {
              _results.push(res.push({
                item: this.old_points[i],
                dist: d,
                type: "Transform"
              }));
            } else {
              _results.push(void 0);
            }
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    }
  };

  Transform.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var phase, res, _i;
    delete this._movable_entity;
    if (b === "LEFT" || b === "RIGHT") {
      for (phase = _i = 0; _i < 3; phase = ++_i) {
        res = [];
        this.get_movable_entities(res, cm.cam_info, pos, phase);
        if (res.length) {
          res.sort(function(a, b) {
            return b.dist - a.dist;
          });
          this._movable_entity = res[0].item;
          if (evt.ctrlKey) {
            this._selected.toggle_ref(this._movable_entity);
            if (!this._selected.contains_ref(this._movable_entity)) {
              delete this._movable_entity;
            }
          } else {
            this._selected.clear();
            this._selected.push(this._movable_entity);
            this._movable_entity.beg_click(pos);
          }
          if (b === "RIGHT") {
            return false;
          }
          return true;
        }
      }
    }
    return false;
  };

  Transform.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var d, d_0, dx, dy, i, p, p_0, proj, res, x, y, _i, _len, _ref, _ref1;
    if (b === "LEFT" && (this._movable_entity != null)) {
      if ((_ref = cm.undo_manager) != null) {
        _ref.snapshot();
      }
      p_0 = cm.cam_info.sc_2_rw.pos(pos[0], pos[1]);
      d_0 = cm.cam_info.sc_2_rw.dir(pos[0], pos[1]);
      this._movable_entity.move(this._selected, this._movable_entity.pos, p_0, d_0);
      return true;
    }
    res = [];
    x = pos[0];
    y = pos[1];
    if (this.cur_points.length) {
      _ref1 = this.cur_points;
      for (i = _i = 0, _len = _ref1.length; _i < _len; i = ++_i) {
        p = _ref1[i];
        proj = cm.cam_info.re_2_sc.proj(p.pos.get());
        dx = x - proj[0];
        dy = y - proj[1];
        d = Math.sqrt(dx * dx + dy * dy);
        if (d <= 10) {
          res.push({
            item: p,
            dist: d
          });
        }
      }
    }
    if (res.length) {
      res.sort(function(a, b) {
        return b.dist - a.dist;
      });
      if (this._pre_sele.length !== 1 || this._pre_sele[0] !== res[0].item) {
        this._pre_sele.clear();
        this._pre_sele.push(res[0].item);
      }
    } else if (this._pre_sele.length) {
      this._pre_sele.clear();
    }
    return false;
  };

  return Transform;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var PointMesher,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

PointMesher = (function(_super) {

  __extends(PointMesher, _super);

  function PointMesher(pos, density, radius) {
    if (pos == null) {
      pos = [0, 0, 0];
    }
    if (density == null) {
      density = 2;
    }
    if (radius == null) {
      radius = 6;
    }
    PointMesher.__super__.constructor.call(this);
    this.add_attr({
      point: new Point(pos),
      density: density,
      radius: radius,
      _selected: new Lst,
      _pre_sele: new Lst
    });
  }

  PointMesher.prototype.z_index = function() {
    return 1000;
  };

  PointMesher.prototype.draw = function(info) {
    var editable_points, highlighted_points, item, n, points, proj, selected, selected_points, _i, _j, _k, _l, _len, _len1, _len2, _len3, _pre_sele, _ref, _ref1, _ref2, _ref3;
    if (info.ctx_type === 'gl') {
      selected = {};
      _ref = this._selected;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        item = _ref[_i];
        selected[item.model_id] = true;
      }
      _pre_sele = {};
      _ref1 = this._pre_sele;
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        item = _ref1[_j];
        _pre_sele[item.model_id] = true;
      }
      points = new PointTheme(new Color(255, 255, 255, 255), this.radius.get(), new Color(255, 255, 255, 255), 1);
      editable_points = new PointTheme(new Color(0, 255, 0, 255), this.radius.get(), new Color(255, 255, 255, 255), 1);
      selected_points = new PointTheme(new Color(255, 0, 0, 255), this.radius.get(), new Color(255, 255, 255, 255), 1);
      highlighted_points = new PointTheme(new Color(0, 0, 0, 0), this.radius.get(), new Color(255, 0, 0, 255), 1);
      proj = info.re_2_sc.proj(this.point.pos.get());
      editable_points.beg_ctx(info);
      points.draw_proj(info, proj);
      editable_points.end_ctx(info);
      if (_pre_sele[this.model_id] != null) {
        highlighted_points.beg_ctx(info);
        n = info.re_2_sc.proj(this.point.pos.get());
        highlighted_points.draw_proj(info, n);
        return highlighted_points.end_ctx(info);
      }
    } else {
      selected = {};
      _ref2 = this._selected;
      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
        item = _ref2[_k];
        selected[item.model_id] = true;
      }
      _pre_sele = {};
      _ref3 = this._pre_sele;
      for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {
        item = _ref3[_l];
        _pre_sele[item.model_id] = true;
      }
      proj = info.re_2_sc.proj(this.point.pos.get());
      info.ctx.lineWidth = 1;
      info.ctx.strokeStyle = "#993311";
      info.ctx.fillStyle = "#553311";
      if (selected[this.point.model_id] != null) {
        info.ctx.strokeStyle = "#FF0000";
      } else {
        info.ctx.strokeStyle = "#FFFF00";
      }
      info.ctx.beginPath();
      info.ctx.arc(proj[0], proj[1], this.radius.get(), 0, Math.PI * 2, true);
      info.ctx.closePath();
      info.ctx.fill();
      info.ctx.stroke();
      if (_pre_sele[this.model_id] != null) {
        info.ctx.fillStyle = "#FFDD22";
        info.ctx.beginPath();
        info.ctx.lineWidth = 0.8;
        info.ctx.arc(proj[0], proj[1], this.radius.get() * 0.5, 0, Math.PI * 2, true);
        info.ctx.fill();
        return info.ctx.closePath();
      }
    }
  };

  PointMesher.prototype.get_movable_entities = function(res, info, pos, phase) {
    var d, dx, dy, proj, x, y;
    x = pos[0];
    y = pos[1];
    if (phase === 0) {
      proj = info.re_2_sc.proj(this.point.pos.get());
      dx = x - proj[0];
      dy = y - proj[1];
      d = Math.sqrt(dx * dx + dy * dy);
      if (d <= 10) {
        return res.push({
          item: this.point,
          dist: d,
          type: "PointMesher"
        });
      }
    }
  };

  PointMesher.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var phase, res, _i;
    delete this._movable_entity;
    if (b === "LEFT" || b === "RIGHT") {
      for (phase = _i = 0; _i < 3; phase = ++_i) {
        res = [];
        this.get_movable_entities(res, cm.cam_info, pos, phase);
        if (res.length) {
          res.sort(function(a, b) {
            return b.dist - a.dist;
          });
          this._movable_entity = res[0].item;
          if (evt.ctrlKey) {
            this._selected.toggle_ref(this._movable_entity);
            if (!this._selected.contains_ref(this._movable_entity)) {
              delete this._movable_entity;
            }
          } else {
            this._selected.clear();
            this._selected.push(this._movable_entity);
            this._movable_entity.beg_click(pos);
          }
          if (b === "RIGHT") {
            return false;
          }
          return true;
        }
      }
    }
    return false;
  };

  PointMesher.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var d, d_0, dx, dy, p_0, proj, res, x, y, _ref;
    if (b === "LEFT" && (this._movable_entity != null)) {
      if ((_ref = cm.undo_manager) != null) {
        _ref.snapshot();
      }
      p_0 = cm.cam_info.sc_2_rw.pos(pos[0], pos[1]);
      d_0 = cm.cam_info.sc_2_rw.dir(pos[0], pos[1]);
      this._movable_entity.move(this._selected, this._movable_entity.pos, p_0, d_0);
      return true;
    }
    res = [];
    x = pos[0];
    y = pos[1];
    proj = cm.cam_info.re_2_sc.proj(this.point.pos.get());
    dx = x - proj[0];
    dy = y - proj[1];
    d = Math.sqrt(dx * dx + dy * dy);
    if (d <= 10) {
      res.push({
        item: this,
        dist: d
      });
    }
    if (res.length) {
      res.sort(function(a, b) {
        return b.dist - a.dist;
      });
      if (this._pre_sele.length !== 1 || this._pre_sele[0] !== res[0].item) {
        this._pre_sele.clear();
        this._pre_sele.push(res[0].item);
      }
    } else if (this._pre_sele.length) {
      this._pre_sele.clear();
    }
    return false;
  };

  return PointMesher;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Point,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Point = (function(_super) {

  __extends(Point, _super);

  function Point(pos, move_scheme) {
    if (move_scheme == null) {
      move_scheme = new MoveScheme_3D;
    }
    Point.__super__.constructor.call(this);
    this.add_attr({
      pos: new Vec_3(pos)
    });
    this._mv = move_scheme;
  }

  Point.prototype.disp_only_in_model_editor = function() {
    return this.pos;
  };

  Point.prototype.beg_click = function(pos) {
    return this._mv.beg_click(pos);
  };

  Point.prototype.move = function(selected_entities, pos, p_0, d_0) {
    return this._mv.move(selected_entities, pos, p_0, d_0);
  };

  Point.prototype.z_index = function() {
    return 100;
  };

  Point.prototype.size = function(for_display) {
    if (for_display == null) {
      for_display = false;
    }
    return [3];
  };

  return Point;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var CamRepresentation,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

CamRepresentation = (function(_super) {

  __extends(CamRepresentation, _super);

  function CamRepresentation(cam, params) {
    var key, val, _ref;
    if (params == null) {
      params = {};
    }
    CamRepresentation.__super__.constructor.call(this);
    this.add_attr({
      cam: cam
    });
    for (key in params) {
      val = params[key];
      if ((_ref = this[key]) != null) {
        if (typeof _ref.set === "function") {
          _ref.set(val);
        }
      }
    }
  }

  CamRepresentation.prototype.z_index = function() {
    return 10;
  };

  CamRepresentation.prototype.draw = function(info) {
    var F, P, X, Y, Z, d, e, lb, lt, rb, rt, size_elem;
    d = this.cam.d.get();
    e = d * Math.tan(this.cam.get_a() * 0.017453292519943295 / 2);
    X = Vec_3.mus(e, this.cam.get_X());
    Y = Vec_3.mus(e, this.cam.get_Y());
    Z = Vec_3.mus(d, this.cam.get_Z());
    F = this.cam.focal_point();
    P = info.re_2_sc.proj(F);
    lt = info.re_2_sc.proj([F[0] + Z[0] - X[0] + Y[0], F[1] + Z[1] - X[1] + Y[1], F[2] + Z[2] - X[2] + Y[2]]);
    rt = info.re_2_sc.proj([F[0] + Z[0] + X[0] + Y[0], F[1] + Z[1] + X[1] + Y[1], F[2] + Z[2] + X[2] + Y[2]]);
    rb = info.re_2_sc.proj([F[0] + Z[0] + X[0] - Y[0], F[1] + Z[1] + X[1] - Y[1], F[2] + Z[2] + X[2] - Y[2]]);
    lb = info.re_2_sc.proj([F[0] + Z[0] - X[0] - Y[0], F[1] + Z[1] - X[1] - Y[1], F[2] + Z[2] - X[2] - Y[2]]);
    info.ctx.lineWidth = 2;
    info.ctx.beginPath();
    info.ctx.strokeStyle = "lightBlue";
    info.ctx.moveTo(P[0], P[1]);
    info.ctx.lineTo(lt[0], lt[1]);
    info.ctx.moveTo(P[0], P[1]);
    info.ctx.lineTo(rt[0], rt[1]);
    info.ctx.moveTo(P[0], P[1]);
    info.ctx.lineTo(rb[0], rb[1]);
    info.ctx.moveTo(P[0], P[1]);
    info.ctx.lineTo(lb[0], lb[1]);
    info.ctx.moveTo(lt[0], lt[1]);
    info.ctx.lineTo(rt[0], rt[1]);
    info.ctx.lineTo(rb[0], rb[1]);
    info.ctx.lineTo(lb[0], lb[1]);
    info.ctx.lineTo(lt[0], lt[1]);
    info.ctx.stroke();
    info.ctx.closePath();
    size_elem = 10;
    info.ctx.beginPath();
    info.ctx.fillStyle = "navy";
    info.ctx.arc(P[0], P[1], size_elem * 0.5, 0, Math.PI * 2, true);
    info.ctx.fill();
    if ((this.cam != null) && (this.cam.model_id != null)) {
      info.ctx.fillStyle = "white";
      info.ctx.font = "10px Arial";
      info.ctx.fillText("Cam " + this.cam.model_id, P[0] + 10, P[1] - 10);
    }
    return info.ctx.closePath();
  };

  return CamRepresentation;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var CanvasPoint,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

CanvasPoint = (function(_super) {

  __extends(CanvasPoint, _super);

  function CanvasPoint(pos, params) {
    if (pos == null) {
      pos = [0, 0, 0];
    }
    if (params == null) {
      params = {};
    }
    CanvasPoint.__super__.constructor.call(this);
    this.add_attr({
      point: new Point(pos),
      radius: new ConstrainedVal(6, {
        min: 1,
        max: 20
      }),
      color: params.color != null ? params.color : new Color(255, 255, 255, 255),
      _edge_color: params.edge_color != null ? params.edge_color : new Color(0, 0, 0, 255)
    });
    if (params.radius != null) {
      this.radius.set(params.radius);
    }
  }

  CanvasPoint.prototype.z_index = function() {
    return 1000;
  };

  CanvasPoint.prototype.draw = function(info) {
    var points, proj;
    if (info.ctx_type === 'gl') {
      points = new PointTheme(this.color, this.radius.get(), this._edge_color, 1);
      proj = info.re_2_sc.proj(this.point.pos.get());
      points.beg_ctx(info);
      points.draw_proj(info, proj);
      return points.end_ctx(info);
    } else {
      proj = info.re_2_sc.proj(this.point.pos.get());
      info.ctx.lineWidth = 1;
      info.ctx.strokeStyle = "#993311";
      info.ctx.fillStyle = "#553311";
      info.ctx.strokeStyle = "#FF0000";
      info.ctx.strokeStyle = "#FFFF00";
      info.ctx.beginPath();
      info.ctx.arc(proj[0], proj[1], this.radius.get(), 0, Math.PI * 2, true);
      info.ctx.closePath();
      info.ctx.fill();
      return info.ctx.stroke();
    }
  };

  return CanvasPoint;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Axes,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Axes = (function(_super) {

  __extends(Axes, _super);

  function Axes() {
    Axes.__super__.constructor.call(this);
    this.add_attr({
      p: new Choice(0, ["lb", "lt", "rb", "rt", "mm"]),
      r: new ConstrainedVal(0.05, {
        min: 0,
        max: 1
      }),
      d: 1,
      l: new ConstrainedVal(2, {
        min: 0,
        max: 10,
        div: 10
      })
    });
    this.theme_x = new LineTheme(new Color(255, 0, 0));
    this.theme_y = new LineTheme(new Color(0, 255, 0));
    this.theme_z = new LineTheme(new Color(0, 0, 255));
  }

  Axes.prototype.z_index = function() {
    return 10000;
  };

  Axes.prototype.draw = function(info) {
    var o, vz, x, y, z, _ref;
    _ref = this._coords(info), o = _ref[0], x = _ref[1], y = _ref[2], z = _ref[3];
    vz = -1 + 1e-5;
    o[2] = vz;
    x[2] = vz;
    y[2] = vz;
    z[2] = vz;
    this.theme_x.beg_ctx(info);
    this.theme_x.draw_straight_proj(info, o, x);
    this.theme_x.end_ctx(info);
    this.theme_y.beg_ctx(info);
    this.theme_y.draw_straight_proj(info, o, y);
    this.theme_y.end_ctx(info);
    this.theme_z.beg_ctx(info);
    this.theme_z.draw_straight_proj(info, o, z);
    return this.theme_z.end_ctx(info);
  };

  Axes.prototype._coords = function(info) {
    var c, d, dec, l, ma_x, ma_y, mi_x, mi_y, o, p, s, x, y, z;
    d = this.d.get();
    if (d < 0 || !this.p.equals("mm")) {
      d = info.cam.d.get() / 10;
    }
    l = this.r.get() * (this._fixed() ? d : info.cam.d.get());
    s = 0.3 * info.mwh * this.r.get();
    c = info.cam.O.get();
    o = info.re_2_sc.proj(Vec_3.add(c, [0, 0, 0]));
    x = info.re_2_sc.proj(Vec_3.add(c, [l, 0, 0]));
    y = info.re_2_sc.proj(Vec_3.add(c, [0, l, 0]));
    z = info.re_2_sc.proj(Vec_3.add(c, [0, 0, l]));
    mi_x = Math.min(o[0], x[0], y[0], z[0]);
    ma_x = Math.max(o[0], x[0], y[0], z[0]);
    mi_y = Math.min(o[1], x[1], y[1], z[1]);
    ma_y = Math.max(o[1], x[1], y[1], z[1]);
    p = this.p.get();
    if (p[0] === "l" || p[0] === "r") {
      dec = p[0] === "r" ? info.w - ma_x - s : s - mi_x;
      x[0] += dec;
      y[0] += dec;
      z[0] += dec;
      o[0] += dec;
    }
    if (p[1] === "b" || p[1] === "t") {
      dec = p[1] === "b" ? info.h - ma_y - s : s - mi_y;
      x[1] += dec;
      y[1] += dec;
      z[1] += dec;
      o[1] += dec;
    }
    return [o, x, y, z];
  };

  Axes.prototype._fixed = function() {
    return this.p.equals("mm");
  };

  return Axes;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var ZoomArea,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ZoomArea = (function(_super) {

  __extends(ZoomArea, _super);

  function ZoomArea(canvas_manager, params) {
    var key, val, _ref;
    this.canvas_manager = canvas_manager;
    if (params == null) {
      params = {};
    }
    ZoomArea.__super__.constructor.call(this);
    this.add_attr({
      zoom_factor: [5, 5, 1],
      zoom_pos: [-1, -1, 0]
    });
    for (key in params) {
      val = params[key];
      if ((_ref = this[key]) != null) {
        if (typeof _ref.set === "function") {
          _ref.set(val);
        }
      }
    }
  }

  ZoomArea.prototype.z_index = function() {
    return 1000;
  };

  ZoomArea.prototype.always_active = function() {
    return true;
  };

  ZoomArea.prototype.on_mouse_move = function(cm, evt, pos, b) {
    this.zoom_pos[0].set(pos[0]);
    this.zoom_pos[1].set(pos[1]);
    return false;
  };

  ZoomArea.prototype.on_mouse_wheel = function(cm, evt, pos, b, delta) {
    var n;
    n = Math.pow(1.2, delta);
    this.zoom_factor[0].set(this.zoom_factor[0] * n);
    this.zoom_factor[1].set(this.zoom_factor[1] * n);
    return true;
  };

  ZoomArea.prototype.draw = function(info) {
    var clientX, clientY, it, key, n_info, val, zx, zy, _i, _len, _ref;
    clientX = this.zoom_pos[0].get();
    clientY = this.zoom_pos[1].get();
    zx = this.zoom_factor[0].get();
    zy = this.zoom_factor[1].get();
    n_info = {};
    for (key in info) {
      val = info[key];
      n_info[key] = val;
    }
    n_info.re_2_sc = {
      proj: function(p) {
        var np;
        np = info.re_2_sc.proj(p);
        return [zx * (np[0] - clientX) + clientX, zy * (np[1] - clientY) + clientY, p[2]];
      }
    };
    info.ctx.save();
    info.ctx.beginPath();
    info.ctx.strokeStyle = 'rgba(170,170,200,0.8)';
    info.ctx.shadowBlur = 5;
    info.ctx.shadowColor = "lightBlue";
    info.ctx.lineWidth = 4;
    info.ctx.arc(clientX, clientY, 100, 0, Math.PI * 2, true);
    info.ctx.stroke();
    info.ctx.shadowBlur = 0;
    info.ctx.shadowColor = "transparent black";
    info.ctx.fillStyle = "lightBlue";
    info.ctx.font = "10px Arial";
    info.ctx.textBaseline = 'bottom';
    info.ctx.textAlign = 'left';
    info.ctx.fillText("X " + this.zoom_factor[0].get().toFixed(1), clientX + 75, clientY - 75);
    info.ctx.closePath();
    info.ctx.clip();
    _ref = this.canvas_manager._flat;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      it = _ref[_i];
      if (it !== this && !(it instanceof Axes)) {
        it.draw(n_info);
      }
    }
    return info.ctx.restore();
  };

  return ZoomArea;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Graph_old,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Graph_old = (function(_super) {

  __extends(Graph_old, _super);

  function Graph_old(params) {
    var key, val, _ref;
    if (params == null) {
      params = {};
    }
    Graph_old.__super__.constructor.call(this);
    this.add_attr({
      show_line: true,
      line_color: new Color(0, 0, 0),
      line_width: new ConstrainedVal(1, {
        min: 0,
        max: 20
      }),
      shadow: true,
      show_marker: true,
      marker: new Choice(0, ["dot", "square", "cross", "diamond", "bar"]),
      marker_size: new ConstrainedVal(5, {
        min: 0,
        max: 40
      }),
      marker_color: new Color(0, 0, 0),
      font_color: new Color(0, 0, 0),
      font_size: new ConstrainedVal(12, {
        min: 2,
        max: 72
      }),
      show_grid: true,
      grid_color: new Color(200, 200, 200),
      x_axis: '',
      y_axis: '',
      legend_x_division: 5,
      legend_y_division: 3,
      sel_item_color: new Color(255, 255, 0),
      movable_hl_infos: true,
      points: new Lst_Point,
      legend: new Lst,
      _pre_sele: new Lst
    });
    for (key in params) {
      val = params[key];
      if ((_ref = this[key]) != null) {
        if (typeof _ref.set === "function") {
          _ref.set(val);
        }
      }
    }
    this.axis_width = 1;
    this.origin = [0, 0];
    this.O_point = [0, 0];
    this.X_point = [0, 0];
    this.Y_point = [0, 0];
  }

  Graph_old.prototype.z_index = function() {
    return 100;
  };

  Graph_old.prototype.build_w2b_legend = function() {
    var color, i, _i, _results;
    _results = [];
    for (i = _i = 0; _i <= 255; i = ++_i) {
      color = (i < 16 ? '0' : '') + i.toString(16);
      _results.push(this.legend[i] = "#" + color + color + color);
    }
    return _results;
  };

  Graph_old.prototype.draw = function(info) {
    var orig, p, proj;
    this.O_point = [info.padding / 2, info.h - info.padding];
    this.X_point = [info.w - info.padding / 2, info.h - info.padding];
    this.Y_point = [info.padding / 2, -info.h + info.padding];
    info.ctx.lineCap = "round";
    info.ctx.lineJoin = "round";
    info.ctx.shadowOffsetX = 0;
    info.ctx.shadowOffsetY = 0;
    info.ctx.shadowBlur = 0;
    info.ctx.shadowColor = "transparent black";
    if (this.points.length) {
      orig = info.re_2_sc.proj([0, 0, 0]);
      proj = (function() {
        var _i, _len, _ref, _results;
        _ref = this.points;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          p = _ref[_i];
          _results.push(info.re_2_sc.proj(p.pos.get()));
        }
        return _results;
      }).call(this);
      if (this.show_grid.get() === true) {
        this.draw_grid(info);
      }
      if (this.shadow.get() === true) {
        this.add_shadow(info);
      } else {
        this.remove_shadow(info);
      }
      if (this.show_line.get() === true) {
        this.draw_line(info, orig, proj);
      }
      if (this.show_marker.get() === true) {
        if (this.marker.get() === 'bar') {
          this.draw_marker_bar(info, orig, proj);
        } else if (this.marker.get() === 'cross') {
          this.draw_marker_cross(info, orig, proj);
        } else if (this.marker.get() === 'square') {
          this.draw_marker_square(info, orig, proj);
        } else if (this.marker.get() === 'diamond') {
          this.draw_marker_diamond(info, orig, proj);
        } else if (this.marker.get() === 'dot') {
          this.draw_marker_dot(info, orig, proj);
        }
      }
      this.remove_shadow(info);
      if (this.show_marker.get() === true) {
        if (this.movable_hl_infos.get() === true) {
          this.draw_movable_highlight_values(info);
        } else {
          this.draw_highlight_values(info);
        }
      }
    }
    this.hide_outside_values(info);
    this.draw_axis(info);
    return this.draw_legend(info);
  };

  Graph_old.prototype.add_shadow = function(info) {
    info.ctx.shadowOffsetX = this.line_width.get();
    info.ctx.shadowOffsetY = this.line_width.get();
    info.ctx.shadowBlur = this.line_width.get();
    return info.ctx.shadowColor = "#3a3a3a";
  };

  Graph_old.prototype.remove_shadow = function(info) {
    info.ctx.shadowOffsetX = 0;
    info.ctx.shadowOffsetY = 0;
    info.ctx.shadowBlur = 0;
    return info.ctx.shadowColor = "transparent black";
  };

  Graph_old.prototype.hide_outside_values = function(info) {
    info.ctx.fillStyle = "rgba( 255, 255, 255, 0.9 )";
    info.ctx.clearRect(0, 0, info.padding * 0.5, info.h);
    return info.ctx.clearRect(info.padding * 0.5, info.h - info.padding / 2, info.w, info.padding * 0.5);
  };

  Graph_old.prototype.draw_movable_highlight_values = function(info) {
    var decal_left, decal_top, height_box, highlighted_point, i, p, padding_left, padding_top, pos, text, width_box, _i, _len, _ref, _ref1, _results;
    padding_left = 10;
    padding_top = -8;
    decal_left = 10;
    decal_top = -12;
    _ref = this.points;
    _results = [];
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      p = _ref[i];
      if (_ref1 = this.points[i], __indexOf.call(this._pre_sele, _ref1) >= 0) {
        highlighted_point = p.pos.get();
        info.ctx.beginPath();
        pos = info.re_2_sc.proj(highlighted_point);
        text = highlighted_point[0] + ", " + highlighted_point[1];
        info.ctx.font = this.font_size.get() * 2 + "px Arial";
        width_box = info.ctx.measureText(text).width + padding_left * 2;
        height_box = this.font_size.get() * 3;
        info.ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
        info.ctx.fillRect(pos[0] + decal_left, pos[1] + decal_top - height_box * 0.8, width_box, height_box);
        info.ctx.lineWidth = 1;
        info.ctx.strokeStyle = "rgba(0, 0, 0, 0.8)";
        info.ctx.strokeRect(pos[0] + decal_left, pos[1] + decal_top - height_box * 0.8, width_box, height_box);
        info.ctx.textAlign = "left";
        info.ctx.fillStyle = this.font_color.to_rgba();
        _results.push(info.ctx.fillText(text, pos[0] + padding_left + decal_left, pos[1] + padding_top + decal_top));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Graph_old.prototype.draw_highlight_values = function(info) {
    var highlighted_point, i, p, padding, _i, _len, _ref, _ref1, _results;
    padding = 10;
    _ref = this.points;
    _results = [];
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      p = _ref[i];
      if (_ref1 = this.points[i], __indexOf.call(this._pre_sele, _ref1) >= 0) {
        highlighted_point = p.pos.get();
        info.ctx.beginPath();
        info.ctx.fillStyle = this.font_color.to_rgba();
        info.ctx.textAlign = "right";
        info.ctx.font = this.font_size.get() * 2 + "px Arial";
        _results.push(info.ctx.fillText(highlighted_point[0] + ", " + highlighted_point[1], info.w - padding, 20));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Graph_old.prototype.draw_line = function(info, orig, proj) {
    var i, p, _i, _len;
    info.ctx.beginPath();
    info.ctx.strokeStyle = this.line_color.to_rgba();
    if (this.line_width.get() <= 1) {
      info.ctx.lineWidth = 1.000001;
    } else {
      info.ctx.lineWidth = this.line_width.get();
    }
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      info.ctx.lineTo(p[0], p[1]);
    }
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_marker_dot = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx.fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx.fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx.beginPath();
      info.ctx.arc(p[0], p[1], this.marker_size.get() * 0.5, 0, Math.PI * 2, true);
      info.ctx.fill();
    }
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_marker_cross = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx.strokeStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx.strokeStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx.beginPath();
      info.ctx.moveTo(p[0] - this.marker_size.get() * 0.5, p[1] + this.marker_size.get() * 0.5);
      info.ctx.lineTo(p[0] + this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5);
      info.ctx.moveTo(p[0] + this.marker_size.get() * 0.5, p[1] + this.marker_size.get() * 0.5);
      info.ctx.lineTo(p[0] - this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5);
      info.ctx.stroke();
    }
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_marker_square = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx.fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx.fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx.beginPath();
      info.ctx.fillRect(p[0] - this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5, this.marker_size.get(), this.marker_size.get());
    }
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_marker_diamond = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx.fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx.fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx.beginPath();
      info.ctx.moveTo(p[0], p[1] - this.marker_size.get());
      info.ctx.lineTo(p[0] + this.marker_size.get() * 0.5, p[1]);
      info.ctx.lineTo(p[0], p[1] + this.marker_size.get());
      info.ctx.lineTo(p[0] - +this.marker_size.get() * 0.5, p[1]);
      info.ctx.fill();
    }
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_marker_bar = function(info, orig, proj) {
    var height, i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx.fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx.fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      height = orig[1] - p[1];
      info.ctx.beginPath();
      info.ctx.fillRect(p[0], p[1], this.marker_size.get(), height);
    }
    return info.ctx.closePath();
  };

  Graph_old.prototype.draw_axis = function(info) {
    var decal_txt, height_axis, orig, width_axis;
    orig = [info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx.beginPath();
    info.ctx.lineWidth = this.axis_width;
    info.ctx.strokeStyle = this.font_color.to_rgba();
    info.ctx.fillStyle = this.font_color.to_rgba();
    info.ctx.font = this.font_size.get() + "px Arial";
    decal_txt = 10;
    if (this.x_axis.get() !== "") {
      info.ctx.textAlign = "left";
      info.ctx.fillText(this.x_axis.get(), orig[0] + width_axis + decal_txt, orig[1] + 2);
    }
    info.ctx.moveTo(orig[0], orig[1]);
    info.ctx.lineTo(orig[0] + width_axis, orig[1]);
    if (this.y_axis.get() !== "") {
      info.ctx.textBaseline = "bottom";
      info.ctx.textAlign = "center";
      info.ctx.fillText(this.y_axis.get(), orig[0] - 2, height_axis - decal_txt);
    }
    info.ctx.moveTo(orig[0], orig[1]);
    info.ctx.lineTo(orig[0], height_axis);
    info.ctx.stroke();
    info.ctx.closePath();
    return info.ctx.textBaseline = "middle";
  };

  Graph_old.prototype.draw_legend = function(info) {
    var decal_txt_X, decal_txt_Y, height_axis, i, max, min, nice_val, orig, pos, posit, val, val_from_screen, value, vve, width_axis, x_padding_txt, y_padding_txt, _i, _j, _k, _l, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
    x_padding_txt = 10;
    y_padding_txt = 2;
    decal_txt_X = 3;
    decal_txt_Y = 1;
    orig = [0 + info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding / 2;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx.beginPath();
    info.ctx.fillStyle = this.font_color.to_rgba();
    info.ctx.font = this.font_size.get() * 0.8 + "px Arial";
    info.ctx.textAlign = 'center';
    info.ctx.textBaseline = 'top';
    value = [];
    posit = [];
    for (i = _i = 0, _ref = this.legend_x_division.get(); 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
      pos = orig[0] + ((width_axis - decal_txt_X - (orig[0] - decal_txt_X)) / this.legend_x_division.get()) * i;
      vve = info.sc_2_rw.pos(pos, 0);
      val = vve[0];
      value.push(val);
      posit.push(pos);
    }
    _ref1 = this.get_min_max_of_array(value), min = _ref1[0], max = _ref1[1];
    for (i = _j = 0, _ref2 = this.legend_x_division.get(); 0 <= _ref2 ? _j <= _ref2 : _j >= _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
      nice_val = this.get_significative_number(value[i], [min, max]);
      info.ctx.fillText(nice_val, posit[i], orig[1] + x_padding_txt);
    }
    info.ctx.textBaseline = 'middle';
    info.ctx.textAlign = 'right';
    value = [];
    posit = [];
    for (i = _k = 0, _ref3 = this.legend_y_division.get(); 0 <= _ref3 ? _k <= _ref3 : _k >= _ref3; i = 0 <= _ref3 ? ++_k : --_k) {
      pos = orig[1] + ((height_axis + decal_txt_Y - (orig[1] + decal_txt_Y)) / this.legend_y_division.get()) * i;
      val_from_screen = info.sc_2_rw.pos(0, pos);
      val = val_from_screen[1];
      value.push(val);
      posit.push(pos);
    }
    _ref4 = this.get_min_max_of_array(value), min = _ref4[0], max = _ref4[1];
    for (i = _l = 0, _ref5 = this.legend_y_division.get(); 0 <= _ref5 ? _l <= _ref5 : _l >= _ref5; i = 0 <= _ref5 ? ++_l : --_l) {
      nice_val = this.get_significative_number(value[i], [min, max]);
      info.ctx.fillText(nice_val, orig[0] - y_padding_txt, posit[i] + decal_txt_Y);
    }
    info.ctx.fill();
    return info.ctx.closePath();
  };

  Graph_old.prototype.get_min_max_of_array = function(array) {
    var el, max, min, _i, _j, _len, _len1;
    min = array[0];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      el = array[_i];
      if (el < min) {
        min = el;
      }
    }
    max = array[0];
    for (_j = 0, _len1 = array.length; _j < _len1; _j++) {
      el = array[_j];
      if (el > max) {
        max = el;
      }
    }
    return [min, max];
  };

  Graph_old.prototype.get_significative_number = function(val, _arg) {
    var c, i, max, min, num, number, res, size, _i, _len, _ref;
    min = _arg[0], max = _arg[1];
    size = Math.abs(max - min);
    if (size > 1) {
      res = Math.round(val);
      if (res.toString().length > 4) {
        res = res.toExponential();
      }
    } else {
      num = Math.round(val).toString().length;
      if (num <= 4) {
        res = val.toPrecision(num + 2);
        _ref = val.toString();
        for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
          c = _ref[i];
          if (c !== "0" && c !== "." && c !== "-") {
            number = i;
            break;
          }
        }
        if (number > 3) {
          res = parseFloat(res).toExponential();
        }
      } else {
        res = val.toFixed(2);
      }
    }
    return res;
  };

  Graph_old.prototype.draw_grid = function(info) {
    var height_axis, i, orig, pos, width_axis, _i, _j, _ref, _ref1;
    orig = [0 + info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding / 2;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx.beginPath();
    info.ctx.strokeStyle = this.grid_color.to_rgba();
    for (i = _i = 1, _ref = this.legend_x_division.get(); 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      pos = orig[0] + ((width_axis - orig[0]) / this.legend_x_division.get()) * i;
      info.ctx.moveTo(pos, orig[1]);
      info.ctx.lineTo(pos, height_axis);
      info.ctx.stroke();
    }
    for (i = _j = 1, _ref1 = this.legend_y_division.get(); 1 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 1 <= _ref1 ? ++_j : --_j) {
      pos = orig[1] + ((height_axis - orig[1]) / this.legend_y_division.get()) * i;
      info.ctx.moveTo(orig[0], pos);
      info.ctx.lineTo(orig[0] + info.w - info.padding, pos);
    }
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  Graph_old.prototype.update_min_max = function(x_min, x_max) {
    var d, m, p, _i, _len, _ref, _results;
    _ref = this.points;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      m = _ref[_i];
      p = m.pos.get();
      _results.push((function() {
        var _j, _results1;
        _results1 = [];
        for (d = _j = 0; _j < 3; d = ++_j) {
          x_min[d] = Math.min(x_min[d], p[d]);
          _results1.push(x_max[d] = Math.max(x_max[d], p[d]));
        }
        return _results1;
      })());
    }
    return _results;
  };

  Graph_old.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var d, dx, dy, i, p, proj, res, x, y, _i, _len, _ref;
    res = [];
    x = pos[0];
    y = pos[1];
    if (this.points.length) {
      _ref = this.points;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        p = _ref[i];
        proj = cm.cam_info.re_2_sc.proj(p.pos.get());
        dx = x - proj[0];
        dy = y - proj[1];
        d = Math.sqrt(dx * dx + dy * dy);
        if (d <= this.marker_size.get() * 2) {
          res.push({
            item: p,
            dist: d
          });
        }
      }
    }
    if (res.length) {
      res.sort(function(a, b) {
        return b.dist - a.dist;
      });
      if (this._pre_sele.length !== 1 || this._pre_sele[0] !== res[0].item) {
        this._pre_sele.clear();
        this._pre_sele.push(res[0].item);
      }
    } else if (this._pre_sele.length) {
      this._pre_sele.clear();
    }
    return false;
  };

  return Graph_old;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var CuttingPlan,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

CuttingPlan = (function(_super) {

  __extends(CuttingPlan, _super);

  function CuttingPlan(pos, dir) {
    if (pos == null) {
      pos = [0, 0, 0];
    }
    if (dir == null) {
      dir = [0, 0, -0.2];
    }
    CuttingPlan.__super__.constructor.call(this);
    this.add_attr({
      pos: new Point(pos),
      dir: new Point(dir),
      opacity: new ConstrainedVal(50, {
        min: 0,
        max: 100,
        div: 100
      }),
      _selected: new Lst,
      _pre_sele: new Lst
    });
    this.b = [];
  }

  CuttingPlan.prototype.z_index = function() {
    return 1;
  };

  CuttingPlan.prototype.bounding_box = function() {
    var get_min_max, item, x_max, x_min, _i, _len, _ref;
    if (this._bounding_box != null) {
      return this._bounding_box;
    }
    get_min_max = function(item, x_min, x_max) {
      var sub_item, _i, _len, _ref, _results;
      if (item.update_min_max != null) {
        return item.update_min_max(x_min, x_max);
      } else if (item.sub_canvas_items != null) {
        _ref = item.sub_canvas_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          sub_item = _ref[_i];
          _results.push(get_min_max(sub_item, x_min, x_max));
        }
        return _results;
      }
    };
    x_min = [+1e40, +1e40, +1e40];
    x_max = [-1e40, -1e40, -1e40];
    _ref = this._parents[0]._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      item = _ref[_i];
      get_min_max(item, x_min, x_max);
    }
    if (x_min[0] === +1e40) {
      return [[-1, -1, -1], [1, 1, 1]];
    }
    this._bounding_box = [x_min, x_max];
    return this._bounding_box;
  };

  CuttingPlan.prototype.draw = function(info) {
    var half_height, half_width, height, lb, lt, proj_dir, proj_pos, rb, rt, width, _ref, _ref1, _ref2, _ref3;
    proj_pos = info.re_2_sc.proj(this.pos.pos.get());
    proj_dir = info.re_2_sc.proj(this.dir.pos.get());
    this.b = this.bounding_box();
    width = this.b[1][0] - this.b[0][0];
    height = this.b[1][1] - this.b[0][1];
    half_width = width / 2;
    half_height = height / 2;
    lt = info.re_2_sc.proj([this.pos.pos[0].get() - half_width, this.pos.pos[1].get() + half_height, this.pos.pos[2].get()]);
    rt = info.re_2_sc.proj([this.pos.pos[0].get() + half_width, this.pos.pos[1].get() + half_height, this.pos.pos[2].get()]);
    rb = info.re_2_sc.proj([this.pos.pos[0].get() + half_width, this.pos.pos[1].get() - half_height, this.pos.pos[2].get()]);
    lb = info.re_2_sc.proj([this.pos.pos[0].get() - half_width, this.pos.pos[1].get() - half_height, this.pos.pos[2].get()]);
    info.ctx.lineWidth = 2;
    info.ctx.lineCap = "square";
    info.ctx.beginPath();
    info.ctx.strokeStyle = "rgb( 70, 70, 70)";
    info.ctx.fillStyle = "rgba( 200, 200, 200, 200)";
    info.ctx.moveTo(lt[0], lt[1]);
    info.ctx.lineTo(rt[0], rt[1]);
    info.ctx.lineTo(rb[0], rb[1]);
    info.ctx.lineTo(lb[0], lb[1]);
    info.ctx.lineTo(lt[0], lt[1]);
    info.ctx.fill();
    info.ctx.stroke();
    info.ctx.closePath();
    info.ctx.beginPath();
    info.ctx.strokeStyle = "orange";
    info.ctx.moveTo(proj_pos[0], proj_pos[1]);
    info.ctx.lineTo(proj_dir[0], proj_dir[1]);
    info.ctx.fill();
    info.ctx.stroke();
    info.ctx.lineWidth = 1;
    info.ctx.beginPath();
    if (_ref = this.pos, __indexOf.call(this._pre_sele, _ref) >= 0) {
      info.ctx.strokeStyle = "yellow";
    } else {
      info.ctx.strokeStyle = "#333311";
    }
    if (_ref1 = this.pos, __indexOf.call(this._selected, _ref1) >= 0) {
      info.ctx.fillStyle = "red";
    } else {
      info.ctx.fillStyle = "#333311";
    }
    info.ctx.arc(proj_pos[0], proj_pos[1], 4, 0, Math.PI * 2, true);
    info.ctx.fill();
    info.ctx.stroke();
    info.ctx.closePath();
    info.ctx.beginPath();
    if (_ref2 = this.dir, __indexOf.call(this._pre_sele, _ref2) >= 0) {
      info.ctx.strokeStyle = "yellow";
    } else {
      info.ctx.strokeStyle = "#333311";
    }
    if (_ref3 = this.dir, __indexOf.call(this._selected, _ref3) >= 0) {
      info.ctx.fillStyle = "red";
    } else {
      info.ctx.fillStyle = "#333311";
    }
    info.ctx.arc(proj_dir[0], proj_dir[1], 4, 0, Math.PI * 2, true);
    info.ctx.fill();
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  CuttingPlan.prototype.get_movable_entities = function(res, info, pos, phase) {
    var d, dx, dy, proj, x, y;
    x = pos[0];
    y = pos[1];
    if (phase === 0) {
      proj = info.re_2_sc.proj(this.pos.pos.get());
      dx = x - proj[0];
      dy = y - proj[1];
      d = Math.sqrt(dx * dx + dy * dy);
      if (d <= 10) {
        res.push({
          item: this.pos,
          dist: d,
          type: "CuttingPlan"
        });
      }
      proj = info.re_2_sc.proj(this.dir.pos.get());
      dx = x - proj[0];
      dy = y - proj[1];
      d = Math.sqrt(dx * dx + dy * dy);
      if (d <= 10) {
        return res.push({
          item: this.dir,
          dist: d,
          type: "CuttingPlan"
        });
      }
    }
  };

  CuttingPlan.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var phase, res, _i;
    delete this._movable_entity;
    if (b === "LEFT") {
      for (phase = _i = 0; _i < 3; phase = ++_i) {
        res = [];
        this.get_movable_entities(res, cm.cam_info, pos, phase);
        if (res.length) {
          res.sort(function(a, b) {
            return b.dist - a.dist;
          });
          this._movable_entity = res[0].item;
          this._may_need_snapshot = true;
          if (evt.ctrlKey) {
            this._selected.toggle_ref(this._movable_entity);
            if (!this._selected.contains_ref(this._movable_entity)) {
              delete this._movable_entity;
            }
          } else {
            this._selected.clear();
            this._selected.push(this._movable_entity);
            this._movable_entity.beg_click(pos);
          }
          return true;
        }
      }
    }
    return false;
  };

  CuttingPlan.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var d, d_0, dx, dy, p_0, proj, res, x, y, _ref;
    if (b === "LEFT" && (this._movable_entity != null)) {
      if (this._may_need_snapshot) {
        if ((_ref = cm.undo_manager) != null) {
          _ref.snapshot();
        }
        delete this._may_need_snapshot;
      }
      p_0 = cm.cam_info.sc_2_rw.pos(pos[0], pos[1]);
      d_0 = cm.cam_info.sc_2_rw.dir(pos[0], pos[1]);
      this._movable_entity.move(this._selected, this._movable_entity.pos, p_0, d_0);
      return true;
    }
    res = [];
    x = pos[0];
    y = pos[1];
    if (this.dir != null) {
      proj = cm.cam_info.re_2_sc.proj(this.dir.pos.get());
      dx = x - proj[0];
      dy = y - proj[1];
      d = Math.sqrt(dx * dx + dy * dy);
      if (d <= 10) {
        res.push({
          item: this.dir,
          dist: d
        });
      }
    }
    if (this.pos != null) {
      proj = cm.cam_info.re_2_sc.proj(this.pos.pos.get());
      dx = x - proj[0];
      dy = y - proj[1];
      d = Math.sqrt(dx * dx + dy * dy);
      if (d <= 10) {
        res.push({
          item: this.pos,
          dist: d
        });
      }
    }
    if (res.length) {
      res.sort(function(a, b) {
        return b.dist - a.dist;
      });
      if (this._pre_sele.length !== 1 || this._pre_sele[0] !== res[0].item) {
        this._pre_sele.clear();
        this._pre_sele.push(res[0].item);
      }
    } else if (this._pre_sele.length) {
      this._pre_sele.clear();
    }
    return false;
  };

  return CuttingPlan;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Legend,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Legend = (function(_super) {

  __extends(Legend, _super);

  function Legend(title, show_legend, auto_fit) {
    if (title == null) {
      title = "Big title";
    }
    if (show_legend == null) {
      show_legend = true;
    }
    if (auto_fit == null) {
      auto_fit = true;
    }
    Legend.__super__.constructor.call(this);
    this.add_attr({
      show_legend: show_legend,
      color_map: new Gradient,
      auto_fit: auto_fit,
      legend_size: new ConstrainedVal(1, {
        min: 0.1,
        max: 2,
        div: 0
      }),
      _title: title,
      _width: 12,
      _height: 100,
      _min_val: 0,
      _max_val: -1
    });
    this.add_attr({
      max_val: new ConstOrNotModel(this.auto_fit, this._max_val, false),
      min_val: new ConstOrNotModel(this.auto_fit, this._min_val, false)
    });
    this.color_map.add_color([0, 0, 0, 255], 0);
    this.color_map.add_color([255, 0, 0, 255], 0.33);
    this.color_map.add_color([255, 255, 0, 255], 0.66);
    this.color_map.add_color([255, 255, 255, 255], 1);
  }

  Legend.prototype.z_index = function() {
    return 1000;
  };

  Legend.prototype.is_correct = function() {
    return this.max_val.get() >= this.min_val.get();
  };

  Legend.prototype.get_ratio = function(info) {
    return info.h / (this._height.get() * 2) * this.legend_size.get();
  };

  Legend.prototype._draw_text_legend = function(info) {
    var c_s, font_size, height, pos, pos_x, pos_y, ratio, val, width, _i, _len, _ref, _results;
    ratio = this.get_ratio(info);
    height = this._height.get() * ratio;
    width = this._width.get() * ratio;
    pos_y = info.h * 0.5 - height * 0.5;
    pos_x = info.w - 2.0 * width;
    font_size = 10 * ratio;
    _ref = this.color_map.color_stop;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      c_s = _ref[_i];
      pos = c_s.position.get();
      val = (this.max_val.get() - this.min_val.get()) * (1 - c_s.position.get()) + this.min_val.get();
      _results.push(info.cm.fillText(val.toFixed(4), pos_x - 8, pos_y + 7 + pos * height, font_size + "pt Arial", "right", "White"));
    }
    return _results;
  };

  Legend.prototype._draw_gradient = function(info, pos_x, pos_y, width, height) {
    var array, col, fs, gl, lineargradient, pos, ps, vs, x_max, x_min, y_max, y_min, z, _i, _len, _points, _ref;
    if (info.ctx_type === "2d") {
      lineargradient = info.ctx.createLinearGradient(0, pos_y, 0, pos_y + height);
      _ref = this.color_map.color_stop;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        col = _ref[_i];
        lineargradient.addColorStop(col.position.get(), "rgba(" + (col.color.r.get()) + ", " + (col.color.g.get()) + ", " + (col.color.b.get()) + ", " + (col.color.a.get()) + ")");
      }
      info.ctx.fillStyle = lineargradient;
      return info.ctx.fillRect(pos_x, pos_y, width, height);
    } else {
      gl = info.ctx;
      vs = "                precision mediump float;\n                varying float y;\n                uniform float my;\n                attribute vec3 pos;\n                void main( void ) {\n                    y = 0.5 * ( my * pos.y + 1.0 );\n                    gl_Position = vec4( pos, 1.0 );\n                }\n            ";
      fs = this.color_map.get_fragment_shader("y");
      ps = info.cm.gl_prog(vs, fs);
      ps.myUniform = gl.getUniformLocation(ps, "my");
      _points = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, _points);
      z = -1.0;
      x_min = 2.0 * pos_x / info.w - 1.0;
      y_min = 1.0 - 2.0 * pos_y / info.h;
      x_max = 2.0 * (pos_x + width) / info.w - 1.0;
      y_max = 1.0 - 2.0 * (pos_y + height) / info.h;
      array = new Float32Array([x_min, y_min, z, x_max, y_min, z, x_min, y_max, z, x_max, y_max, z]);
      gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW);
      gl.useProgram(ps);
      gl.uniform1f(ps.myUniform, info.h * 1.0 / height);
      pos = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(pos);
      gl.bindBuffer(gl.ARRAY_BUFFER, _points);
      gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
      gl.deleteBuffer(_points);
      gl.disableVertexAttribArray(pos);
      return gl.bindBuffer(gl.ARRAY_BUFFER, null);
    }
  };

  Legend.prototype.draw = function(info) {
    var height, pos_x, pos_y, ratio, t, th, width, _ref;
    if (this.show_legend.get() === true) {
      ratio = this.get_ratio(info);
      height = this._height.get() * ratio;
      width = this._width.get() * ratio;
      pos_y = info.h * 0.5 - height * 0.5;
      pos_x = info.w - 2.0 * width;
      this._draw_gradient(info, pos_x, pos_y, width, height);
      this._draw_text_legend(info);
      t = (_ref = this._title) != null ? _ref.toString() : void 0;
      if (t != null) {
        th = 10 * ratio;
        return info.cm.fillText(t, pos_x + 0.5 * width, pos_y + height + th * 1.6, th + "pt Arial", "center-limited", "White");
      }
    }
  };

  return Legend;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var NamedParametrizedDrawable,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

NamedParametrizedDrawable = (function(_super) {

  __extends(NamedParametrizedDrawable, _super);

  function NamedParametrizedDrawable(name, data) {
    NamedParametrizedDrawable.__super__.constructor.call(this, data);
    this.add_attr({
      name: name
    });
  }

  NamedParametrizedDrawable.prototype.toString = function() {
    return this.name.get();
  };

  return NamedParametrizedDrawable;

})(ParametrizedDrawable);
// Generated by CoffeeScript 1.4.0
var Img,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Img = (function(_super) {

  __extends(Img, _super);

  function Img(src, app, need_fit) {
    var onload,
      _this = this;
    if (src == null) {
      src = "";
    }
    if (app == null) {
      app = void 0;
    }
    if (need_fit == null) {
      need_fit = true;
    }
    Img.__super__.constructor.call(this);
    this.add_attr({
      src: src,
      _histo: new Vec
    });
    this.data = {
      zmin: 0,
      zmax: 0,
      buff: void 0,
      rgba: void 0,
      begl: true
    };
    onload = function() {
      _this._signal_change();
      _this.loaded = true;
      _this.data.rgba = _this.data.buff;
      _this.data.buff = new Image;
      _this.data.buff.onload = onload;
      if (_this._histo.length === 0) {
        _this.fill_histogram();
      }
      if (need_fit && (app != null)) {
        need_fit = false;
        return app.fit(0);
      }
    };
    this.loaded = false;
    this.data.buff = new Image;
    this.data.buff.onload = onload;
    this._get_src_data();
    this.tex = {};
    this._date_tex = {};
  }

  Img.prototype.z_index = function() {
    return 1;
  };

  Img.prototype.draw = function(info) {
    var P, Xc, Z, ajusted, dX, dY, dc, h, sc_2_rw, w, x_max, x_min, _ref;
    if (this.src.has_been_modified() || ((_ref = this._repr) != null ? _ref.has_been_modified() : void 0) || this.data.begl) {
      this.data.begl = false;
      this._get_src_data();
    }
    if (!(this.data.rgba != null)) {
      return false;
    }
    this.X = [1, 0, 0];
    this.Y = [0, 1, 0];
    this.Z = [0, 0, -1];
    this.O = [0, 0, 0];
    if (info.shoot_cam != null) {
      w = this.data.rgba.width;
      h = this.data.rgba.height;
      sc_2_rw = info.shoot_cam.sc_2_rw(w, h);
      Z = sc_2_rw.dir(0.5 * w, 0.5 * h);
      x_min = info.get_x_min();
      x_max = info.get_x_max();
      Xc = [0.5 * (x_min[0] + x_max[0]), 0.5 * (x_min[1] + x_max[1]), 0.5 * (x_min[2] + x_max[2])];
      dc = Math.max(x_max[0] - x_min[0], x_max[1] - x_min[1], x_max[2] - x_min[2]);
      P = [Xc[0] + dc * Z[0], Xc[1] + dc * Z[1], Xc[2] + dc * Z[2]];
      ajusted = function(pos, dir, Z, P) {
        var pp, pq;
        pp = Vec_3.dot(Vec_3.sub(P, pos), Z);
        pq = pp / Vec_3.dot(Z, dir);
        return [pos[0] + dir[0] * pq, pos[1] + dir[1] * pq, pos[2] + dir[2] * pq];
      };
      this.O = ajusted(sc_2_rw.pos(0, h), sc_2_rw.dir(0, h), Z, P);
      dX = ajusted(sc_2_rw.pos(w, h), sc_2_rw.dir(w, h), Z, P);
      dY = ajusted(sc_2_rw.pos(0, 0), sc_2_rw.dir(0, 0), Z, P);
      this.X = Vec_3.mus(1 / w, Vec_3.sub(dX, this.O));
      this.Y = Vec_3.mus(1 / h, Vec_3.sub(dY, this.O));
      this.Z = Vec_3.nor(Vec_3.cro(this.X, this.Y));
    }
    if (this.data.zmin === this.data.zmax) {
      if (!(this.loaded != null) || this.loaded !== true) {
        console.log(Img, this.src.get());
        console.log(this.loaded);
      }
      return Img._draw_persp_rec(info, this.data.rgba, this.data.zmin, this.data.zmax, this.O, this.X, this.Y, this.Z, this._date_tex, this.tex, this.src);
    }
  };

  Img.prototype.update_min_max = function(x_min, x_max) {
    var d, _i;
    if (this.data.rgba != null) {
      for (d = _i = 0; _i < 3; d = ++_i) {
        x_min[d] = Math.min(x_min[d], 0);
      }
      x_max[0] = Math.max(x_max[0], this.data.rgba.width);
      x_max[1] = Math.max(x_max[1], this.data.rgba.height);
      return x_max[2] = Math.max(x_max[2], 0);
    }
  };

  Img.prototype.fill_histogram = function() {};

  Img.prototype.information = function(div) {
    var d, _ref;
    if (((_ref = this.data.rgba) != null ? _ref.height : void 0) != null) {
      if (!(this.cm != null)) {
        this.txt = new_dom_element({
          parentNode: div
        });
        d = new_dom_element({
          parentNode: div
        });
      }
      return this.txt.innerHTML = "                " + this.src + " <br>                Height : " + this.data.rgba.height + "px <br>                Width  : " + this.data.rgba.width + "px <br>            ";
    }
  };

  Img.prototype._get_src_data = function() {
    var s;
    s = this._repr != null ? this._repr : this.src;
    if ((typeof Path !== "undefined" && Path !== null) && (s instanceof Path)) {
      return this.data.buff.src = "/sceen/_?u=" + s._server_id;
    } else if (s.get().length) {
      return this.data.buff.src = s.get();
    }
  };

  Img._draw_persp_rec = function(info, rgba, zmin, zmax, O, X, Y, Z, _date_tex, tex, src, xmin, ymin, xmax, ymax, rec) {
    var a, b, c, ca, cb, d, dx, dy, fs, gl, h, ibuf, idx, initBuffer, ps, r, sx, sy, tbuf, txc, vbuf, vs, vtx, w, x, xm_0, xm_1, y, ym_0, ym_1;
    if (xmin == null) {
      xmin = 0;
    }
    if (ymin == null) {
      ymin = 0;
    }
    if (xmax == null) {
      xmax = 1;
    }
    if (ymax == null) {
      ymax = 1;
    }
    if (rec == null) {
      rec = 0;
    }
    w = rgba.width;
    h = rgba.height;
    if (info.ctx_type === "gl") {
      vs = "                attribute vec3 pos;\n                attribute vec2 textureCoords;\n                varying vec2 texcoords;\n                " + (info.cam.gl_attr(info, "cam")) + "\n                void main( void ) {\n                    texcoords = textureCoords;\n                    gl_Position = vec4( pos, 1.0 );\n                    " + (info.cam.gl_main(info, "cam")) + "\n                    gl_Position.z += 1e-5;\n                }\n            ";
      fs = "                precision mediump float;\n                varying vec2 texcoords;\n                uniform sampler2D uSampler;\n                void main( void ) {\n                    gl_FragColor = texture2D( uSampler, texcoords );\n                }\n            ";
      gl = info.ctx;
      ps = info.cm.gl_prog(vs, fs);
      gl.useProgram(ps);
      ps.aposAttrib = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(ps.aposAttrib);
      ps.atexAttrib = gl.getAttribLocation(ps, "textureCoords");
      gl.enableVertexAttribArray(ps.atexAttrib);
      if (!(_date_tex[gl.ctx_id] != null)) {
        _date_tex[gl.ctx_id] = -1;
      }
      if (_date_tex[gl.ctx_id] < src._date_last_modification) {
        _date_tex[gl.ctx_id] = src._date_last_modification;
        if (tex[gl.ctx_id] != null) {
          gl.deleteTexture(tex[gl.ctx_id]);
        }
        tex[gl.ctx_id] = gl.createTexture();
        gl.activeTexture(gl.TEXTURE0);
        gl.bindTexture(gl.TEXTURE_2D, tex[gl.ctx_id]);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, rgba);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
      }
      gl.bindTexture(gl.TEXTURE_2D, tex[gl.ctx_id]);
      ps.samplerUniform = gl.getUniformLocation(ps, "uSampler");
      gl.uniform1i(ps.samplerUniform, 0);
      a = Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmin, X), Vec_3.mus(h * ymin, Y)), Vec_3.mus(zmin, Z)));
      b = Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmax, X), Vec_3.mus(h * ymax, Y)), Vec_3.mus(zmin, Z)));
      c = Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmax, X), Vec_3.mus(h * ymin, Y)), Vec_3.mus(zmin, Z)));
      d = Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmin, X), Vec_3.mus(h * ymax, Y)), Vec_3.mus(zmin, Z)));
      vtx = new Float32Array([a[0], a[1], a[2], b[0], b[1], b[2], c[0], c[1], c[2], d[0], d[1], d[2]]);
      txc = new Float32Array([0, 0, 1, 1, 1, 0, 0, 1]);
      idx = new Uint16Array([0, 2, 3, 1]);
      initBuffer = function(glELEMENT_ARRAY_BUFFER, data) {
        var buf;
        buf = gl.createBuffer();
        gl.bindBuffer(glELEMENT_ARRAY_BUFFER, buf);
        gl.bufferData(glELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);
        return buf;
      };
      vbuf = initBuffer(gl.ARRAY_BUFFER, vtx);
      ibuf = initBuffer(gl.ELEMENT_ARRAY_BUFFER, idx);
      gl.vertexAttribPointer(ps.aposAttrib, 3, gl.FLOAT, false, 0, 0);
      tbuf = initBuffer(gl.ARRAY_BUFFER, txc);
      gl.vertexAttribPointer(ps.atexAttrib, 2, gl.FLOAT, false, 0, 0);
      gl.enableVertexAttribArray(ps.atexAttrib);
      info.cam.gl_exec(info, "cam", ps);
      gl.drawElements(gl.TRIANGLE_STRIP, 4, gl.UNSIGNED_SHORT, 0);
      gl.disableVertexAttribArray(ps.aposAttrib);
      gl.disableVertexAttribArray(ps.atexAttrib);
      gl.bindBuffer(gl.ARRAY_BUFFER, null);
      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
      gl.bindTexture(gl.TEXTURE_2D, null);
      gl.deleteBuffer(tbuf);
      gl.deleteBuffer(ibuf);
      return gl.deleteBuffer(vbuf);
    } else {
      a = info.re_2_sc.proj(Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmin, X), Vec_3.mus(h * ymin, Y)), Vec_3.mus(zmin, Z))));
      b = info.re_2_sc.proj(Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmax, X), Vec_3.mus(h * ymax, Y)), Vec_3.mus(zmin, Z))));
      c = info.re_2_sc.proj(Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmax, X), Vec_3.mus(h * ymin, Y)), Vec_3.mus(zmin, Z))));
      d = info.re_2_sc.proj(Vec_3.add(O, Vec_3.add(Vec_3.add(Vec_3.mus(w * xmin, X), Vec_3.mus(h * ymax, Y)), Vec_3.mus(zmin, Z))));
      if (a[0] >= info.w && b[0] >= info.w && c[0] >= info.w && d[0] >= info.w) {
        return true;
      }
      if (a[0] < 0 && b[0] < 0 && c[0] < 0 && d[0] < 0) {
        return true;
      }
      if (a[1] >= info.h && b[1] >= info.h && c[1] >= info.h && d[1] >= info.h) {
        return true;
      }
      if (a[1] < 0 && b[1] < 0 && c[1] < 0 && d[1] < 0) {
        return true;
      }
      r = [c[0] + d[0] - a[0], c[1] + d[1] - a[1]];
      if (rec < 6 && Math.pow(r[0] - b[0], 2) + Math.pow(r[1] - b[1], 2) > 1) {
        ca = 0.5 + 1e-2;
        cb = 1 - ca;
        xm_0 = cb * xmin + ca * xmax;
        ym_0 = cb * ymin + ca * ymax;
        xm_1 = ca * xmin + cb * xmax;
        ym_1 = ca * ymin + cb * ymax;
        Img._draw_persp_rec(info, rgba, zmin, zmax, O, X, Y, Z, _date_tex, tex, src, xmin, ymin, xm_0, ym_0, rec + 1);
        Img._draw_persp_rec(info, rgba, zmin, zmax, O, X, Y, Z, _date_tex, tex, src, xm_1, ymin, xmax, ym_0, rec + 1);
        Img._draw_persp_rec(info, rgba, zmin, zmax, O, X, Y, Z, _date_tex, tex, src, xmin, ym_1, xm_0, ymax, rec + 1);
        Img._draw_persp_rec(info, rgba, zmin, zmax, O, X, Y, Z, _date_tex, tex, src, xm_1, ym_1, xmax, ymax, rec + 1);
        return true;
      }
      sx = Math.ceil(w * xmin);
      sy = Math.ceil(h * (1 - ymax));
      dx = Math.ceil(w * (xmax - xmin));
      dy = Math.ceil(h * (ymax - ymin));
      dx = Math.min(dx, w - sx);
      dy = Math.min(dy, h - sy);
      x = [(c[0] - a[0]) / dx, (c[1] - a[1]) / dx];
      y = [(d[0] - a[0]) / dy, (d[1] - a[1]) / dy];
      info.ctx.save();
      info.ctx.setTransform(x[0], x[1], y[0], y[1], d[0], d[1]);
      info.ctx.transform(1, 0, 0, -1, 0, 0);
      info.ctx.drawImage(rgba, sx, sy, dx, dy, 0, 0, dx, dy);
      return info.ctx.restore();
    }
  };

  return Img;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Graph,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Graph = (function(_super) {

  __extends(Graph, _super);

  function Graph(params) {
    var key, val, _ref;
    if (params == null) {
      params = {};
    }
    Graph.__super__.constructor.call(this);
    this.add_attr({
      show_line: true,
      line_color: new Color(0, 0, 0),
      line_width: new ConstrainedVal(1, {
        min: 0,
        max: 20
      }),
      shadow: true,
      show_marker: true,
      marker: new Choice(0, ["dot", "square", "cross", "diamond", "bar"]),
      marker_size: new ConstrainedVal(5, {
        min: 0,
        max: 40
      }),
      marker_color: new Color(0, 0, 0),
      font_color: new Color(0, 0, 0),
      font_size: new ConstrainedVal(12, {
        min: 2,
        max: 72
      }),
      show_grid: true,
      grid_color: new Color(200, 200, 200),
      x_axis: '',
      y_axis: '',
      legend_x_division: 5,
      legend_y_division: 3,
      sel_item_color: new Color(255, 255, 0),
      movable_hl_infos: true,
      points: new Lst_Point,
      legend: new Lst,
      _pre_sele: new Lst
    });
    for (key in params) {
      val = params[key];
      if ((_ref = this[key]) != null) {
        if (typeof _ref.set === "function") {
          _ref.set(val);
        }
      }
    }
    this.axis_width = 1;
    this.origin = [0, 0];
    this.O_point = [0, 0];
    this.X_point = [0, 0];
    this.Y_point = [0, 0];
  }

  Graph.prototype.z_index = function() {
    return 100;
  };

  Graph.prototype.build_w2b_legend = function() {
    var color, i, _i, _results;
    _results = [];
    for (i = _i = 0; _i <= 255; i = ++_i) {
      color = (i < 16 ? '0' : '') + i.toString(16);
      _results.push(this.legend[i] = "#" + color + color + color);
    }
    return _results;
  };

  Graph.prototype.draw = function(info) {
    var orig, p, proj;
    this.O_point = [info.padding / 2, info.h - info.padding];
    this.X_point = [info.w - info.padding / 2, info.h - info.padding];
    this.Y_point = [info.padding / 2, -info.h + info.padding];
    info.ctx_2d().lineCap = "round";
    info.ctx_2d().lineJoin = "round";
    info.ctx_2d().shadowOffsetX = 0;
    info.ctx_2d().shadowOffsetY = 0;
    info.ctx_2d().shadowBlur = 0;
    info.ctx_2d().shadowColor = "transparent black";
    if (this.points.length) {
      orig = info.re_2_sc.proj([0, 0, 0]);
      proj = (function() {
        var _i, _len, _ref, _results;
        _ref = this.points;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          p = _ref[_i];
          _results.push(info.re_2_sc.proj(p.pos.get()));
        }
        return _results;
      }).call(this);
      if (this.show_grid.get() === true) {
        this.draw_grid(info);
      }
      if (this.shadow.get() === true) {
        this.add_shadow(info);
      } else {
        this.remove_shadow(info);
      }
      if (this.show_line.get() === true) {
        this.draw_line(info, orig, proj);
      }
      if (this.show_marker.get() === true) {
        if (this.marker.get() === 'bar') {
          this.draw_marker_bar(info, orig, proj);
        } else if (this.marker.get() === 'cross') {
          this.draw_marker_cross(info, orig, proj);
        } else if (this.marker.get() === 'square') {
          this.draw_marker_square(info, orig, proj);
        } else if (this.marker.get() === 'diamond') {
          this.draw_marker_diamond(info, orig, proj);
        } else if (this.marker.get() === 'dot') {
          this.draw_marker_dot(info, orig, proj);
        }
      }
      this.remove_shadow(info);
      if (this.show_marker.get() === true) {
        if (this.movable_hl_infos.get() === true) {
          this.draw_movable_highlight_values(info);
        } else {
          this.draw_highlight_values(info);
        }
      }
    }
    this.hide_outside_values(info);
    this.draw_axis(info);
    return this.draw_legend(info);
  };

  Graph.prototype.add_shadow = function(info) {
    info.ctx_2d().shadowOffsetX = this.line_width.get();
    info.ctx_2d().shadowOffsetY = this.line_width.get();
    info.ctx_2d().shadowBlur = this.line_width.get();
    return info.ctx_2d().shadowColor = "#3a3a3a";
  };

  Graph.prototype.remove_shadow = function(info) {
    info.ctx_2d().shadowOffsetX = 0;
    info.ctx_2d().shadowOffsetY = 0;
    info.ctx_2d().shadowBlur = 0;
    return info.ctx_2d().shadowColor = "transparent black";
  };

  Graph.prototype.hide_outside_values = function(info) {
    info.ctx_2d().fillStyle = "rgba( 255, 255, 255, 0.9 )";
    info.ctx_2d().clearRect(0, 0, info.padding * 0.5, info.h);
    return info.ctx_2d().clearRect(info.padding * 0.5, info.h - info.padding / 2, info.w, info.padding * 0.5);
  };

  Graph.prototype.draw_movable_highlight_values = function(info) {
    var decal_left, decal_top, height_box, highlighted_point, i, p, padding_left, padding_top, pos, text, width_box, _i, _len, _ref, _ref1, _results;
    padding_left = 10;
    padding_top = -8;
    decal_left = 10;
    decal_top = -12;
    _ref = this.points;
    _results = [];
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      p = _ref[i];
      if (_ref1 = this.points[i], __indexOf.call(this._pre_sele, _ref1) >= 0) {
        highlighted_point = p.pos.get();
        info.ctx_2d().beginPath();
        pos = info.re_2_sc.proj(highlighted_point);
        text = highlighted_point[0] + ", " + highlighted_point[1];
        info.ctx_2d().font = this.font_size.get() * 2 + "px Arial";
        width_box = info.ctx_2d().measureText(text).width + padding_left * 2;
        height_box = this.font_size.get() * 3;
        info.ctx_2d().fillStyle = "rgba(255, 255, 255, 0.8)";
        info.ctx_2d().fillRect(pos[0] + decal_left, pos[1] + decal_top - height_box * 0.8, width_box, height_box);
        info.ctx_2d().lineWidth = 1;
        info.ctx_2d().strokeStyle = "rgba(0, 0, 0, 0.8)";
        info.ctx_2d().strokeRect(pos[0] + decal_left, pos[1] + decal_top - height_box * 0.8, width_box, height_box);
        info.ctx_2d().textAlign = "left";
        info.ctx_2d().fillStyle = this.font_color.to_rgba();
        _results.push(info.ctx_2d().fillText(text, pos[0] + padding_left + decal_left, pos[1] + padding_top + decal_top));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Graph.prototype.draw_highlight_values = function(info) {
    var highlighted_point, i, p, padding, _i, _len, _ref, _ref1, _results;
    padding = 10;
    _ref = this.points;
    _results = [];
    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
      p = _ref[i];
      if (_ref1 = this.points[i], __indexOf.call(this._pre_sele, _ref1) >= 0) {
        highlighted_point = p.pos.get();
        info.ctx_2d().beginPath();
        info.ctx_2d().fillStyle = this.font_color.to_rgba();
        info.ctx_2d().textAlign = "right";
        info.ctx_2d().font = this.font_size.get() * 2 + "px Arial";
        _results.push(info.ctx_2d().fillText(highlighted_point[0] + ", " + highlighted_point[1], info.w - padding, 20));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Graph.prototype.draw_line = function(info, orig, proj) {
    var i, p, _i, _len;
    info.ctx_2d().beginPath();
    info.ctx_2d().strokeStyle = this.line_color.to_rgba();
    if (this.line_width.get() <= 1) {
      info.ctx_2d().lineWidth = 1.000001;
    } else {
      info.ctx_2d().lineWidth = this.line_width.get();
    }
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      info.ctx_2d().lineTo(p[0], p[1]);
    }
    info.ctx_2d().stroke();
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_marker_dot = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx_2d().fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx_2d().fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx_2d().beginPath();
      info.ctx_2d().arc(p[0], p[1], this.marker_size.get() * 0.5, 0, Math.PI * 2, true);
      info.ctx_2d().fill();
    }
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_marker_cross = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx_2d().strokeStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx_2d().strokeStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx_2d().beginPath();
      info.ctx_2d().moveTo(p[0] - this.marker_size.get() * 0.5, p[1] + this.marker_size.get() * 0.5);
      info.ctx_2d().lineTo(p[0] + this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5);
      info.ctx_2d().moveTo(p[0] + this.marker_size.get() * 0.5, p[1] + this.marker_size.get() * 0.5);
      info.ctx_2d().lineTo(p[0] - this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5);
      info.ctx_2d().stroke();
    }
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_marker_square = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx_2d().fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx_2d().fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx_2d().beginPath();
      info.ctx_2d().fillRect(p[0] - this.marker_size.get() * 0.5, p[1] - this.marker_size.get() * 0.5, this.marker_size.get(), this.marker_size.get());
    }
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_marker_diamond = function(info, orig, proj) {
    var i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx_2d().fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx_2d().fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      info.ctx_2d().beginPath();
      info.ctx_2d().moveTo(p[0], p[1] - this.marker_size.get());
      info.ctx_2d().lineTo(p[0] + this.marker_size.get() * 0.5, p[1]);
      info.ctx_2d().lineTo(p[0], p[1] + this.marker_size.get());
      info.ctx_2d().lineTo(p[0] - +this.marker_size.get() * 0.5, p[1]);
      info.ctx_2d().fill();
    }
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_marker_bar = function(info, orig, proj) {
    var height, i, p, _i, _len, _ref;
    for (i = _i = 0, _len = proj.length; _i < _len; i = ++_i) {
      p = proj[i];
      if (_ref = this.points[i], __indexOf.call(this._pre_sele, _ref) >= 0) {
        info.ctx_2d().fillStyle = this.sel_item_color.to_rgba();
      } else {
        info.ctx_2d().fillStyle = this.legend[i] || this.marker_color.to_rgba();
      }
      height = orig[1] - p[1];
      info.ctx_2d().beginPath();
      info.ctx_2d().fillRect(p[0], p[1], this.marker_size.get(), height);
    }
    return info.ctx_2d().closePath();
  };

  Graph.prototype.draw_axis = function(info) {
    var decal_txt, height_axis, orig, width_axis;
    orig = [info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx_2d().beginPath();
    info.ctx_2d().lineWidth = this.axis_width;
    info.ctx_2d().strokeStyle = this.font_color.to_rgba();
    info.ctx_2d().fillStyle = this.font_color.to_rgba();
    info.ctx_2d().font = this.font_size.get() + "px Arial";
    decal_txt = 10;
    if (this.x_axis.get() !== "") {
      info.ctx_2d().textAlign = "left";
      info.ctx_2d().fillText(this.x_axis.get(), orig[0] + width_axis + decal_txt, orig[1] + 2);
    }
    info.ctx_2d().moveTo(orig[0], orig[1]);
    info.ctx_2d().lineTo(orig[0] + width_axis, orig[1]);
    if (this.y_axis.get() !== "") {
      info.ctx_2d().textBaseline = "bottom";
      info.ctx_2d().textAlign = "center";
      info.ctx_2d().fillText(this.y_axis.get(), orig[0] - 2, height_axis - decal_txt);
    }
    info.ctx_2d().moveTo(orig[0], orig[1]);
    info.ctx_2d().lineTo(orig[0], height_axis);
    info.ctx_2d().stroke();
    info.ctx_2d().closePath();
    return info.ctx_2d().textBaseline = "middle";
  };

  Graph.prototype.draw_legend = function(info) {
    var decal_txt_X, decal_txt_Y, height_axis, i, max, min, nice_val, orig, pos, posit, val, val_from_screen, value, vve, width_axis, x_padding_txt, y_padding_txt, _i, _j, _k, _l, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
    x_padding_txt = 10;
    y_padding_txt = 2;
    decal_txt_X = 3;
    decal_txt_Y = 1;
    orig = [0 + info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding / 2;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx_2d().beginPath();
    info.ctx_2d().fillStyle = this.font_color.to_rgba();
    info.ctx_2d().font = this.font_size.get() * 0.8 + "px Arial";
    info.ctx_2d().textAlign = 'center';
    info.ctx_2d().textBaseline = 'top';
    value = [];
    posit = [];
    for (i = _i = 0, _ref = this.legend_x_division.get(); 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
      pos = orig[0] + ((width_axis - decal_txt_X - (orig[0] - decal_txt_X)) / this.legend_x_division.get()) * i;
      vve = info.sc_2_rw.pos(pos, 0);
      val = vve[0];
      value.push(val);
      posit.push(pos);
    }
    _ref1 = this.get_min_max_of_array(value), min = _ref1[0], max = _ref1[1];
    for (i = _j = 0, _ref2 = this.legend_x_division.get(); 0 <= _ref2 ? _j <= _ref2 : _j >= _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
      nice_val = this.get_significative_number(value[i], [min, max]);
      info.ctx_2d().fillText(nice_val, posit[i], orig[1] + x_padding_txt);
    }
    info.ctx_2d().textBaseline = 'middle';
    info.ctx_2d().textAlign = 'right';
    value = [];
    posit = [];
    for (i = _k = 0, _ref3 = this.legend_y_division.get(); 0 <= _ref3 ? _k <= _ref3 : _k >= _ref3; i = 0 <= _ref3 ? ++_k : --_k) {
      pos = orig[1] + ((height_axis + decal_txt_Y - (orig[1] + decal_txt_Y)) / this.legend_y_division.get()) * i;
      val_from_screen = info.sc_2_rw.pos(0, pos);
      val = val_from_screen[1];
      value.push(val);
      posit.push(pos);
    }
    _ref4 = this.get_min_max_of_array(value), min = _ref4[0], max = _ref4[1];
    for (i = _l = 0, _ref5 = this.legend_y_division.get(); 0 <= _ref5 ? _l <= _ref5 : _l >= _ref5; i = 0 <= _ref5 ? ++_l : --_l) {
      nice_val = this.get_significative_number(value[i], [min, max]);
      info.ctx_2d().fillText(nice_val, orig[0] - y_padding_txt, posit[i] + decal_txt_Y);
    }
    info.ctx_2d().fill();
    return info.ctx_2d().closePath();
  };

  Graph.prototype.get_min_max_of_array = function(array) {
    var el, max, min, _i, _j, _len, _len1;
    min = array[0];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      el = array[_i];
      if (el < min) {
        min = el;
      }
    }
    max = array[0];
    for (_j = 0, _len1 = array.length; _j < _len1; _j++) {
      el = array[_j];
      if (el > max) {
        max = el;
      }
    }
    return [min, max];
  };

  Graph.prototype.get_significative_number = function(val, _arg) {
    var c, i, max, min, num, number, res, size, _i, _len, _ref;
    min = _arg[0], max = _arg[1];
    size = Math.abs(max - min);
    if (size > 1) {
      res = Math.round(val);
      if (res.toString().length > 4) {
        res = res.toExponential();
      }
    } else {
      num = Math.round(val).toString().length;
      if (num <= 4) {
        res = val.toPrecision(num + 2);
        _ref = val.toString();
        for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
          c = _ref[i];
          if (c !== "0" && c !== "." && c !== "-") {
            number = i;
            break;
          }
        }
        if (number > 3) {
          res = parseFloat(res).toExponential();
        }
      } else {
        res = val.toFixed(2);
      }
    }
    return res;
  };

  Graph.prototype.draw_grid = function(info) {
    var height_axis, i, orig, pos, width_axis, _i, _j, _ref, _ref1;
    orig = [0 + info.padding * 0.5, info.h - info.padding / 2, 0];
    width_axis = info.w - info.padding / 2;
    height_axis = -info.h + orig[1] + info.padding;
    info.ctx_2d().beginPath();
    info.ctx_2d().strokeStyle = this.grid_color.to_rgba();
    for (i = _i = 1, _ref = this.legend_x_division.get(); 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      pos = orig[0] + ((width_axis - orig[0]) / this.legend_x_division.get()) * i;
      info.ctx_2d().moveTo(pos, orig[1]);
      info.ctx_2d().lineTo(pos, height_axis);
      info.ctx_2d().stroke();
    }
    for (i = _j = 1, _ref1 = this.legend_y_division.get(); 1 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 1 <= _ref1 ? ++_j : --_j) {
      pos = orig[1] + ((height_axis - orig[1]) / this.legend_y_division.get()) * i;
      info.ctx_2d().moveTo(orig[0], pos);
      info.ctx_2d().lineTo(orig[0] + info.w - info.padding, pos);
    }
    info.ctx_2d().stroke();
    return info.ctx_2d().closePath();
  };

  Graph.prototype.update_min_max = function(x_min, x_max) {
    var d, m, p, _i, _len, _ref, _results;
    _ref = this.points;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      m = _ref[_i];
      p = m.pos.get();
      _results.push((function() {
        var _j, _results1;
        _results1 = [];
        for (d = _j = 0; _j < 3; d = ++_j) {
          x_min[d] = Math.min(x_min[d], p[d]);
          _results1.push(x_max[d] = Math.max(x_max[d], p[d]));
        }
        return _results1;
      })());
    }
    return _results;
  };

  Graph.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var d, dx, dy, i, p, proj, res, x, y, _i, _len, _ref;
    res = [];
    x = pos[0];
    y = pos[1];
    if (this.points.length) {
      _ref = this.points;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        p = _ref[i];
        proj = cm.cam_info.re_2_sc.proj(p.pos.get());
        dx = x - proj[0];
        dy = y - proj[1];
        d = Math.sqrt(dx * dx + dy * dy);
        if (d <= this.marker_size.get() * 2) {
          res.push({
            item: p,
            dist: d
          });
        }
      }
    }
    if (res.length) {
      res.sort(function(a, b) {
        return b.dist - a.dist;
      });
      if (this._pre_sele.length !== 1 || this._pre_sele[0] !== res[0].item) {
        this._pre_sele.clear();
        this._pre_sele.push(res[0].item);
      }
    } else if (this._pre_sele.length) {
      this._pre_sele.clear();
    }
    return false;
  };

  return Graph;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Background,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Background = (function(_super) {

  __extends(Background, _super);

  function Background() {
    Background.__super__.constructor.call(this);
    this.add_attr({
      gradient: new Gradient
    });
    this.gradient.add_color([48, 48, 48, 255], 0);
    this.gradient.add_color([48, 48, 48, 255], 1);
  }

  Background.prototype.z_index = function() {
    return 0;
  };

  Background.prototype.draws_a_background = function() {
    return true;
  };

  Background.prototype.draw = function(info) {
    var array, col, fs, gl, lineargradient, pos, ps, vs, z, _i, _len, _ref;
    if (info.ctx_type === "2d") {
      lineargradient = info.ctx.createLinearGradient(0, 0, 0, info.h);
      _ref = this.gradient.color_stop;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        col = _ref[_i];
        lineargradient.addColorStop(col.position.get(), col.color.to_rgba());
      }
      info.ctx.fillStyle = lineargradient;
      return info.ctx.fillRect(0, 0, info.w, info.h);
    } else {
      vs = "                precision mediump float;\n                varying float y;\n                attribute vec3 pos;\n                void main( void ) {\n                    y = 0.5 * ( pos.y + 1.0 );\n                    gl_Position = vec4( pos, 1.0 );\n                }\n            ";
      fs = this.gradient.get_fragment_shader("y");
      ps = info.cm.gl_prog(vs, fs);
      gl = info.ctx;
      if (!(this._points != null)) {
        z = 1.0 - 1e-6;
        array = new Float32Array([1.0, 1.0, z, -1.0, 1.0, z, 1.0, -1.0, z, -1.0, -1.0, z]);
        this._points = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this._points);
        gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW);
      }
      gl.useProgram(ps);
      pos = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(pos);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._points);
      gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
      return gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
    }
  };

  return Background;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var Element_TetrahedraList,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element_TetrahedraList = (function(_super) {

  __extends(Element_TetrahedraList, _super);

  function Element_TetrahedraList() {
    Element_TetrahedraList.__super__.constructor.call(this);
    this.add_attr({
      indices: new TypedArray_Int32([4, 0])
    });
  }

  Element_TetrahedraList.prototype.draw_gl = function(info, mesh, points, is_a_sub) {};

  Element_TetrahedraList.prototype.draw = function(info, mesh, proj, is_a_sub) {};

  Element_TetrahedraList.prototype.draw_gl = function(info, mesh, points, is_a_sub) {};

  return Element_TetrahedraList;

})(Element);
// Generated by CoffeeScript 1.4.0
var Element_Arc,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element_Arc = (function(_super) {

  __extends(Element_Arc, _super);

  function Element_Arc(indices) {
    Element_Arc.__super__.constructor.call(this, indices);
  }

  Element_Arc.prototype.draw_gl = function(info, mesh, points, is_a_sub, theme) {
    if (theme == null) {
      theme = info.theme.lines;
    }
    return this.draw(info, mesh, points, is_a_sub, theme);
  };

  Element_Arc.prototype.draw = function(info, mesh, proj, is_a_sub, theme) {
    var p, points, wf, _ref;
    if (theme == null) {
      theme = info.theme.lines;
    }
    wf = (_ref = mesh.visualization.display_style.get()) === "Wireframe" || _ref === "Surface with Edges";
    if (wf || !is_a_sub) {
      theme.beg_ctx(info);
      points = (function() {
        var _i, _len, _ref1, _results;
        _ref1 = this.indices;
        _results = [];
        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
          p = _ref1[_i];
          _results.push(mesh.points[p.get()].pos.get());
        }
        return _results;
      }).call(this);
      info.theme.lines.draw_interpolated_arcs(info, points);
      return theme.end_ctx(info);
    }
  };

  Element_Arc.prototype.contour = function(info, mesh, proj, beg, inversion) {
    var p, points;
    points = (function() {
      var _i, _j, _len, _ref, _ref1, _results, _results1;
      if (inversion) {
        _results = [];
        for (p = _i = _ref = this.indices.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; p = _ref <= 0 ? ++_i : --_i) {
          _results.push(mesh.points[this.indices[p].get()].pos.get());
        }
        return _results;
      } else {
        _ref1 = this.indices;
        _results1 = [];
        for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
          p = _ref1[_j];
          _results1.push(mesh.points[p.get()].pos.get());
        }
        return _results1;
      }
    }).call(this);
    return info.theme.lines.contour_interpolated_arcs(info, points, beg);
  };

  Element_Arc.prototype.closest_point_closer_than = function(best, mesh, proj, info, pos) {
    var P0, P1, a, b, d, dist, dx, dy, dz, i, l, p0, p1, px, py, pz, r, _i, _ref, _results;
    if (this.indices.length) {
      _results = [];
      for (i = _i = 0, _ref = this.indices.length - 1; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        p0 = this.indices[i + 0].get();
        p1 = this.indices[i + 1].get();
        a = proj[p0];
        b = proj[p1];
        if (a[0] !== b[0] || a[1] !== b[1]) {
          dx = b[0] - a[0];
          dy = b[1] - a[1];
          dz = b[2] - a[2];
          px = pos[0] - a[0];
          py = pos[1] - a[1];
          l = dx * dx + dy * dy;
          d = px * dx + py * dy;
          if (l && d >= 0 && d <= l) {
            r = d / l;
            px = a[0] + dx * r;
            py = a[1] + dy * r;
            pz = a[2] + dz * r;
            dist = Math.sqrt(Math.pow(px - pos[0], 2) + Math.pow(py - pos[1], 2));
            if (best.dist >= dist) {
              P0 = mesh.points[p0].pos.get();
              P1 = mesh.points[p1].pos.get();
              best.dist = dist;
              best.inst = this;
              best.indi = i;
              best.curv = r;
              _results.push(best.disp = [P0[0] * (1 - r) + P1[0] * r, P0[1] * (1 - r) + P1[1] * r, P0[2] * (1 - r) + P1[2] * r]);
            } else {
              _results.push(void 0);
            }
          } else {
            _results.push(void 0);
          }
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    }
  };

  return Element_Arc;

})(Element_WithIndices);
// Generated by CoffeeScript 1.4.0
var Element_TriangleList,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element_TriangleList = (function(_super) {

  __extends(Element_TriangleList, _super);

  function Element_TriangleList() {
    Element_TriangleList.__super__.constructor.call(this);
    this.add_attr({
      indices: new TypedArray_Int32([3, 0])
    });
    this._date_pts = {};
    this._pts_buffer = {};
    this._nor_buffer = {};
    this._lns_buffer = {};
  }

  Element_TriangleList.prototype.draw_gl = function(info, mesh, points, is_a_sub) {
    var col, fs, gl, mesh_color, nor, pos, ps, vs, _ref, _ref1, _ref2, _ref3;
    this._update_bufs(info, mesh, points);
    gl = info.ctx;
    if ((_ref = mesh.visualization.display_style.get()) === "Points" || _ref === "Wireframe" || _ref === "Surface" || _ref === "Surface with Edges") {
      vs = "                precision mediump float;\n                attribute vec3 pos;\n                attribute vec3 nor;\n                varying vec3 norin;\n                " + (info.cam.gl_attr_vec(info, "can")) + "\n                " + (info.cam.gl_attr(info, "cam")) + "\n                void main( void ) {\n                    gl_Position = vec4( pos, 1.0 );\n                    " + (info.cam.gl_main_vec(info, "can", "nor", "norin")) + "\n                    " + (info.cam.gl_main(info, "cam")) + "\n                }\n            ";
      fs = "                precision mediump float;\n                uniform vec4 col;\n                varying vec3 norin;\n                void main( void ) {\n                    float g = abs( norin[ 2 ] );\n                    gl_FragColor = vec4( g * col[ 0 ], g * col[ 1 ], g * col[ 2 ], col[ 3 ] );\n                }\n            ";
      ps = info.cm.gl_prog(vs, fs);
      gl.useProgram(ps);
      pos = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(pos);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
      nor = gl.getAttribLocation(ps, "nor");
      gl.enableVertexAttribArray(nor);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(nor, 3, gl.FLOAT, false, 0, 0);
      col = gl.getUniformLocation(ps, "col");
      mesh_color = mesh._theme.surfaces.color;
      this.line_color = mesh._theme.lines.color;
      gl.uniform4f(col, mesh_color.r.get() / 255, mesh_color.g.get() / 255, mesh_color.b.get() / 255, mesh_color.a.get() / 255);
      info.cam.gl_exec(info, "cam", ps);
      info.cam.gl_exec_vec(info, "can", ps);
      if ((_ref1 = mesh.visualization.display_style.get()) === "Surface" || _ref1 === "Surface with Edges") {
        gl.drawArrays(gl.TRIANGLES, 0, 3 * this.indices.size(1));
      }
    }
    if ((_ref2 = mesh.visualization.display_style.get()) === "Wireframe" || _ref2 === "Surface with Edges") {
      this._draw_lines(info);
    }
    if ((_ref3 = mesh.visualization.display_style.get()) === "Points") {
      return this._draw_points(info);
    }
  };

  Element_TriangleList.prototype.draw = function(info, mesh, proj, is_a_sub) {
    var i, j, lt, p, pl, _i, _j, _len, _ref, _ref1, _ref2,
      _this = this;
    if ((_ref = mesh.visualization.display_style.get()) === "Surface" || _ref === "Surface with Edges") {
      lt = (function() {
        var _i, _ref1, _results;
        _results = [];
        for (i = _i = 0, _ref1 = this.indices.size(1); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
          _results.push([proj[this.indices.get([0, i])], proj[this.indices.get([1, i])], proj[this.indices.get([2, i])]]);
        }
        return _results;
      }).call(this);
      lt.sort(function(a, b) {
        return (b[0][2] + b[1][2] + b[2][2]) - (a[0][2] + a[1][2] + a[2][2]);
      });
      info.theme.surfaces.beg_ctx(info);
      for (_i = 0, _len = lt.length; _i < _len; _i++) {
        pl = lt[_i];
        info.theme.surfaces.draw(info, function() {
          info.ctx.moveTo(pl[0][0], pl[0][1]);
          info.ctx.lineTo(pl[1][0], pl[1][1]);
          info.ctx.lineTo(pl[2][0], pl[2][1]);
          return info.ctx.lineTo(pl[0][0], pl[0][1]);
        });
      }
      info.theme.surfaces.end_ctx(info);
    }
    if ((_ref1 = mesh.visualization.display_style.get()) === "Wireframe" || _ref1 === "Surface with Edges") {
      info.theme.lines.beg_ctx(info);
      for (i = _j = 0, _ref2 = this.indices.size(1); 0 <= _ref2 ? _j < _ref2 : _j > _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
        p = (function() {
          var _k, _results;
          _results = [];
          for (j = _k = 0; _k < 3; j = ++_k) {
            _results.push(proj[this.indices.get([j, i])]);
          }
          return _results;
        }).call(this);
        info.theme.lines.draw_straight_proj(info, p[0], p[1]);
        info.theme.lines.draw_straight_proj(info, p[1], p[2]);
        info.theme.lines.draw_straight_proj(info, p[2], p[0]);
      }
      return info.theme.lines.end_ctx(info);
    }
  };

  Element_TriangleList.prototype.draw_nodal_field_gl = function(info, mesh, points, data, display_style, legend, warp_by, warp_factor, buff_id) {
    var col, fs, gl, nor, pos, ps, tex, vs, wab, warp_buff;
    if (warp_factor == null) {
      warp_factor = 1;
    }
    warp_buff = warp_by != null ? warp_by.warp_gl_buff(info, this, buff_id) : void 0;
    this._update_bufs(info, mesh, points);
    gl = info.ctx;
    if (display_style === "Surface" || display_style === "Surface with Edges") {
      vs = "                precision mediump float;\n                varying float y;\n                varying vec3 norin;\n                uniform float mit;\n                uniform float mat;\n                uniform float waf;\n                attribute vec3 pos;\n                attribute vec3 nor;\n                attribute vec3 wab;\n                attribute float tex;\n                " + (info.cam.gl_attr_vec(info, "can")) + "\n                " + (info.cam.gl_attr(info, "cam")) + "\n                void main( void ) {\n                    y = ( tex - mit ) / ( mat - mit );\n                    gl_Position = vec4( pos + waf * wab, 1.0 );\n                    " + (info.cam.gl_main_vec(info, "can", "nor", "norin")) + "\n                    " + (info.cam.gl_main(info, "cam")) + "\n                }\n            ";
      fs = legend.color_map.get_fragment_shader("y", "col", "norin");
      ps = info.cm.gl_prog(vs, fs);
      gl.useProgram(ps);
      pos = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(pos);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
      nor = gl.getAttribLocation(ps, "nor");
      gl.enableVertexAttribArray(nor);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(nor, 3, gl.FLOAT, false, 0, 0);
      wab = gl.getAttribLocation(ps, "wab");
      gl.enableVertexAttribArray(wab);
      if (warp_buff != null) {
        gl.bindBuffer(gl.ARRAY_BUFFER, warp_buff);
      } else {
        gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      }
      gl.vertexAttribPointer(wab, 3, gl.FLOAT, false, 0, 0);
      tex = gl.getAttribLocation(ps, "tex");
      if (tex >= 0) {
        gl.enableVertexAttribArray(tex);
        gl.bindBuffer(gl.ARRAY_BUFFER, data);
        gl.vertexAttribPointer(tex, 1, gl.FLOAT, false, 0, 0);
      }
      col = gl.getUniformLocation(ps, "col");
      gl.uniform4f(col, 0.7, 0.7, 0.7, 1.0);
      gl.uniform1f(gl.getUniformLocation(ps, "mit"), legend._min_val.get());
      gl.uniform1f(gl.getUniformLocation(ps, "mat"), legend._max_val.get());
      gl.uniform1f(gl.getUniformLocation(ps, "waf"), warp_factor);
      info.cam.gl_exec(info, "cam", ps);
      info.cam.gl_exec_vec(info, "can", ps);
      gl.drawArrays(gl.TRIANGLES, 0, 3 * this.indices.size(1));
    }
    if (display_style === "Wireframe" || display_style === "Surface with Edges") {
      return this._draw_lines(info);
    }
  };

  Element_TriangleList.prototype.draw_vectorial_field_gl = function(info, mesh, points, data, display_style, legend, warp_by, warp_factor, buff_id) {
    var col, cpp, dim, fs, gl, i, nor, pos, ps, pts, tex, vs, wab, warp_buff, _i, _ref;
    if (warp_factor == null) {
      warp_factor = 1;
    }
    warp_buff = warp_by != null ? warp_by.warp_gl_buff(info, this, buff_id) : void 0;
    gl = info.ctx;
    if (!(this._date_pts[gl.ctx_id] != null)) {
      this._date_pts[gl.ctx_id] = -1;
    }
    if (this._date_pts[gl.ctx_id] < mesh._date_last_modification) {
      this._date_pts[gl.ctx_id] = mesh._date_last_modification;
      dim = 3;
      cpp = -1;
      pts = new Float32Array(2 * dim * points.length);
      for (i = _i = 0, _ref = points.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        pts[cpp += 1] = points[i].pos[0].get();
        pts[cpp += 1] = points[i].pos[1].get();
        pts[cpp += 1] = points[i].pos[2].get();
        pts[cpp += 1] = points[i].pos[0].get();
        pts[cpp += 1] = points[i].pos[1].get();
        pts[cpp += 1] = points[i].pos[2].get();
      }
      if (this._pts_buffer[gl.ctx_id] != null) {
        gl.deleteBuffer(this._pts_buffer[gl.ctx_id]);
        gl.deleteBuffer(this._nor_buffer[gl.ctx_id]);
        gl.deleteBuffer(this._lns_buffer[gl.ctx_id]);
      }
      this._pts_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[gl.ctx_id]);
      gl.bufferData(gl.ARRAY_BUFFER, pts, gl.STATIC_DRAW);
      this._nor_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      gl.bufferData(gl.ARRAY_BUFFER, nor, gl.STATIC_DRAW);
      this._lns_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._lns_buffer[gl.ctx_id]);
      gl.bufferData(gl.ARRAY_BUFFER, lns, gl.STATIC_DRAW);
    }
    if (display_style === "Surface" || display_style === "Surface with Edges") {
      vs = "                precision mediump float;\n                varying float y;\n                varying vec3 norin;\n                uniform float mit;\n                uniform float mat;\n                uniform float waf;\n                attribute vec3 pos;\n                attribute vec3 nor;\n                attribute vec3 wab;\n                attribute float tex;\n                " + (info.cam.gl_attr_vec(info, "can")) + "\n                " + (info.cam.gl_attr(info, "cam")) + "\n                void main( void ) {\n                    y = ( tex - mit ) / ( mat - mit );\n                    gl_Position = vec4( pos + waf * wab, 1.0 );\n                    " + (info.cam.gl_main_vec(info, "can", "nor", "norin")) + "\n                    " + (info.cam.gl_main(info, "cam")) + "\n                }\n            ";
      fs = legend.color_map.get_fragment_shader("y", "col", "norin");
      ps = info.cm.gl_prog(vs, fs);
      gl.useProgram(ps);
      pos = gl.getAttribLocation(ps, "pos");
      gl.enableVertexAttribArray(pos);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
      nor = gl.getAttribLocation(ps, "nor");
      gl.enableVertexAttribArray(nor);
      gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      gl.vertexAttribPointer(nor, 3, gl.FLOAT, false, 0, 0);
      wab = gl.getAttribLocation(ps, "wab");
      gl.enableVertexAttribArray(wab);
      if (warp_buff != null) {
        gl.bindBuffer(gl.ARRAY_BUFFER, warp_buff);
      } else {
        gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      }
      gl.vertexAttribPointer(wab, 3, gl.FLOAT, false, 0, 0);
      tex = gl.getAttribLocation(ps, "tex");
      if (tex >= 0) {
        gl.enableVertexAttribArray(tex);
        gl.bindBuffer(gl.ARRAY_BUFFER, data);
        gl.vertexAttribPointer(tex, 1, gl.FLOAT, false, 0, 0);
      }
      col = gl.getUniformLocation(ps, "col");
      gl.uniform4f(col, 0.7, 0.7, 0.7, 1.0);
      gl.uniform1f(gl.getUniformLocation(ps, "mit"), legend._min_val.get());
      gl.uniform1f(gl.getUniformLocation(ps, "mat"), legend._max_val.get());
      gl.uniform1f(gl.getUniformLocation(ps, "waf"), warp_factor);
      info.cam.gl_exec(info, "cam", ps);
      info.cam.gl_exec_vec(info, "can", ps);
      gl.drawArrays(gl.TRIANGLES, 0, 3 * this.indices.size(1));
    }
    if (display_style === "Wireframe" || display_style === "Surface with Edges") {
      return this._draw_lines(info);
    }
  };

  Element_TriangleList.prototype.draw_nodal_field = function(info, proj, data, display_style, legend) {
    var a, alpha, b, c, det, det_a, det_b, det_c, div_legend, i, indices, mat_a, mat_b, mat_c, mat_pos, max_legend, min_legend, num_triangle, p0, p0x0, p0y0, p1, p1ieqz, posit, tri, val, vals, x0, x1, x2, y0, y1, y2, _i, _j, _len, _len1, _results;
    max_legend = legend.max_val.get();
    min_legend = legend.min_val.get();
    div_legend = max_legend - min_legend;
    div_legend = 1 / (div_legend + (div_legend === 0));
    indices = (function() {
      var _i, _ref, _results;
      _results = [];
      for (num_triangle = _i = 0, _ref = this.indices.size(1); 0 <= _ref ? _i < _ref : _i > _ref; num_triangle = 0 <= _ref ? ++_i : --_i) {
        _results.push([this.indices.get([0, num_triangle]), this.indices.get([1, num_triangle]), this.indices.get([2, num_triangle])]);
      }
      return _results;
    }).call(this);
    indices.sort(function(a, b) {
      return (proj[b[0]][2] + proj[b[1]][2] + proj[b[2]][2]) - (proj[a[0]][2] + proj[a[1]][2] + proj[a[2]][2]);
    });
    _results = [];
    for (_i = 0, _len = indices.length; _i < _len; _i++) {
      tri = indices[_i];
      vals = [data.get(tri[0]), data.get(tri[1]), data.get(tri[2])];
      for (i = _j = 0, _len1 = vals.length; _j < _len1; i = ++_j) {
        val = vals[i];
        vals[i] = (max_legend - val) * div_legend;
      }
      posit = (function() {
        var _k, _results1;
        _results1 = [];
        for (i = _k = 0; _k < 3; i = ++_k) {
          _results1.push(proj[tri[i]]);
        }
        return _results1;
      })();
      x0 = posit[0][0];
      y0 = posit[0][1];
      x1 = posit[1][0];
      y1 = posit[1][1];
      x2 = posit[2][0];
      y2 = posit[2][1];
      mat_pos = [[1, x0, y0], [1, x1, y1], [1, x2, y2]];
      det = Vec_3.determinant(mat_pos);
      det += det === 0;
      mat_a = [[vals[0], x0, y0], [vals[1], x1, y1], [vals[2], x2, y2]];
      det_a = Vec_3.determinant(mat_a);
      a = det_a / det;
      mat_b = [[1, vals[0], y0], [1, vals[1], y1], [1, vals[2], y2]];
      det_b = Vec_3.determinant(mat_b);
      b = det_b / det;
      mat_c = [[1, x0, vals[0]], [1, x1, vals[1]], [1, x2, vals[2]]];
      det_c = Vec_3.determinant(mat_c);
      c = det_c / det;
      if (b || c) {
        if (Math.abs(b) > Math.abs(c)) {
          p0x0 = -a / b;
          p0y0 = 0;
        } else {
          p0x0 = 0;
          p0y0 = -a / c;
        }
      } else {
        p0x0 = 0;
        p0y0 = 0;
      }
      p0 = [p0x0, p0y0, 0];
      p1ieqz = function(x) {
        return x + (Math.abs(x) < 1e-16);
      };
      alpha = 1 / p1ieqz(b * b + c * c);
      p1 = Vec_3.add(p0, Vec_3.mus(alpha, [b, c, 0]));
      if (display_style === "Surface" || display_style === "Surface with Edges") {
        this._draw_gradient_fill_triangle(info, p0, p1, posit, legend);
      }
      if (display_style === "Surface with Edges" || display_style === "Edges") {
        this._draw_edge_triangle(info, posit);
      }
      if (display_style === "Wireframe") {
        _results.push(this._draw_gradient_stroke_triangle(info, p0, p1, posit, legend));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Element_TriangleList.prototype._draw_lines = function(info) {
    var col, fs, gl, pos, ps, vs;
    vs = "            precision mediump float;\n            attribute vec3 pos;\n            " + (info.cam.gl_attr(info, "cam")) + "\n            void main( void ) {\n                gl_Position = vec4( pos, 1.0 );\n                " + (info.cam.gl_main(info, "cam")) + "\n                gl_Position -= 1e-5;\n            }\n        ";
    fs = "            precision mediump float;\n            uniform vec4 col;\n            void main( void ) {\n                gl_FragColor = col;\n            }\n        ";
    ps = info.cm.gl_prog(vs, fs);
    gl = info.ctx;
    gl.useProgram(ps);
    pos = gl.getAttribLocation(ps, "pos");
    gl.enableVertexAttribArray(pos);
    gl.bindBuffer(gl.ARRAY_BUFFER, this._lns_buffer[gl.ctx_id]);
    gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
    col = gl.getUniformLocation(ps, "col");
    if (this.line_color != null) {
      gl.uniform4f(col, this.line_color.r.get() / 255, this.line_color.g.get() / 255, this.line_color.b.get() / 255, this.line_color.a.get() / 255);
    } else {
      gl.uniform4f(col, 1.0, 1.0, 1.0, 1.0);
    }
    info.cam.gl_exec(info, "cam", ps);
    gl.lineWidth(2);
    return gl.drawArrays(gl.LINES, 0, 6 * this.indices.size(1));
  };

  Element_TriangleList.prototype._draw_points = function(info) {
    var col, fs, gl, pos, ps, vs;
    vs = "            precision mediump float;\n            attribute vec3 pos;\n            " + (info.cam.gl_attr(info, "cam")) + "\n            void main( void ) {\n                gl_Position = vec4( pos, 1.0 );\n                " + (info.cam.gl_main(info, "cam")) + "\n                gl_Position -= 1e-5;\n            }\n        ";
    fs = "            precision mediump float;\n            uniform vec4 col;\n            void main( void ) {\n                gl_FragColor = col;\n            }\n        ";
    ps = info.cm.gl_prog(vs, fs);
    gl = info.ctx;
    gl.useProgram(ps);
    pos = gl.getAttribLocation(ps, "pos");
    gl.enableVertexAttribArray(pos);
    gl.bindBuffer(gl.ARRAY_BUFFER, this._lns_buffer);
    gl.vertexAttribPointer(pos, 3, gl.FLOAT, false, 0, 0);
    col = gl.getUniformLocation(ps, "col");
    gl.uniform4f(col, 1.0, 1.0, 1.0, 1.0);
    info.cam.gl_exec(info, "cam", ps);
    gl.lineWidth(2);
    return gl.drawArrays(gl.POINTS, 0, 6 * this.indices.size(1));
  };

  Element_TriangleList.prototype._update_bufs = function(info, mesh, points) {
    var cpl, cpn, cpp, dim, gl, i, lns, nn, nor, p0, p1, p2, pts, v, _i, _j, _k, _l, _len, _len1, _len10, _len11, _len2, _len3, _len4, _len5, _len6, _len7, _len8, _len9, _m, _n, _o, _p, _q, _r, _ref, _s, _t, _u;
    gl = info.ctx;
    if (!(this._date_pts[gl.ctx_id] != null)) {
      this._date_pts[gl.ctx_id] = -1;
    }
    if (this._date_pts[gl.ctx_id] < mesh._date_last_modification) {
      this._date_pts[gl.ctx_id] = mesh._date_last_modification;
      dim = 3;
      cpp = -1;
      cpn = -1;
      cpl = -1;
      pts = new Float32Array(3 * dim * this.indices.size(1));
      nor = new Float32Array(3 * dim * this.indices.size(1));
      lns = new Float32Array(6 * dim * this.indices.size(1));
      for (i = _i = 0, _ref = this.indices.size(1); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        p0 = points[this.indices.get([0, i])].pos.get();
        p1 = points[this.indices.get([1, i])].pos.get();
        p2 = points[this.indices.get([2, i])].pos.get();
        nn = Vec_3.nor(Vec_3.cro(Vec_3.sub(p1, p0), Vec_3.sub(p2, p0)));
        for (_j = 0, _len = p0.length; _j < _len; _j++) {
          v = p0[_j];
          pts[cpp += 1] = v;
        }
        for (_k = 0, _len1 = p1.length; _k < _len1; _k++) {
          v = p1[_k];
          pts[cpp += 1] = v;
        }
        for (_l = 0, _len2 = p2.length; _l < _len2; _l++) {
          v = p2[_l];
          pts[cpp += 1] = v;
        }
        for (_m = 0, _len3 = nn.length; _m < _len3; _m++) {
          v = nn[_m];
          nor[cpn += 1] = v;
        }
        for (_n = 0, _len4 = nn.length; _n < _len4; _n++) {
          v = nn[_n];
          nor[cpn += 1] = v;
        }
        for (_o = 0, _len5 = nn.length; _o < _len5; _o++) {
          v = nn[_o];
          nor[cpn += 1] = v;
        }
        for (_p = 0, _len6 = p0.length; _p < _len6; _p++) {
          v = p0[_p];
          lns[cpl += 1] = v;
        }
        for (_q = 0, _len7 = p1.length; _q < _len7; _q++) {
          v = p1[_q];
          lns[cpl += 1] = v;
        }
        for (_r = 0, _len8 = p1.length; _r < _len8; _r++) {
          v = p1[_r];
          lns[cpl += 1] = v;
        }
        for (_s = 0, _len9 = p2.length; _s < _len9; _s++) {
          v = p2[_s];
          lns[cpl += 1] = v;
        }
        for (_t = 0, _len10 = p2.length; _t < _len10; _t++) {
          v = p2[_t];
          lns[cpl += 1] = v;
        }
        for (_u = 0, _len11 = p0.length; _u < _len11; _u++) {
          v = p0[_u];
          lns[cpl += 1] = v;
        }
      }
      if (this._pts_buffer[gl.ctx_id] != null) {
        gl.deleteBuffer(this._pts_buffer[gl.ctx_id]);
        gl.deleteBuffer(this._nor_buffer[gl.ctx_id]);
        gl.deleteBuffer(this._lns_buffer[gl.ctx_id]);
      }
      this._pts_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[gl.ctx_id]);
      gl.bufferData(gl.ARRAY_BUFFER, pts, gl.STATIC_DRAW);
      this._nor_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._nor_buffer[gl.ctx_id]);
      gl.bufferData(gl.ARRAY_BUFFER, nor, gl.STATIC_DRAW);
      this._lns_buffer[gl.ctx_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._lns_buffer[gl.ctx_id]);
      return gl.bufferData(gl.ARRAY_BUFFER, lns, gl.STATIC_DRAW);
    }
  };

  Element_TriangleList.prototype._draw_gradient_stroke_triangle = function(info, p0, p1, posit, legend) {
    var col, lineargradient, _i, _len, _ref;
    info.ctx.beginPath();
    lineargradient = info.ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);
    _ref = legend.color_map.color_stop;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      col = _ref[_i];
      lineargradient.addColorStop(col.position.get(), col.color.to_rgba());
    }
    info.ctx.strokeStyle = lineargradient;
    info.ctx.moveTo(posit[0][0], posit[0][1]);
    info.ctx.lineTo(posit[1][0], posit[1][1]);
    info.ctx.lineTo(posit[2][0], posit[2][1]);
    info.ctx.lineTo(posit[0][0], posit[0][1]);
    return info.ctx.stroke();
  };

  Element_TriangleList.prototype._draw_gradient_fill_triangle = function(info, p0, p1, posit, legend) {
    var col, lineargradient, _i, _len, _ref;
    info.ctx.beginPath();
    if (isNaN(p0[0]) || isNaN(p0[1]) || isNaN(p1[0]) || isNaN(p1[1])) {
      return;
    }
    if (Math.abs(p0[0]) > 1e40 || Math.abs(p0[1]) > 1e40 || Math.abs(p1[0]) > 1e40 || Math.abs(p1[1]) > 1e40) {
      return;
    }
    lineargradient = info.ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);
    _ref = legend.color_map.color_stop;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      col = _ref[_i];
      lineargradient.addColorStop(col.position.get(), col.color.to_rgba());
    }
    info.ctx.strokeStyle = lineargradient;
    info.ctx.fillStyle = lineargradient;
    info.ctx.moveTo(posit[0][0], posit[0][1]);
    info.ctx.lineTo(posit[1][0], posit[1][1]);
    info.ctx.lineTo(posit[2][0], posit[2][1]);
    info.ctx.lineTo(posit[0][0], posit[0][1]);
    info.ctx.fill();
    return info.ctx.stroke();
  };

  Element_TriangleList.prototype.draw_elementary_triangle = function(info, proj, data, display_style, legend) {
    var c, col, div_legend, gv, i, max_legend, min_legend, nor, num_triangle, p0, p1, p2, pos, position, tri, value, x, _i, _ref, _results;
    max_legend = legend.max_val.get();
    min_legend = legend.min_val.get();
    div_legend = max_legend - min_legend;
    div_legend = 1 / (div_legend + (div_legend === 0));
    _results = [];
    for (num_triangle = _i = 0, _ref = this.indices.size(1); 0 <= _ref ? _i < _ref : _i > _ref; num_triangle = 0 <= _ref ? ++_i : --_i) {
      tri = [this.indices.get([0, num_triangle]), this.indices.get([1, num_triangle]), this.indices.get([2, num_triangle])];
      value = data.get(num_triangle);
      position = (function() {
        var _j, _results1;
        _results1 = [];
        for (i = _j = 0; _j < 3; i = ++_j) {
          _results1.push(proj[tri[i]]);
        }
        return _results1;
      })();
      pos = (max_legend - value) / (max_legend - min_legend);
      col = legend.color_map.get_color_from_pos(pos);
      if (info.ctx_type === "2d") {
        if (display_style === "Wireframe") {
          this._draw_elementary_stroke_triangle(info, position, col);
        }
        if (display_style === "Surface" || display_style === "Surface with Edges") {
          this._draw_elementary_fill_triangle(info, position, col);
        }
        if (display_style === "Surface with Edges" || display_style === "Edges") {
          _results.push(this._draw_edge_triangle(info, position));
        } else {
          _results.push(void 0);
        }
      } else {
        if (!(this._sf != null)) {
          this._sf = new SurfaceTheme;
        }
        p0 = (function() {
          var _j, _len, _ref1, _results1;
          _ref1 = position[0];
          _results1 = [];
          for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
            x = _ref1[_j];
            _results1.push(x);
          }
          return _results1;
        })();
        p1 = (function() {
          var _j, _len, _ref1, _results1;
          _ref1 = position[1];
          _results1 = [];
          for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
            x = _ref1[_j];
            _results1.push(x);
          }
          return _results1;
        })();
        p2 = (function() {
          var _j, _len, _ref1, _results1;
          _ref1 = position[2];
          _results1 = [];
          for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
            x = _ref1[_j];
            _results1.push(x);
          }
          return _results1;
        })();
        p0[2] *= Math.max(info.w, info.h);
        p1[2] *= Math.max(info.w, info.h);
        p2[2] *= Math.max(info.w, info.h);
        nor = Vec_3.nor(Vec_3.cro(Vec_3.sub(p1, p0), Vec_3.sub(p2, p0)));
        gv = 0.5 + 0.4 * Math.abs(nor[2]);
        _results.push(this._sf.draw_triangle(info, position[0], position[1], position[2], (function() {
          var _j, _len, _results1;
          _results1 = [];
          for (_j = 0, _len = col.length; _j < _len; _j++) {
            c = col[_j];
            _results1.push(gv * c / 255.0);
          }
          return _results1;
        })()));
      }
    }
    return _results;
  };

  Element_TriangleList.prototype._draw_elementary_stroke_triangle = function(info, position, col) {
    info.ctx.beginPath();
    info.ctx.strokeStyle = "rgba( " + col[0] + ", " + col[1] + ", " + col[2] + ", " + col[3] + " ) ";
    info.ctx.moveTo(position[0][0], position[0][1]);
    info.ctx.lineTo(position[1][0], position[1][1]);
    info.ctx.lineTo(position[2][0], position[2][1]);
    info.ctx.lineTo(position[0][0], position[0][1]);
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  Element_TriangleList.prototype._draw_elementary_fill_triangle = function(info, position, col) {
    info.ctx.beginPath();
    info.ctx.fillStyle = "rgba( " + col[0] + ", " + col[1] + ", " + col[2] + ", " + col[3] + " ) ";
    info.ctx.strokeStyle = "rgba( " + col[0] + ", " + col[1] + ", " + col[2] + ", " + col[3] + " ) ";
    info.ctx.moveTo(position[0][0], position[0][1]);
    info.ctx.lineTo(position[1][0], position[1][1]);
    info.ctx.lineTo(position[2][0], position[2][1]);
    info.ctx.lineTo(position[0][0], position[0][1]);
    info.ctx.fill();
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  Element_TriangleList.prototype._draw_edge_triangle = function(info, posit) {
    info.theme.lines.beg_ctx(info);
    info.theme.lines.draw_straight_proj(info, posit[0], posit[1]);
    info.theme.lines.draw_straight_proj(info, posit[1], posit[2]);
    info.theme.lines.draw_straight_proj(info, posit[2], posit[0]);
    return info.theme.lines.end_ctx(info);
  };

  return Element_TriangleList;

})(Element);
// Generated by CoffeeScript 1.4.0
var Element_BoundedVolume,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Element_BoundedVolume = (function(_super) {

  __extends(Element_BoundedVolume, _super);

  function Element_BoundedVolume(boundaries) {
    if (boundaries == null) {
      boundaries = [];
    }
    Element_BoundedVolume.__super__.constructor.call(this);
    this.add_attr({
      boundaries: boundaries
    });
  }

  Element_BoundedVolume.prototype.draw = function(info, mesh, proj, is_a_sub) {};

  Element_BoundedVolume.prototype.draw_gl = function(info, mesh, points, is_a_sub) {};

  Element_BoundedVolume.prototype.update_indices = function(done, n_array) {
    var b, _base, _i, _len, _ref, _results;
    _ref = this.boundaries;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      b = _ref[_i];
      _results.push(typeof (_base = b.e).update_indices === "function" ? _base.update_indices(done, n_array) : void 0);
    }
    return _results;
  };

  Element_BoundedVolume.prototype.closest_point_closer_than = function(best, mesh, proj, info, pos) {
    return void 0;
  };

  Element_BoundedVolume.prototype.add_sub_element = function(res) {
    var b, _i, _len, _ref, _ref1, _results;
    _ref = this.boundaries;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      b = _ref[_i];
      if (_ref1 = b.e, __indexOf.call(res, _ref1) < 0) {
        _results.push(res.push(b.e));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  return Element_BoundedVolume;

})(Element);
// Generated by CoffeeScript 1.4.0
var Element_Line,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Element_Line = (function(_super) {

  __extends(Element_Line, _super);

  function Element_Line(indices) {
    if (indices == null) {
      indices = [];
    }
    Element_Line.__super__.constructor.call(this, indices);
    this.cut_with_point_callback = [];
  }

  Element_Line.prototype.draw_gl = function(info, mesh, points, is_a_sub, theme) {
    var i, p, proj;
    if (theme == null) {
      theme = info.theme.lines;
    }
    proj = (function() {
      var _i, _len, _results;
      _results = [];
      for (i = _i = 0, _len = points.length; _i < _len; i = ++_i) {
        p = points[i];
        _results.push(info.re_2_sc.proj(p.pos.get()));
      }
      return _results;
    })();
    return this.draw(info, mesh, proj, is_a_sub);
  };

  Element_Line.prototype.draw = function(info, mesh, proj, is_a_sub, theme) {
    var i, wf, _i, _ref, _ref1;
    if (theme == null) {
      theme = info.theme.lines;
    }
    wf = (_ref = mesh.visualization.display_style.get()) === "Wireframe" || _ref === "Surface with Edges";
    theme = mesh._theme.lines;
    if (wf || !is_a_sub) {
      theme.beg_ctx(info);
      if (this.indices.length) {
        for (i = _i = 0, _ref1 = this.indices.length - 1; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
          theme.draw_straight_proj(info, proj[this.indices[i].get()], proj[this.indices[i + 1].get()]);
        }
      }
      return theme.end_ctx(info);
    }
  };

  Element_Line.prototype.contour = function(info, mesh, proj, beg, inversion) {
    var i, _i, _j, _ref, _ref1, _results, _results1;
    if (this.indices.length >= 2) {
      if (inversion) {
        _results = [];
        for (i = _i = _ref = this.indices.length - 2; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {
          _results.push(mesh._theme.lines.contour_straight_proj(info, proj[this.indices[i + 1].get()], proj[this.indices[i].get()], beg && i === 0));
        }
        return _results;
      } else {
        _results1 = [];
        for (i = _j = 0, _ref1 = this.indices.length - 1; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
          _results1.push(mesh._theme.lines.contour_straight_proj(info, proj[this.indices[i].get()], proj[this.indices[i + 1].get()], beg && i === 0));
        }
        return _results1;
      }
    }
  };

  Element_Line.prototype.closest_point_closer_than = function(best, mesh, proj, info, pos) {
    var P0, P1, a, b, d, dist, dx, dy, dz, i, l, p0, p1, px, py, pz, r, _i, _ref, _results;
    if (this.indices.length) {
      _results = [];
      for (i = _i = 0, _ref = this.indices.length - 1; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        p0 = this.indices[i + 0].get();
        p1 = this.indices[i + 1].get();
        a = proj[p0];
        b = proj[p1];
        if (a[0] !== b[0] || a[1] !== b[1]) {
          dx = b[0] - a[0];
          dy = b[1] - a[1];
          dz = b[2] - a[2];
          px = pos[0] - a[0];
          py = pos[1] - a[1];
          l = dx * dx + dy * dy;
          d = px * dx + py * dy;
          if (l && d >= 0 && d <= l) {
            r = d / l;
            px = a[0] + dx * r;
            py = a[1] + dy * r;
            pz = a[2] + dz * r;
            dist = Math.sqrt(Math.pow(px - pos[0], 2) + Math.pow(py - pos[1], 2));
            if (best.dist >= dist) {
              P0 = mesh.points[p0].pos.get();
              P1 = mesh.points[p1].pos.get();
              best.dist = dist;
              best.inst = this;
              best.indi = i;
              best.curv = r;
              _results.push(best.disp = [P0[0] * (1 - r) + P1[0] * r, P0[1] * (1 - r) + P1[1] * r, P0[2] * (1 - r) + P1[2] * r]);
            } else {
              _results.push(void 0);
            }
          } else {
            _results.push(void 0);
          }
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    }
  };

  Element_Line.prototype.cut_with_point = function(divisions, data, mesh, np, ip) {
    var fun, _i, _len, _ref, _results;
    if (data.inst === this) {
      if (!(divisions[this.model_id] != null)) {
        divisions[this.model_id] = [new Element_Line([this.indices[0].get(), np]), new Element_Line([np, this.indices[1].get()])];
      }
      _ref = this.cut_with_point_callback;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        fun = _ref[_i];
        _results.push(fun(mesh, this.indices, np));
      }
      return _results;
    }
  };

  return Element_Line;

})(Element_WithIndices);
// Generated by CoffeeScript 1.4.0
var Element_BoundedSurf,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Element_BoundedSurf = (function(_super) {

  __extends(Element_BoundedSurf, _super);

  function Element_BoundedSurf(boundaries) {
    if (boundaries == null) {
      boundaries = [];
    }
    Element_BoundedSurf.__super__.constructor.call(this);
    this.add_attr({
      boundaries: boundaries
    });
  }

  Element_BoundedSurf.prototype.draw = function(info, mesh, proj, is_a_sub) {
    var _ref,
      _this = this;
    if ((_ref = mesh.visualization.display_style.get()) === "Surface" || _ref === "Surface with Edges") {
      info.theme.surfaces.beg_ctx(info);
      info.theme.surfaces.draw(info, function() {
        var b, n, _i, _len, _ref1, _results;
        _ref1 = _this.boundaries;
        _results = [];
        for (n = _i = 0, _len = _ref1.length; _i < _len; n = ++_i) {
          b = _ref1[n];
          _results.push(b.e.contour(info, mesh, proj, n === 0, b.o < 0));
        }
        return _results;
      });
      return info.theme.surfaces.end_ctx(info);
    }
  };

  Element_BoundedSurf.prototype.draw_gl = function(info, mesh, points, is_a_sub) {
    var i, p, proj;
    proj = (function() {
      var _i, _len, _results;
      _results = [];
      for (i = _i = 0, _len = points.length; _i < _len; i = ++_i) {
        p = points[i];
        _results.push(info.re_2_sc.proj(p.pos.get()));
      }
      return _results;
    })();
    return this.draw(info, mesh, proj, is_a_sub);
  };

  Element_BoundedSurf.prototype.update_indices = function(done, n_array) {
    var b, _base, _i, _len, _ref, _results;
    _ref = this.boundaries;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      b = _ref[_i];
      _results.push(typeof (_base = b.e).update_indices === "function" ? _base.update_indices(done, n_array) : void 0);
    }
    return _results;
  };

  Element_BoundedSurf.prototype.closest_point_closer_than = function(best, mesh, proj, info, pos) {
    return void 0;
  };

  Element_BoundedSurf.prototype.cut_with_point = function(divisions, data, mesh, np, ip) {
    var b, d, n, nl, res, _base, _i, _j, _k, _len, _len1, _ref, _ref1, _ref2;
    res = [];
    _ref = this.boundaries;
    for (n = _i = 0, _len = _ref.length; _i < _len; n = ++_i) {
      b = _ref[n];
      if (typeof (_base = b.e).cut_with_point === "function") {
        _base.cut_with_point(divisions, data, mesh, np, ip);
      }
      if (divisions[b.e.model_id] != null) {
        if (b.o < 0) {
          d = divisions[b.e.model_id];
          if (d.length) {
            for (nl = _j = _ref1 = d.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; nl = _ref1 <= 0 ? ++_j : --_j) {
              res.push({
                o: b.o,
                e: d[nl]
              });
            }
          }
        } else {
          _ref2 = divisions[b.e.model_id];
          for (_k = 0, _len1 = _ref2.length; _k < _len1; _k++) {
            nl = _ref2[_k];
            res.push({
              o: b.o,
              e: nl
            });
          }
        }
      } else {
        res.push(b);
      }
    }
    this.boundaries.clear();
    return this.boundaries.set(res);
  };

  Element_BoundedSurf.prototype.add_sub_element = function(res) {
    var b, _i, _len, _ref, _ref1, _results;
    _ref = this.boundaries;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      b = _ref[_i];
      if (_ref1 = b.e, __indexOf.call(res, _ref1) < 0) {
        _results.push(res.push(b.e));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Element_BoundedSurf.prototype.rem_sub_element = function(sel_point) {
    var aft, b, bef, i, new_res, pos, res, unlinked_points, waiting_points, _i, _len, _ref;
    if (this.boundaries != null) {
      res = [];
      unlinked_points = [];
      _ref = this.boundaries;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        b = _ref[i];
        waiting_points = [];
        if (__indexOf.call(b.e.get_point_numbers(), sel_point) >= 0) {
          waiting_points = b.e.get_point_numbers();
          pos = waiting_points.indexOf(sel_point);
          if (waiting_points.length === 2) {
            unlinked_points.push(b.e.indices[1 - pos]);
            new_res = this._link_elements(unlinked_points);
            if (new_res !== false) {
              res.push(new_res);
              unlinked_points = [];
            }
          } else if (waiting_points.length >= 3) {
            bef = b.e.indices.slice(0, pos);
            aft = b.e.indices.slice(pos + 1, b.e.indices.length);
            if (pos === 0) {
              unlinked_points.push(aft[0].get());
            } else if (pos === b.e.indices.length - 1) {
              unlinked_points.push(bef[bef.length - 1].get());
            }
            new_res = this._link_elements(unlinked_points);
            if (new_res !== false) {
              res.push(new_res);
              unlinked_points = [];
            }
            if ((waiting_points.length - 1) === 2) {
              res.push({
                o: 1,
                e: new Element_Line(bef.get().concat(aft.get()))
              });
            } else if ((waiting_points.length - 1) >= 3) {
              res.push({
                o: 1,
                e: new Element_Arc(bef.get().concat(aft.get()))
              });
            }
          } else {
            res.push(b);
          }
        } else {
          res.push(b);
        }
      }
      this.boundaries.clear();
      return this.boundaries.set(res);
    }
  };

  Element_BoundedSurf.prototype.make_curve_line_from_selected = function(sel_point) {
    var b, i, n, np, res, tmp_array, waiting_points, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1, _ref2, _ref3;
    if ((sel_point != null) && (this.boundaries != null)) {
      res = [];
      waiting_points = [];
      _ref = this.boundaries;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        b = _ref[_i];
        if (__indexOf.call(b.e.get_point_numbers(), sel_point) >= 0) {
          np = b.e.get_point_numbers();
          if (b.o < 0) {
            if (np.length) {
              _ref1 = np.slice(np.length - 1, +(waiting_points.length > 0) + 1 || 9e9);
              for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                n = _ref1[_j];
                waiting_points.push(n);
              }
            }
          } else {
            if (waiting_points.length && waiting_points[0] === np[np.length - 1]) {
              tmp_array = [];
              _ref2 = np.slice(0, np.length - 1);
              for (i = _k = 0, _len2 = _ref2.length; _k < _len2; i = ++_k) {
                n = _ref2[i];
                tmp_array.push(n);
              }
              waiting_points = tmp_array.concat(waiting_points);
            } else {
              _ref3 = np.slice(waiting_points.length > 0);
              for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {
                n = _ref3[_l];
                waiting_points.push(n);
              }
            }
          }
        } else {
          if (waiting_points.length >= 3) {
            res.push({
              o: 1,
              e: new Element_Arc(waiting_points)
            });
            waiting_points = [];
          }
          res.push(b);
        }
      }
      if (waiting_points.length >= 3) {
        res.push({
          o: 1,
          e: new Element_Arc(waiting_points)
        });
        waiting_points = [];
      }
      this.boundaries.clear();
      return this.boundaries.set(res);
    }
  };

  Element_BoundedSurf.prototype.break_line_from_selected = function(sel_point) {
    var after, b, l, pos, res, waiting_points, _i, _len, _ref;
    if ((sel_point != null) && (this.boundaries != null)) {
      waiting_points = [];
      res = [];
      _ref = this.boundaries;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        b = _ref[_i];
        if (__indexOf.call(b.e.get_point_numbers(), sel_point) >= 0) {
          waiting_points = b.e.get_point_numbers();
          if (waiting_points.length >= 3) {
            pos = waiting_points.indexOf(sel_point);
            if (pos !== -1) {
              if (pos === 1) {
                res.push({
                  o: 1,
                  e: new Element_Line(waiting_points.slice(0, pos + 1))
                });
              }
              if (pos >= 2) {
                res.push({
                  o: 1,
                  e: new Element_Arc(waiting_points.slice(0, pos + 1))
                });
              }
              l = waiting_points.length - 1;
              after = l - pos;
              if (after === 1) {
                res.push({
                  o: 1,
                  e: new Element_Line(waiting_points.slice(pos, l + 1))
                });
              }
              if (after >= 2) {
                res.push({
                  o: 1,
                  e: new Element_Arc(waiting_points.slice(pos, l + 1))
                });
              }
            }
          } else {
            res.push(b);
          }
        } else {
          res.push(b);
        }
      }
      this.boundaries.clear();
      return this.boundaries.set(res);
    }
  };

  Element_BoundedSurf.prototype._link_elements = function(unlinked_points) {
    var res;
    if (unlinked_points.length === 2) {
      res = {
        o: 1,
        e: new Element_Line(unlinked_points)
      };
      return res;
    }
    return false;
  };

  return Element_BoundedSurf;

})(Element);
// Generated by CoffeeScript 1.4.0
var FieldSet,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

FieldSet = (function(_super) {

  __extends(FieldSet, _super);

  function FieldSet() {
    FieldSet.__super__.constructor.call(this);
    this.add_attr({
      color_by: new Choice,
      warp_by: new Choice,
      warp_factor: 0
    });
  }

  FieldSet.prototype.update_min_max = function(x_min, x_max) {
    var _ref, _ref1;
    return (_ref = this.color_by.lst[0]) != null ? (_ref1 = _ref.data._mesh) != null ? _ref1.update_min_max(x_min, x_max) : void 0 : void 0;
  };

  FieldSet.prototype.get_model_editor_parameters = function(res) {
    return res.model_editor["color_by"] = ModelEditorItem_ChoiceWithEditableItems;
  };

  FieldSet.prototype.draw = function(info) {
    var f;
    f = this.color_by.item();
    if (f != null) {
      return f.draw(info, {
        warp_by: this.warp_by.item() != null ? this.warp_by.item().data : void 0,
        warp_factor: this.warp_factor.get()
      });
    }
  };

  FieldSet.prototype.sub_canvas_items = function(additionnal_parameters) {
    var f;
    f = this.color_by.item();
    if (f != null) {
      return f.sub_canvas_items(additionnal_parameters);
    } else {
      return [];
    }
  };

  FieldSet.prototype.z_index = function() {
    return 150;
  };

  return FieldSet;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var ImageField,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ImageField = (function(_super) {

  __extends(ImageField, _super);

  function ImageField(name, path) {
    var _this = this;
    ImageField.__super__.constructor.call(this);
    this.add_attr({
      name: name,
      src: ""
    });
    this.rgba = new Image;
    this.rgba.onload = function() {
      return _this._signal_change();
    };
    this.src.bind(function() {
      if (_this.src.length) {
        return _this.rgba.src = _this.src.get();
      }
    });
    this._date_tex = {};
    this.tex = {};
  }

  ImageField.prototype.get_drawing_parameters = function(model) {
    model.add_attr({
      drawing_parameters: {
        _legend: new Legend("todo")
      }
    });
    return model.drawing_parameters.add_attr({
      color_map: model.drawing_parameters._legend.color_map
    });
  };

  ImageField.prototype.get_min_data = function() {
    return 0;
  };

  ImageField.prototype.get_max_data = function() {
    return 255;
  };

  ImageField.prototype.toString = function() {
    return this.name.get();
  };

  ImageField.prototype.draw = function(info) {
    if (this.rgba.height) {
      return Img._draw_persp_rec(info, this.rgba, 0, 0, [0, this.rgba.height, 0], [1, 0, 0], [0, -1, 0], [0, 0, 1], this._date_tex, this.tex, this.src);
    }
  };

  ImageField.prototype.z_index = function() {
    return 20000;
  };

  return ImageField;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var InterpolatedField,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

InterpolatedField = (function(_super) {

  __extends(InterpolatedField, _super);

  function InterpolatedField(name) {
    InterpolatedField.__super__.constructor.call(this);
    this.add_attr({
      _data: []
    });
  }

  InterpolatedField.prototype.get_drawing_parameters = function(model) {
    if (this._data.length) {
      return this._data[0].field.get_drawing_parameters(model);
    }
  };

  InterpolatedField.prototype.get_sub_field = function(info) {
    var n, t, _i, _len, _ref;
    _ref = this._data;
    for (n = _i = 0, _len = _ref.length; _i < _len; n = ++_i) {
      t = _ref[n];
      if (t.pos[0].axe_name.equals("time")) {
        if (t.pos[0].axe_value.get() >= info.time) {
          return t.field;
        }
      }
    }
    if (this._data.length) {
      return this._data[this._data.length - 1].field;
    }
  };

  InterpolatedField.prototype.get_val = function(info, i) {
    var f;
    f = this.get_sub_field(info);
    if (f != null) {
      return f.get_val(info, i);
    }
  };

  InterpolatedField.prototype.draw = function(info, parameters, additionnal_parameters) {
    var f, _ref, _ref1;
    if (parameters != null ? (_ref = parameters._legend) != null ? (_ref1 = _ref.auto_fit) != null ? _ref1.get() : void 0 : void 0 : void 0) {
      this.actualise_value_legend_all_fields(parameters._legend);
    }
    f = this.get_sub_field(info);
    if (f != null) {
      return f.draw(info, parameters, additionnal_parameters);
    }
  };

  InterpolatedField.prototype.sub_canvas_items = function(additionnal_parameters) {
    if (this._data.length) {
      return this._data[0].field.sub_canvas_items(additionnal_parameters);
    } else {
      return [];
    }
  };

  InterpolatedField.prototype.z_index = function() {
    if (this._data.length) {
      return this._data[0].field.z_index();
    } else {
      return 0;
    }
  };

  InterpolatedField.prototype.warp_gl_buff = function(info, el, buff_id) {
    var f;
    f = this.get_sub_field(info);
    return f.warp_gl_buff(info, el, buff_id);
  };

  InterpolatedField.prototype.actualise_value_legend_all_fields = function(legend) {
    var field, interpo_field, max, maxus, min, minus, _i, _len, _ref;
    max = -Infinity;
    min = Infinity;
    _ref = this._data;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      interpo_field = _ref[_i];
      field = interpo_field.field;
      maxus = field.get_max_data();
      minus = field.get_min_data();
      if (minus < min) {
        min = minus;
      }
      if (maxus > max) {
        max = maxus;
      }
    }
    legend.min_val.set(min);
    return legend.max_val.set(max);
  };

  return InterpolatedField;

})(Model);
// Generated by CoffeeScript 1.4.0
var ElementaryField,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ElementaryField = (function(_super) {

  __extends(ElementaryField, _super);

  function ElementaryField(mesh) {
    ElementaryField.__super__.constructor.call(this);
    this.add_attr({
      _mesh: mesh,
      _data: new TypedArray_Float64(mesh != null ? mesh.nb_elements() : void 0)
    });
    this._date_bufs = {};
    this._data_buffer = {};
  }

  ElementaryField.prototype.get_drawing_parameters = function(model) {
    model.add_attr({
      drawing_parameters: {
        _legend: new Legend(model.name)
      }
    });
    return model.drawing_parameters.add_attr({
      display_style: new Choice(1, ["Wireframe", "Surface", "Surface with Edges"]),
      legend: model.drawing_parameters._legend
    });
  };

  ElementaryField.prototype.get_sub_field = function(info) {
    return this;
  };

  ElementaryField.prototype.update_min_max = function(x_min, x_max) {
    return this._mesh.update_min_max(x_min, x_max);
  };

  ElementaryField.prototype.toString = function() {
    return this.name.get();
  };

  ElementaryField.prototype.get = function() {
    return this._data.get();
  };

  ElementaryField.prototype.sub_canvas_items = function() {
    if (this.drawing_parameters != null) {
      return [this.drawing_parameters._legend];
    } else {
      return [];
    }
  };

  ElementaryField.prototype.z_index = function() {
    return 140;
  };

  ElementaryField.prototype.get_val = function(info, i) {
    return this._data.get(i);
  };

  ElementaryField.prototype.draw = function(info, parameters, additionnal_parameters) {
    var el, i, ni, nn, offset_el, p, proj, w, _i, _j, _len, _len1, _ref, _ref1;
    if (parameters != null) {
      this.actualise_value_legend(parameters._legend);
      if (info.ctx_type === "gl") {
        nn = -1;
        offset_el = 0;
        _ref = this._mesh._elements;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (!(el.indices._data != null)) {
            continue;
          }
          this._update_gl_bufs(info, (nn += 1), el, offset_el);
          ni = nn + "_" + info.ctx.ctx_id;
          w = ((additionnal_parameters != null ? additionnal_parameters.warp_by : void 0) != null) && (additionnal_parameters != null ? additionnal_parameters.warp_factor : void 0) ? additionnal_parameters.warp_by : void 0;
          if (typeof el.draw_nodal_field_gl === "function") {
            el.draw_nodal_field_gl(info, this._mesh, this._mesh.points, this._data_buffer[ni], parameters.display_style.get(), parameters._legend, w, additionnal_parameters.warp_factor, ni);
          }
          offset_el += el.indices.size(1);
        }
      } else {
        proj = (function() {
          var _j, _k, _len1, _len2, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6, _results, _results1;
          if (((additionnal_parameters != null ? additionnal_parameters.warp_by : void 0) != null) && this._mesh.points.length === ((_ref1 = additionnal_parameters.warp_by._vector[0]) != null ? (_ref2 = _ref1._data[0]) != null ? (_ref3 = _ref2.field) != null ? (_ref4 = _ref3._data.size()) != null ? _ref4[0] : void 0 : void 0 : void 0 : void 0)) {
            _ref5 = this._mesh.points;
            _results = [];
            for (i = _j = 0, _len1 = _ref5.length; _j < _len1; i = ++_j) {
              p = _ref5[i];
              _results.push(info.re_2_sc.proj(Vec_3.add(p.pos.get(), Vec_3.mus(additionnal_parameters.warp_factor, additionnal_parameters.warp_by.get_val(info, i, 3)))));
            }
            return _results;
          } else {
            _ref6 = this._mesh.points;
            _results1 = [];
            for (i = _k = 0, _len2 = _ref6.length; _k < _len2; i = ++_k) {
              p = _ref6[i];
              _results1.push(info.re_2_sc.proj(p.pos.get()));
            }
            return _results1;
          }
        }).call(this);
        _ref1 = this._mesh._elements;
        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
          el = _ref1[_j];
          if (typeof el.draw_elementary_triangle === "function") {
            el.draw_elementary_triangle(info, proj, this._data, parameters.display_style.get(), parameters._legend);
          }
        }
      }
      return parameters._legend.draw(info);
    }
  };

  ElementaryField.prototype.actualise_value_legend = function(legend) {
    var max, min;
    if (this._data.has_been_modified() || !legend.is_correct()) {
      min = this.get_min_data();
      legend.min_val.set(min);
      max = this.get_max_data();
      return legend.max_val.set(max);
    }
  };

  ElementaryField.prototype.get_min_data = function() {
    return this._get_min(this._data.get());
  };

  ElementaryField.prototype.get_max_data = function() {
    return this._get_max(this._data.get());
  };

  ElementaryField.prototype._update_gl_bufs = function(info, nn, el, offset_el) {
    var cpe, gl, i, j, ne, ni, val, _i, _j, _ref, _ref1;
    gl = info.ctx;
    ni = nn + "_" + gl.ctx_id;
    if (!(this._date_bufs[ni] != null)) {
      this._date_bufs[ni] = -1;
    }
    if (this._date_bufs[ni] < this._data._date_last_modification || this._date_bufs[ni] < this._mesh._date_last_modification) {
      this._date_bufs[ni] = Model._counter;
      if (this._data_buffer[ni] != null) {
        gl.deleteBuffer(this._data_buffer[ni]);
      }
      this._data_buffer[ni] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._data_buffer[ni]);
      cpe = -1;
      ne = el.indices._data.length;
      val = new Float32Array(ne);
      for (i = _i = 0, _ref = el.indices.size(1); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        for (j = _j = 0, _ref1 = el.indices.size(0); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
          val[cpe += 1] = this._data._data[i + offset_el];
        }
      }
      return gl.bufferData(gl.ARRAY_BUFFER, val, gl.STATIC_DRAW);
    }
  };

  ElementaryField.prototype._get_max = function(l) {
    var i, max, val, _i, _ref;
    if (l.length > 0) {
      max = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val > max) {
        max = val;
      }
    }
    return max;
  };

  ElementaryField.prototype._get_min = function(l) {
    var i, min, val, _i, _ref;
    if (l.length > 0) {
      min = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val < min) {
        min = val;
      }
    }
    return min;
  };

  return ElementaryField;

})(Model);
// Generated by CoffeeScript 1.4.0
var NodalField,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

NodalField = (function(_super) {

  __extends(NodalField, _super);

  function NodalField(mesh) {
    NodalField.__super__.constructor.call(this);
    this.add_attr({
      _mesh: mesh,
      _data: new TypedArray_Float64(mesh != null ? typeof mesh.nb_points === "function" ? mesh.nb_points() : void 0 : void 0)
    });
    this._date_bufs = {};
    this._data_buffer = {};
  }

  NodalField.prototype.size = function() {
    return this._data._data.length;
  };

  NodalField.prototype.get_drawing_parameters = function(model) {
    model.add_attr({
      drawing_parameters: {
        _legend: new Legend(model.name)
      }
    });
    return model.drawing_parameters.add_attr({
      display_style: new Choice(1, ["Wireframe", "Surface", "Surface with Edges"]),
      legend: model.drawing_parameters._legend
    });
  };

  NodalField.prototype.get_sub_field = function(info) {
    return this;
  };

  NodalField.prototype.update_min_max = function(x_min, x_max) {
    return this._mesh.update_min_max(x_min, x_max);
  };

  NodalField.prototype.toString = function() {
    return this.name.get();
  };

  NodalField.prototype.draw = function(info, parameters, additionnal_parameters) {
    var el, i, ni, nn, p, proj, w, _i, _j, _len, _len1, _ref, _ref1;
    if (parameters != null) {
      this.actualise_value_legend(parameters._legend);
      if (info.ctx_type === "gl") {
        nn = -1;
        _ref = this._mesh._elements;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (!(el.indices._data != null)) {
            continue;
          }
          this._update_gl_bufs(info, (nn += 1), el);
          ni = nn + "_" + info.ctx.ctx_id;
          w = ((additionnal_parameters != null ? additionnal_parameters.warp_by : void 0) != null) && (additionnal_parameters != null ? additionnal_parameters.warp_factor : void 0) ? additionnal_parameters.warp_by : void 0;
          if (typeof el.draw_nodal_field_gl === "function") {
            el.draw_nodal_field_gl(info, this._mesh, this._mesh.points, this._data_buffer[ni], parameters.display_style.get(), parameters._legend, w, additionnal_parameters.warp_factor, ni);
          }
        }
      } else {
        proj = (function() {
          var _j, _k, _len1, _len2, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6, _results, _results1;
          if (((additionnal_parameters != null ? additionnal_parameters.warp_by : void 0) != null) && this._mesh.points.length === ((_ref1 = additionnal_parameters.warp_by._vector[0]) != null ? (_ref2 = _ref1._data[0]) != null ? (_ref3 = _ref2.field) != null ? (_ref4 = _ref3._data.size()) != null ? _ref4[0] : void 0 : void 0 : void 0 : void 0)) {
            _ref5 = this._mesh.points;
            _results = [];
            for (i = _j = 0, _len1 = _ref5.length; _j < _len1; i = ++_j) {
              p = _ref5[i];
              _results.push(info.re_2_sc.proj(Vec_3.add(p.pos.get(), Vec_3.mus(additionnal_parameters.warp_factor, additionnal_parameters.warp_by.get_val(info, i, 3)))));
            }
            return _results;
          } else {
            _ref6 = this._mesh.points;
            _results1 = [];
            for (i = _k = 0, _len2 = _ref6.length; _k < _len2; i = ++_k) {
              p = _ref6[i];
              _results1.push(info.re_2_sc.proj(p.pos.get()));
            }
            return _results1;
          }
        }).call(this);
        _ref1 = this._mesh._elements;
        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
          el = _ref1[_j];
          if (typeof el.draw_nodal_field === "function") {
            el.draw_nodal_field(info, proj, this._data, parameters.display_style.get(), parameters._legend);
          }
        }
      }
      return parameters._legend.draw(info);
    }
  };

  NodalField.prototype.sub_canvas_items = function() {
    if (this.drawing_parameters != null) {
      return [this.drawing_parameters._legend];
    } else {
      return [];
    }
  };

  NodalField.prototype.z_index = function() {
    return 150;
  };

  NodalField.prototype.get_val = function(info, i) {
    return this._data.get(i);
  };

  NodalField.prototype.actualise_value_legend = function(legend) {
    var max, min;
    if (this._data.has_been_modified() || !legend.is_correct()) {
      min = this.get_min_data();
      legend.min_val.set(min);
      max = this.get_max_data();
      return legend.max_val.set(max);
    }
  };

  NodalField.prototype.get_min_data = function() {
    return this._get_min(this._data.get());
  };

  NodalField.prototype.get_max_data = function() {
    return this._get_max(this._data.get());
  };

  NodalField.prototype._update_gl_bufs = function(info, nn, el) {
    var gl, i, ne, ni, val, _i;
    gl = info.ctx;
    ni = nn + "_" + gl.ctx_id;
    if (!(this._date_bufs[ni] != null)) {
      this._date_bufs[ni] = -1;
    }
    if (this._date_bufs[ni] < this._data._date_last_modification || this._date_bufs[ni] < this._mesh._date_last_modification) {
      this._date_bufs[ni] = Model._counter;
      if (this._data_buffer[ni] != null) {
        gl.deleteBuffer(this._data_buffer[ni]);
      }
      this._data_buffer[ni] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._data_buffer[ni]);
      ne = el.indices._data.length;
      val = new Float32Array(ne);
      for (i = _i = 0; 0 <= ne ? _i < ne : _i > ne; i = 0 <= ne ? ++_i : --_i) {
        val[i] = this._data._data[el.indices.get(i)];
      }
      return gl.bufferData(gl.ARRAY_BUFFER, val, gl.STATIC_DRAW);
    }
  };

  NodalField.prototype._get_max = function(l) {
    var i, max, val, _i, _ref;
    if (l.length > 0) {
      max = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val > max) {
        max = val;
      }
    }
    return max;
  };

  NodalField.prototype._get_min = function(l) {
    var i, min, val, _i, _ref;
    if (l.length > 0) {
      min = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val < min) {
        min = val;
      }
    }
    return min;
  };

  return NodalField;

})(Model);
// Generated by CoffeeScript 1.4.0
var VectorialField,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

VectorialField = (function(_super) {

  __extends(VectorialField, _super);

  function VectorialField(name, vector, params) {
    if (name == null) {
      name = "";
    }
    if (vector == null) {
      vector = new Lst;
    }
    if (params == null) {
      params = {};
    }
    VectorialField.__super__.constructor.call(this);
    this.add_attr({
      _vector: vector
    });
    this._date_pts = {};
    this._pts_buffer = {};
  }

  VectorialField.prototype.get_drawing_parameters = function(model) {
    if (this._vector.length) {
      model.add_attr({
        drawing_parameters: {
          _legend: new Legend(model.name)
        }
      });
      return model.drawing_parameters.add_attr({
        display_style: new Choice(2, ["Points", "Wireframe", "Surface", "Surface with Edges", "Arrow"]),
        legend: model.drawing_parameters._legend
      });
    }
  };

  VectorialField.prototype.get = function(a, b) {
    if (a != null) {
      if (b != null) {
        return this._vector[a].get(b);
      } else {
        return this._vector[a].get();
      }
    } else {
      return this._vector.get();
    }
  };

  VectorialField.prototype.get_val = function(info, i, n) {
    var j, _i, _results;
    if (n == null) {
      n = 3;
    }
    _results = [];
    for (j = _i = 0; 0 <= n ? _i < n : _i > n; j = 0 <= n ? ++_i : --_i) {
      if (j < this._vector.length) {
        _results.push(this._vector[j].get_val(info, i));
      } else {
        _results.push(0);
      }
    }
    return _results;
  };

  VectorialField.prototype.dim = function() {
    if (this._vector) {
      return this._vector.length;
    }
    return 0;
  };

  VectorialField.prototype.field_length = function(info) {
    var f;
    if (this._vector[0] != null) {
      f = this._vector[0].get_sub_field(info);
      return f._data.size();
    }
  };

  VectorialField.prototype.add_child = function(child) {
    return this._vector.push(child);
  };

  VectorialField.prototype.rem_child = function(child) {
    var ind;
    ind = this._vector.indexOf(child);
    if (ind > 0) {
      return this._vector.splice(ind, 1);
    }
  };

  VectorialField.prototype.get_norm_value_at_index = function(info, index) {
    var value, vector_value;
    vector_value = this.get_val(info, index);
    return value = Math.sqrt(vector_value[0] * vector_value[0] + vector_value[1] * vector_value[1]);
  };

  VectorialField.prototype.actualise_value_legend = function(info, legend, norm) {
    var i, len, max, min, normalized_val, _i;
    if (norm == null) {
      norm = true;
    }
    if (norm) {
      normalized_val = [];
      len = this.field_length(info);
      for (i = _i = 0; 0 <= len ? _i < len : _i > len; i = 0 <= len ? ++_i : --_i) {
        normalized_val[i] = this.get_norm_value_at_index(info, i);
      }
      max = this._get_max(normalized_val);
      min = this._get_min(normalized_val);
      legend.min_val.set(min);
      return legend.max_val.set(max);
    } else {
      return this._vector[0].actualise_value_legend_all_fields(legend);
    }
  };

  VectorialField.prototype.z_index = function() {
    return 175;
  };

  VectorialField.prototype.draw = function(info, parameters, additionnal_parameters) {
    var sub_field, warp_factor, _ref, _ref1;
    if (parameters != null) {
      this.actualise_value_legend(info, parameters._legend, true);
      /*if info.ctx_type == "gl"
          nn = -1
          for el in @_mesh._elements when el.indices._data?
              @_update_gl_bufs info, ( nn += 1 ), el
              ni = nn + "_" + info.ctx.ctx_id
              w = if additionnal_parameters?.warp_by? and additionnal_parameters?.warp_factor
                  additionnal_parameters.warp_by
              el.draw_nodal_field_gl? info, @_mesh, @_mesh.points, @_data_buffer[ ni ], parameters.display_style.get(), parameters._legend, w, additionnal_parameters.warp_factor, ni
              
      else
      */

      if (this.dim() >= 2) {
        warp_factor = 0;
        if ((additionnal_parameters != null ? additionnal_parameters.warp_by : void 0) != null) {
          warp_factor = additionnal_parameters.warp_factor;
        }
        sub_field = this._vector[0].get_sub_field(info);
        if ((((_ref = sub_field._mesh) != null ? _ref.points : void 0) != null) && (((_ref1 = sub_field._data) != null ? _ref1._data : void 0) != null)) {
          this.draw_vectorial_field(info, parameters.display_style.get(), sub_field._mesh.points, sub_field._data._data, parameters._legend, warp_factor);
        }
      }
      return parameters._legend.draw(info);
    }
  };

  VectorialField.prototype._update_gl_bufs = function(info, nn, el) {
    var gl, i, ne, ni, val, _i;
    gl = info.ctx;
    ni = nn + "_" + gl.ctx_id;
    if (!(this._date_bufs[ni] != null)) {
      this._date_bufs[ni] = -1;
    }
    if (this._date_bufs[ni] < this._data._date_last_modification || this._date_bufs[ni] < this._mesh._date_last_modification) {
      this._date_bufs[ni] = Model._counter;
      if (this._data_buffer[ni] != null) {
        gl.deleteBuffer(this._data_buffer[ni]);
      }
      this._data_buffer[ni] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._data_buffer[ni]);
      ne = el.indices._data.length;
      val = new Float32Array(ne);
      for (i = _i = 0; 0 <= ne ? _i < ne : _i > ne; i = 0 <= ne ? ++_i : --_i) {
        val[i] = this._data._data[el.indices.get(i)];
      }
      return gl.bufferData(gl.ARRAY_BUFFER, val, gl.STATIC_DRAW);
    }
  };

  VectorialField.prototype.draw_vectorial_field = function(info, display_style, points, values, legend, warp_factor, norm) {
    var arrow_p0, arrow_p1, arrow_reduce, arrow_width_factor, color, data, element, i, ind, int_field, max_legend, min_legend, norm_values, orthogo, p, position, proj_p0, proj_p1, val, _i, _j, _k, _len, _len1, _len2, _ref, _results;
    if (warp_factor == null) {
      warp_factor = 1;
    }
    if (norm == null) {
      norm = true;
    }
    if (display_style === "Arrow") {
      color = "white";
      arrow_reduce = 0.3;
      arrow_width_factor = 0.1;
      _results = [];
      for (ind = _i = 0, _len = points.length; _i < _len; ind = ++_i) {
        p = points[ind];
        element = new Lst;
        _ref = this._vector;
        for (i = _j = 0, _len1 = _ref.length; _j < _len1; i = ++_j) {
          int_field = _ref[i];
          data = int_field.get_sub_field(info)._data._data;
          element.push(data[ind] * warp_factor);
        }
        if (element.length === 2) {
          element.push(0);
        }
        proj_p0 = info.re_2_sc.proj(p.pos.get());
        proj_p1 = info.re_2_sc.proj(Vec_3.add(p.pos.get(), element.get()));
        orthogo = [proj_p0[1] - proj_p1[1], proj_p1[0] - proj_p0[0]];
        arrow_p0 = [(1 - arrow_reduce) * proj_p1[0] + arrow_reduce * proj_p0[0] + arrow_width_factor * orthogo[0], (1 - arrow_reduce) * proj_p1[1] + arrow_reduce * proj_p0[1] + arrow_width_factor * orthogo[1]];
        arrow_p1 = [(1 - arrow_reduce) * proj_p1[0] + arrow_reduce * proj_p0[0] - arrow_width_factor * orthogo[0], (1 - arrow_reduce) * proj_p1[1] + arrow_reduce * proj_p0[1] - arrow_width_factor * orthogo[1]];
        max_legend = legend.max_val.get();
        min_legend = legend.min_val.get();
        if (norm) {
          norm_values = [];
          for (i = _k = 0, _len2 = values.length; _k < _len2; i = ++_k) {
            val = values[i];
            norm_values[i] = this.get_norm_value_at_index(info, i);
          }
          position = (max_legend - norm_values[ind]) / (max_legend - min_legend);
        } else {
          position = (max_legend - values[ind]) / (max_legend - min_legend);
        }
        color = legend.color_map.get_color_from_pos(position);
        _results.push(this._draw_arrow_colored(info, proj_p0, proj_p1, arrow_p0, arrow_p1, color));
      }
      return _results;
    }
  };

  VectorialField.prototype.warp_gl_buff = function(info, el, buff_id) {
    var cpp, dim, gl, i, ni, nn, pts, _i, _j, _ref, _ref1;
    gl = info.ctx;
    if (!(this._date_pts[buff_id] != null)) {
      this._date_pts[buff_id] = -1;
    }
    if (this._date_pts[buff_id] < this._vector._date_last_modification) {
      this._date_pts[buff_id] = this._vector._date_last_modification;
      dim = 3;
      cpp = -1;
      pts = new Float32Array(el.indices.size(0) * dim * el.indices.size(1));
      for (i = _i = 0, _ref = el.indices.size(1); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        for (nn = _j = 0, _ref1 = el.indices.size(0); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; nn = 0 <= _ref1 ? ++_j : --_j) {
          ni = el.indices.get([nn, i]);
          pts[cpp += 1] = this._vector[0] != null ? this._vector[0].get_sub_field(info).get_val(info, ni) : 0;
          pts[cpp += 1] = this._vector[1] != null ? this._vector[1].get_sub_field(info).get_val(info, ni) : 0;
          pts[cpp += 1] = this._vector[2] != null ? this._vector[2].get_sub_field(info).get_val(info, ni) : 0;
        }
      }
      if (this._pts_buffer[buff_id] != null) {
        gl.deleteBuffer(this._pts_buffer[buff_id]);
      }
      this._pts_buffer[buff_id] = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, this._pts_buffer[buff_id]);
      gl.bufferData(gl.ARRAY_BUFFER, pts, gl.STATIC_DRAW);
    }
    return this._pts_buffer[buff_id];
  };

  VectorialField.prototype._draw_arrow_colored = function(info, p0, p1, arrow_p0, arrow_p1, color) {
    info.ctx.beginPath();
    info.ctx.lineWidth = 1;
    info.ctx.strokeStyle = "rgba( " + color[0] + ", " + color[1] + ", " + color[2] + ", " + color[3] + " ) ";
    info.ctx.moveTo(p0[0], p0[1]);
    info.ctx.lineTo(p1[0], p1[1]);
    info.ctx.stroke();
    info.ctx.fillStyle = "rgba( " + color[0] + ", " + color[1] + ", " + color[2] + ", " + color[3] + " ) ";
    info.ctx.lineWidth = 0.8;
    info.ctx.moveTo(p1[0], p1[1]);
    info.ctx.lineTo(arrow_p0[0], arrow_p0[1]);
    info.ctx.lineTo(arrow_p1[0], arrow_p1[1]);
    info.ctx.lineTo(p1[0], p1[1]);
    info.ctx.fill();
    info.ctx.stroke();
    return info.ctx.closePath();
  };

  VectorialField.prototype._get_max = function(l) {
    var i, max, val, _i, _ref;
    if (l.length > 0) {
      max = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val > max) {
        max = val;
      }
    }
    return max;
  };

  VectorialField.prototype._get_min = function(l) {
    var i, min, val, _i, _ref;
    if (l.length > 0) {
      min = l[0];
    }
    for (i = _i = 1, _ref = l.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
      val = l[i];
      if (val < min) {
        min = val;
      }
    }
    return min;
  };

  return VectorialField;

})(Drawable);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication = (function(_super) {

  __extends(TreeAppApplication, _super);

  function TreeAppApplication() {
    TreeAppApplication.__super__.constructor.call(this);
    this.name = '';
    this.visible = true;
    this.actions = [];
    this.powered_with = '';
    this.company = '';
    this.publication_link = "";
    this.tutorial_link = "";
    this.group = "";
    this.key_words = [];
  }

  TreeAppApplication.prototype.select_item = function(app_data, item, parent) {
    var path;
    if (!parent) {
      path = [];
      path.push(app_data.selected_session());
    } else {
      path = app_data.get_root_path_in_selected(parent);
    }
    path.push(item);
    this.unselect_all_item(app_data);
    return app_data.selected_tree_items.push(path);
  };

  TreeAppApplication.prototype.unselect_all_item = function(app_data) {
    return app_data.selected_tree_items.clear();
  };

  TreeAppApplication.prototype.watch_item = function(app_data, item) {
    return app_data.watch_item(item);
  };

  TreeAppApplication.prototype.get_animation_module = function(app) {
    var child, _i, _len, _ref;
    _ref = app.data.modules;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      child = _ref[_i];
      if (child instanceof TreeAppModule_Animation) {
        return child;
      }
    }
  };

  TreeAppApplication.prototype.get_display_settings_item = function(app) {
    var child, _i, _len, _ref;
    _ref = app.data.tree_items[0]._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      child = _ref[_i];
      if (child instanceof DisplaySettingsItem) {
        return child;
      }
    }
  };

  TreeAppApplication.prototype.add_item_depending_selected_tree = function(app_data, typeItem, callback) {
    var find_object, it, item, items, object, parent, session, _i, _j, _len, _len1, _ref;
    items = app_data.get_selected_tree_items();
    find_object = false;
    if (find_object === false) {
      for (_i = 0, _len = items.length; _i < _len; _i++) {
        it = items[_i];
        item = new typeItem;
        if (typeof it.accept_child === "function" ? it.accept_child(item) : void 0) {
          if (find_object === false) {
            object = item;
            it.add_child(object);
            this.select_item(app_data, object, it);
            this.watch_item(app_data, object);
            find_object = true;
          }
        }
      }
    }
    if (find_object === false) {
      _ref = app_data.selected_tree_items;
      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
        items = _ref[_j];
        parent = items[items.length - 2];
        item = new typeItem;
        if (parent instanceof typeItem) {
          object = parent;
          find_object = true;
        }
      }
    }
    if (find_object === false) {
      object = new typeItem;
      session = app_data.selected_session();
      session.add_child(object);
      this.select_item(app_data, object);
      this.watch_item(app_data, object);
    }
    if (callback != null) {
      callback(object);
    }
    return object;
  };

  TreeAppApplication.prototype.child_in_selected = function(app, typeItem, sel_item, item) {
    var c, current, i, id, it, p, _i, _len, _results;
    current = new typeItem;
    _results = [];
    for (_i = 0, _len = sel_item.length; _i < _len; _i++) {
      it = sel_item[_i];
      if (current.accept_child(it)) {
        app.data.selected_tree_items[0][app.data.selected_tree_items[0].length - 2].rem_child(it);
        item.add_child(it);
        id = it.model_id;
        _results.push((function() {
          var _j, _len1, _ref, _results1;
          _ref = app.data.panel_id_list();
          _results1 = [];
          for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
            p = _ref[_j];
            _results1.push((function() {
              var _k, _len2, _ref1, _results2;
              _ref1 = app.data.visible_tree_items[p];
              _results2 = [];
              for (i = _k = 0, _len2 = _ref1.length; _k < _len2; i = ++_k) {
                c = _ref1[i];
                if (c.model_id === id) {
                  app.data.visible_tree_items[p].splice(i, 1);
                  break;
                } else {
                  _results2.push(void 0);
                }
              }
              return _results2;
            })());
          }
          return _results1;
        })());
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  return TreeAppApplication;

})(Model);
// Generated by CoffeeScript 1.4.0
var UserModel,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

UserModel = (function(_super) {

  __extends(UserModel, _super);

  function UserModel() {
    UserModel.__super__.constructor.call(this);
    this.add_attr({
      email: $.cookie("email"),
      firstName: "",
      lastName: "",
      created_at: new Date(),
      modify_at: new Date()
    });
  }

  return UserModel;

})(Model);
// Generated by CoffeeScript 1.4.0
var MessageCollection,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MessageCollection = (function(_super) {

  __extends(MessageCollection, _super);

  function MessageCollection(_name) {
    if (_name == null) {
      _name = "";
    }
    MessageCollection.__super__.constructor.call(this);
    this.add_attr({
      name: _name,
      list_messages: new Lst,
      text: "",
      list_users: new Lst
    });
  }

  MessageCollection.prototype.add_message = function() {
    var nm;
    nm = new Message(this.text);
    return this.list_messages.push(nm);
  };

  return MessageCollection;

})(Model);
// Generated by CoffeeScript 1.4.0
var Message,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Message = (function(_super) {

  __extends(Message, _super);

  function Message(input_text) {
    if (input_text == null) {
      input_text = "";
    }
    Message.__super__.constructor.call(this);
    this.add_attr({
      date: "",
      user: $.cookie("email"),
      text: ""
    });
    this.date.set((new Date()).toString().split(' ').splice(1, 3).join(' '));
    this.text.set(input_text);
  }

  return Message;

})(Model);
// Generated by CoffeeScript 1.4.0
var OrganisationData,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

OrganisationData = (function(_super) {

  __extends(OrganisationData, _super);

  function OrganisationData(config) {
    OrganisationData.__super__.constructor.call(this);
    this.add_attr({
      config: config,
      list_desk_items: new Lst,
      selected_list_desk_items: new Lst
    });
    this.list_desk_items.push(new DeskItem("Files", "OrganisationFiles"));
    this.list_desk_items.push(new DeskItem("Applications", "Applications"));
    this.list_desk_items.push(new DeskItem("Admin", "Admin"));
    this.list_desk_items.push(new DeskItem("Users", "Users"));
    this.list_desk_items.push(new DeskItem("Logs", "Logs"));
    this.selected_list_desk_items.push(this.list_desk_items[0]);
    this.layout = new LayoutManagerData({
      sep_norm: 0,
      children: [
        {
          panel_id: "DeskListView",
          immortal: true
        }, {
          panel_id: "DeskNavigatorView",
          strength: 3
        }
      ]
    });
  }

  return OrganisationData;

})(Model);
// Generated by CoffeeScript 1.4.0
var Organisation,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Organisation = (function(_super) {

  __extends(Organisation, _super);

  function Organisation(name, config) {
    if (name == null) {
      name = "";
    }
    Organisation.__super__.constructor.call(this);
    this.add_attr({
      name: name,
      admin_users: new Lst,
      list_users: new Lst,
      list_logs: new Lst,
      list_applications: new Lst,
      created_at: new Date(),
      modify_at: new Date(),
      directory: new Directory
    });
    if (config != null) {
      this.admin_users.push(config.account);
    }
    if (config != null) {
      this.list_users.push(config.account);
    }
  }

  return Organisation;

})(Model);
// Generated by CoffeeScript 1.4.0
var Animation;

Animation = (function() {

  function Animation() {}

  Animation.period_ms = 2;

  Animation._curan = {};

  Animation._timer = void 0;

  Animation.linear = function(rat) {
    return rat;
  };

  Animation.easing = function(rat) {
    return Math.pow(rat, 0.33);
  };

  Animation.set = function(model, value, delay, curve) {
    var dt, i, m, ms, vs, _i, _len, _results;
    if (delay == null) {
      delay = 300;
    }
    if (curve == null) {
      curve = Animation.linear;
    }
    value = ModelProcessManager.conv(value);
    ms = model.size();
    vs = value.size();
    if (ms.length) {
      if (ms.length === 1 && vs.length === 1 && ms[0] === vs[0]) {
        _results = [];
        for (i = _i = 0, _len = model.length; _i < _len; i = ++_i) {
          m = model[i];
          _results.push(Animation.set(m, value[i], delay, curve));
        }
        return _results;
      } else {
        return model.set(value);
      }
    } else {
      dt = (new Date).getTime();
      Animation._curan[model.model_id] = {
        mod: model,
        old: model.get(),
        val: value,
        beg: dt,
        end: dt + delay,
        crv: curve
      };
      if (delay <= 0) {
        return Animation._timeout_func();
      } else if (!(Animation._timer != null)) {
        return Animation._timer = setTimeout(Animation._timeout_func, Animation.period_ms);
      }
    }
  };

  Animation._timeout_func = function() {
    var dt, key, obj, rat, remaining_anim, rm, _i, _len, _ref;
    dt = (new Date).getTime();
    rm = [];
    remaining_anim = false;
    _ref = Animation._curan;
    for (key in _ref) {
      obj = _ref[key];
      rat = (dt - obj.beg) / (obj.end - obj.beg);
      if (rat >= 1) {
        obj.mod.set(obj.val);
        rm.push(key);
      } else {
        obj.mod.set(obj.old + (obj.val - obj.old) * obj.crv(rat));
        remaining_anim = true;
      }
    }
    for (_i = 0, _len = rm.length; _i < _len; _i++) {
      key = rm[_i];
      delete Animation._curan[key];
    }
    if (remaining_anim) {
      return Animation._timer = setTimeout(Animation._timeout_func, Animation.period_ms);
    } else {
      return Animation._timer = void 0;
    }
  };

  return Animation;

})();
// Generated by CoffeeScript 1.4.0
var TreeAppModule,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule = (function(_super) {

  __extends(TreeAppModule, _super);

  function TreeAppModule() {
    TreeAppModule.__super__.constructor.call(this);
    this.name = '';
    this.visible = true;
    this.actions = [];
  }

  TreeAppModule.prototype.select_item = function(app_data, item, parent) {
    var path;
    if (!parent) {
      path = [];
      path.push(app_data.selected_session());
    } else {
      path = app_data.get_root_path_in_selected(parent);
    }
    path.push(item);
    this.unselect_all_item(app_data);
    return app_data.selected_tree_items.push(path);
  };

  TreeAppModule.prototype.unselect_all_item = function(app_data) {
    return app_data.selected_tree_items.clear();
  };

  TreeAppModule.prototype.watch_item = function(app_data, item) {
    return app_data.watch_item(item);
  };

  TreeAppModule.prototype.get_animation_module = function(app) {
    var child, _i, _len, _ref;
    _ref = app.data.modules;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      child = _ref[_i];
      if (child instanceof TreeAppModule_Animation) {
        return child;
      }
    }
  };

  TreeAppModule.prototype.get_display_settings_item = function(app) {
    var child, _i, _len, _ref;
    _ref = app.data.tree_items[0]._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      child = _ref[_i];
      if (child instanceof DisplaySettingsItem) {
        return child;
      }
    }
  };

  TreeAppModule.prototype.add_item_depending_selected_tree = function(app_data, typeItem) {
    var find_object, it, item, items, object, parent, session, _i, _j, _len, _len1, _ref;
    items = app_data.get_selected_tree_items();
    find_object = false;
    if (find_object === false) {
      for (_i = 0, _len = items.length; _i < _len; _i++) {
        it = items[_i];
        item = new typeItem;
        if (typeof it.accept_child === "function" ? it.accept_child(item) : void 0) {
          if (find_object === false) {
            object = item;
            it.add_child(object);
            this.select_item(app_data, object, it);
            this.watch_item(app_data, object);
            find_object = true;
          }
        }
      }
    }
    if (find_object === false) {
      _ref = app_data.selected_tree_items;
      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
        items = _ref[_j];
        parent = items[items.length - 2];
        item = new typeItem;
        if (parent instanceof typeItem) {
          object = parent;
          find_object = true;
        }
      }
    }
    if (find_object === false) {
      object = new typeItem;
      session = app_data.selected_session();
      session.add_child(object);
      this.select_item(app_data, object);
      this.watch_item(app_data, object);
    }
    return object;
  };

  TreeAppModule.prototype.child_in_selected = function(app, typeItem, sel_item, item) {
    var c, current, i, id, it, p, _i, _len, _results;
    current = new typeItem;
    _results = [];
    for (_i = 0, _len = sel_item.length; _i < _len; _i++) {
      it = sel_item[_i];
      if (current.accept_child(it)) {
        app.data.selected_tree_items[0][app.data.selected_tree_items[0].length - 2].rem_child(it);
        item.add_child(it);
        id = it.model_id;
        _results.push((function() {
          var _j, _len1, _ref, _results1;
          _ref = app.data.panel_id_list();
          _results1 = [];
          for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
            p = _ref[_j];
            _results1.push((function() {
              var _k, _len2, _ref1, _results2;
              _ref1 = app.data.visible_tree_items[p];
              _results2 = [];
              for (i = _k = 0, _len2 = _ref1.length; _k < _len2; i = ++_k) {
                c = _ref1[i];
                if (c.model_id === id) {
                  app.data.visible_tree_items[p].splice(i, 1);
                  break;
                } else {
                  _results2.push(void 0);
                }
              }
              return _results2;
            })());
          }
          return _results1;
        })());
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  return TreeAppModule;

})(Model);
// Generated by CoffeeScript 1.4.0
var TreeItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeItem = (function(_super) {

  __extends(TreeItem, _super);

  function TreeItem() {
    TreeItem.__super__.constructor.call(this);
    this.add_attr({
      _ico: "",
      _name: "",
      _children: [],
      _output: [],
      _viewable: 0,
      _allow_vmod: true,
      _name_class: "",
      _context_modules: new Lst,
      _context_actions: new Lst
    });
  }

  TreeItem.prototype.add_context_modules = function(context_module) {
    return this._context_modules.push(context_module);
  };

  TreeItem.prototype.add_context_actions = function(context_action) {
    return this._context_actions.push(context_action);
  };

  TreeItem.prototype.display_suppl_context_actions = function(context_action) {};

  TreeItem.prototype.display_context_actions = function() {
    var contex_action;
    contex_action = new Lst;
    contex_action.push(new TreeAppAction_Save);
    contex_action.push(new TreeAppModule_Graph);
    this.display_suppl_context_actions(contex_action);
    return contex_action;
  };

  TreeItem.prototype.add_child = function(child) {
    return this._children.push(child);
  };

  TreeItem.prototype.rem_child = function(child) {
    var num_c, _i, _ref;
    if (child instanceof TreeItem) {
      for (num_c = _i = 0, _ref = this._children.length; 0 <= _ref ? _i < _ref : _i > _ref; num_c = 0 <= _ref ? ++_i : --_i) {
        if (this._children[num_c] === child) {
          this._children.splice(num_c, 1);
          return;
        }
      }
    } else {
      return this._children.splice(child, 1);
    }
  };

  TreeItem.prototype.detect_child = function(f) {
    var i, _i, _len, _ref;
    _ref = this._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      if (f(i)) {
        return i;
      }
    }
    return void 0;
  };

  TreeItem.prototype.add_output = function(child) {
    return this._output.push(child);
  };

  TreeItem.prototype.rem_output = function(child) {
    var num_c, _i, _ref;
    if (child instanceof TreeItem) {
      for (num_c = _i = 0, _ref = this._output.length; 0 <= _ref ? _i < _ref : _i > _ref; num_c = 0 <= _ref ? ++_i : --_i) {
        if (this._output[num_c] === child) {
          this._output.splice(num_c, 1);
          return;
        }
      }
    } else {
      return this._output.splice(child, 1);
    }
  };

  TreeItem.prototype.draw = function(info) {
    var s, _i, _len, _ref, _results;
    if (this.sub_canvas_items != null) {
      _ref = this.sub_canvas_items();
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        s = _ref[_i];
        _results.push(s.draw(info));
      }
      return _results;
    }
  };

  TreeItem.prototype.anim_min_max = function() {};

  TreeItem.prototype.z_index = function() {
    return 0;
  };

  TreeItem.prototype.to_string = function() {
    return this._name.get();
  };

  return TreeItem;

})(Model);
// Generated by CoffeeScript 1.4.0
var TreeAppData,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

TreeAppData = (function(_super) {

  __extends(TreeAppData, _super);

  function TreeAppData() {
    TreeAppData.__super__.constructor.call(this);
    this.add_attr({
      tree_items: new Lst,
      selected_tree_items: new Lst,
      visible_tree_items: new Model,
      closed_tree_items: new Lst,
      selected_canvas_pan: new Lst,
      last_canvas_pan: new Str,
      applications: new Lst,
      base_modules: new Lst,
      modules: new Lst,
      focus: -1,
      time: new ConstrainedVal(0, {
        min: 0,
        max: 100
      })
    });
  }

  TreeAppData.prototype.watch_item = function(item) {
    var p, _i, _len, _ref, _results;
    _ref = this.panel_id_list();
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      p = _ref[_i];
      if (!(this.visible_tree_items[p] != null)) {
        this.visible_tree_items.add_attr(p, []);
      }
      if (!this.visible_tree_items[p].contains_ref(item)) {
        _results.push(this.visible_tree_items[p].push(item));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  TreeAppData.prototype.close_item = function(item) {
    return this.closed_tree_items.push(item);
  };

  TreeAppData.prototype.open_item = function(item) {
    var index, it, _i, _len, _ref, _results;
    _ref = this.closed_tree_items;
    _results = [];
    for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {
      it = _ref[index];
      if (item.equals(it)) {
        _results.push(this.closed_tree_items.splice(index, 1));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  TreeAppData.prototype.display_framework = function() {
    var d;
    d = new DisplaySettingsItem({
      sep_norm: 0,
      children: [
        {
          panel_id: "ContextBar",
          immortal: true,
          min_size: [60, 0],
          max_size: [65, 1e5]
        }, {
          sep_norm: 0,
          children: [
            {
              sep_norm: 1,
              children: [
                {
                  panel_id: "TreeView",
                  immortal: true
                }, {
                  strength: 2,
                  panel_id: "EditView",
                  immortal: true
                }
              ]
            }, {
              panel_id: "MainView",
              strength: 3
            }
          ]
        }
      ]
    });
    return d;
  };

  TreeAppData.prototype.display_standard_framework = function() {
    var d;
    d = new DisplaySettingsItem({
      sep_norm: 0,
      children: [
        {
          panel_id: "ContextBar",
          immortal: true,
          min_size: [60, 0],
          max_size: [65, 1e5]
        }, {
          sep_norm: 0,
          children: [
            {
              panel_id: "TreeView",
              immortal: true
            }, {
              panel_id: "EditView",
              strength: 3
            }
          ]
        }
      ]
    });
    return d;
  };

  TreeAppData.prototype.new_session = function(name) {
    var d, s;
    if (name == null) {
      name = "Session";
    }
    s = new SessionItem(name, this);
    this.add_session(s);
    d = this.display_framework();
    s._children.push(d);
    return s;
  };

  TreeAppData.prototype.new_standard_session = function(name) {
    var d, s;
    if (name == null) {
      name = "Session";
    }
    s = new SessionItem(name, this);
    this.add_session(s);
    d = this.display_standard_framework();
    s._children.push(d);
    return s;
  };

  TreeAppData.prototype.add_session = function(session) {
    return this.tree_items.push(session);
  };

  TreeAppData.prototype.selected_session = function() {
    var session, _i, _len, _ref;
    _ref = this.tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      session = _ref[_i];
      if (this.has_a_selected_child(session)) {
        return session;
      }
    }
    return this.tree_items[0];
  };

  TreeAppData.prototype.selected_display_settings = function() {
    var session;
    session = this.selected_session();
    return session._children.detect(function(x) {
      return x instanceof DisplaySettingsItem;
    });
  };

  TreeAppData.prototype.panel_id_list = function() {
    var d;
    d = this.selected_display_settings();
    return d._layout.panel_id_of_term_panels().filter(function(x) {
      return x !== "EditView" && x !== "TreeView" && x !== "ContextBar" && x !== "IcoBar";
    });
  };

  TreeAppData.prototype.rm_selected_panels = function() {
    var d, panel_id, _i, _len, _ref, _results;
    d = this.selected_display_settings();
    _ref = this.selected_canvas_pan;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      panel_id = _ref[_i];
      _results.push(d._layout.rm_panel(panel_id));
    }
    return _results;
  };

  TreeAppData.prototype.update_associated_layout_data = function(d) {
    var key, pil, _i, _j, _len, _len1, _ref, _ref1, _ref2;
    pil = d._layout.panel_id_of_term_panels();
    _ref = (function() {
      var _j, _len, _ref, _results;
      _ref = this.visible_tree_items._attribute_names;
      _results = [];
      for (_j = 0, _len = _ref.length; _j < _len; _j++) {
        key = _ref[_j];
        if (__indexOf.call(pil, key) < 0) {
          _results.push(key);
        }
      }
      return _results;
    }).call(this);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      key = _ref[_i];
      this.visible_tree_items.rem_attr(key);
    }
    _ref1 = (function() {
      var _k, _len1, _ref1, _results;
      _ref1 = this.selected_canvas_pan;
      _results = [];
      for (_k = 0, _len1 = _ref1.length; _k < _len1; _k++) {
        key = _ref1[_k];
        if (__indexOf.call(pil, key) < 0) {
          _results.push(key);
        }
      }
      return _results;
    }).call(this);
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      key = _ref1[_j];
      this.selected_canvas_pan.remove(key);
    }
    if (!this.selected_canvas_pan.length) {
      this.selected_canvas_pan.push(pil[pil.length - 1]);
    }
    if (_ref2 = this.last_canvas_pan, __indexOf.call(pil, _ref2) < 0) {
      return this.last_canvas_pan.set(pil[pil.length - 1]);
    }
  };

  TreeAppData.prototype.get_current_cam = function() {
    var i, panel_id, _i, _ref;
    panel_id = this.last_canvas_pan.get();
    for (i = _i = 0, _ref = this.selected_display_settings()._children.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
      if (this.selected_display_settings()._children[i]._panel_id.get() === panel_id) {
        return this.selected_display_settings()._children[i].cam;
      }
    }
  };

  TreeAppData.prototype.has_a_selected_child = function(item) {
    var c, _i, _len, _ref;
    if (__indexOf.call(this.selected_tree_items, item) >= 0) {
      return true;
    }
    _ref = item._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      c = _ref[_i];
      if (this.has_a_selected_child(c)) {
        return true;
      }
    }
    return false;
  };

  TreeAppData.prototype.get_child_of_type = function(item, type) {
    var res, visited;
    res = [];
    visited = {};
    this._get_child_of_type_rec(res, visited, item, type);
    return res;
  };

  TreeAppData.prototype.get_selected_tree_items = function() {
    var items, path, _i, _len, _ref;
    items = new Lst;
    _ref = this.selected_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      path = _ref[_i];
      items.push(path[path.length - 1]);
    }
    return items;
  };

  TreeAppData.prototype.get_root_path_in_selected = function(item) {
    var it, path, _i, _j, _len, _len1, _ref;
    _ref = this.selected_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      path = _ref[_i];
      for (_j = 0, _len1 = path.length; _j < _len1; _j++) {
        it = path[_j];
        if (it.model_id === item.model_id) {
          return path;
        }
      }
    }
  };

  TreeAppData.prototype.get_root_path = function(item) {
    var node, path, res, root, _i, _len, _ref;
    res = [];
    path = [];
    _ref = this.tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      root = _ref[_i];
      path.push(root);
      if (item.equals(root)) {
        res.push(path.slice(0));
      } else {
        node = root;
        this.get_root_path_rec(path, item, node, res);
      }
      return res;
    }
  };

  TreeAppData.prototype.get_root_path_rec = function(path, item, node, res) {
    var child, _i, _j, _len, _len1, _ref, _ref1, _results;
    _ref = node._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      child = _ref[_i];
      if (item.equals(child)) {
        path.push(child);
        res.push(path.slice(0));
        path.pop();
        return path;
      }
    }
    _ref1 = node._children;
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      child = _ref1[_j];
      path.push(child);
      this.get_root_path_rec(path, item, child, res);
      _results.push(path.pop());
    }
    return _results;
  };

  TreeAppData.prototype.delete_from_tree = function(item, root) {
    var c, child, i, p, parent, _i, _j, _k, _len, _len1, _ref, _ref1, _ref2, _results;
    if (root == null) {
      root = true;
    }
    child = false;
    if (item._children.length) {
      for (i = _i = _ref = item._children.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {
        c = item._children[i];
        if (c._children.length > 0) {
          this.delete_from_tree(c, false);
        }
        child = true;
        item.rem_child(c);
        this.closed_tree_items.remove(c);
        _ref1 = this.panel_id_list();
        for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
          p = _ref1[_j];
          this.visible_tree_items[p].remove(c);
        }
      }
    }
    if (!child || root) {
      parent = this._get_parent(item);
      parent.rem_child(item);
      this.closed_tree_items.remove(item);
      _ref2 = this.panel_id_list();
      _results = [];
      for (_k = 0, _len1 = _ref2.length; _k < _len1; _k++) {
        p = _ref2[_k];
        _results.push(this.visible_tree_items[p].remove(item));
      }
      return _results;
    }
  };

  TreeAppData.prototype._get_parent = function(item) {
    var i, parent, path;
    path = item._parents;
    if (path[0].length <= 2) {
      parent = path[0][0];
    } else {
      parent = path[0][path[0].length - 2];
    }
    if (parent === item) {
      i = 1;
      while (parent === item && i < 50) {
        if (path[i].length > 1) {
          parent = path[i][path[i].length - 2];
        }
        i++;
      }
    }
    return parent;
  };

  TreeAppData.prototype._get_child_of_type_rec = function(res, visited, item, type) {
    var ch, _i, _len, _ref, _results;
    if (!(visited[item.model_id] != null)) {
      visited[item.model_id] = true;
      if (item instanceof type) {
        res.push(item);
      }
      if (item._children != null) {
        _ref = item._children;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          ch = _ref[_i];
          _results.push(this._get_child_of_type_rec(res, visited, ch, type));
        }
        return _results;
      }
    }
  };

  return TreeAppData;

})(Model);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_MapManagerTop,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_MapManagerTop = (function(_super) {

  __extends(TreeAppModule_MapManagerTop, _super);

  function TreeAppModule_MapManagerTop() {
    var _ina,
      _this = this;
    TreeAppModule_MapManagerTop.__super__.constructor.call(this);
    this.name = 'Windows';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Close current view",
      ina: _ina,
      fun: function(evt, app) {
        app.undo_manager.snapshot();
        return app.data.rm_selected_panels();
      },
      key: ["Shift+X"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Vertical Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 0);
      },
      key: ["Shift+V"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Horizontal Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 1);
      },
      key: ["Shift+H"]
    });
  }

  TreeAppModule_MapManagerTop.prototype.split_view = function(evt, app, n) {
    var cam, child, d, p, panel_id, s, _i, _j, _len, _len1, _ref, _ref1, _results;
    app.undo_manager.snapshot();
    cam = void 0;
    child = void 0;
    _ref = app.data.selected_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      p = _ref[_i];
      s = p[p.length - 1];
      if (s instanceof ShootingItem) {
        cam = s.cam;
        child = s;
      }
    }
    d = app.data.selected_display_settings();
    _ref1 = app.data.selected_canvas_pan;
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      panel_id = _ref1[_j];
      app._next_view_item_cam = cam;
      app._next_view_item_child = child;
      _results.push(d._layout.mk_split(n, 0, panel_id, 0.5));
    }
    return _results;
  };

  return TreeAppModule_MapManagerTop;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_PanelManagerTop,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_PanelManagerTop = (function(_super) {

  __extends(TreeAppModule_PanelManagerTop, _super);

  function TreeAppModule_PanelManagerTop() {
    var cube, _ina,
      _this = this;
    TreeAppModule_PanelManagerTop.__super__.constructor.call(this);
    this.name = 'Windows';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Close current view",
      ina: _ina,
      fun: function(evt, app) {
        app.undo_manager.snapshot();
        return app.data.rm_selected_panels();
      },
      key: ["Shift+X"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Vertical Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 0);
      },
      key: ["Shift+V"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Horizontal Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 1);
      },
      key: ["Shift+H"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Fit object to the view",
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.fit());
        }
        return _results;
      },
      key: ["F"]
    });
    cube = {
      siz: 1,
      txt: "View",
      ina: _ina,
      sub: {
        prf: "list",
        act: []
      },
      key: ["V"]
    };
    this.actions.push(cube);
    this.actions.push({
      ico: "data:image/png;base64,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",
      txt: "Origin Camera",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.origin());
        }
        return _results;
      },
      key: ["O"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      txt: "Watch top",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.top());
        }
        return _results;
      },
      key: ["T"]
    });
    cube.sub.act.push({
      txt: "Watch bottom",
      ina: _ina,
      vis: false,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.bottom());
        }
        return _results;
      },
      key: ["B"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      txt: "Watch right",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.right());
        }
        return _results;
      },
      key: ["R"]
    });
    cube.sub.act.push({
      txt: "Watch left",
      ina: _ina,
      vis: false,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.left());
        }
        return _results;
      },
      key: ["L"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB94HFgoSHELQquYAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACmUlEQVQ4y82UP2hfVRTHv99Xo2JCW0Hk9zJ0cmmHH3n3oShoJ6O0FKtmE1K7WHATx6KotNVR6FQQHHQTIS4dtFWCVkoN794EinRQEJUkagbbohGR+3HwPvLadPHP4FkeF8753PM993ue9H+JtbW1W55v+6ewuq6VUtoNLNg+Xdf1giR5mLi+vq7RaCRJSintAO61fQI4JEm2zwIv2f5R0m5JHwEBON+27ew2YB8ppQeB12w/JkmAClCAbH9Yvo/nnJdsPxpCuHaD5IGMJ4H3JE1IehlItjfK5ZO254DnS9nntg+FEK719VUPrOtaMcYpYEHSOdt3jUajk7bvAxZzzp/knGeB2b+a5mvgaAjh56GKGx7F9rfAuyGEIwP5X0hqqqqalLQoaSrnfGViYiKMx+PNlNIY+HJ6evoPSVsdppT2A7uqqjomSTHGF2KMDzVNc1HSMUnvAFPAkqT94/F4s3R2yfYjPacaNHgceGZmZua30u0btjdijG9Kmgf2SVqWNNe27U8DH84Dx7cBAVVV9fvgDDBZXvoeSd8D8yGE72KMe+u67lM37S2zVIP5vQ68v7y8fEc5nwYuAPtsJ9sH2ra9HGOcs32kjOl22wvAqW3Apmk+lXQ153wmpbQz5/yU7UnbS8ATTdNcTinNSToBvFrK3pL0awhhsefcvHp7bF8HjlZVBXAl53ywbduNruv2AsF2kLQjxngWOChp5xBQ9StXZN4JfFZm+I3tBwrsYdt7JF0AXgR+sT0r6XAI4frq6uqW9Qa2uRv4WFJT/PZcCOGrlNKzwJlyWZ9+TtIrIYSLN6/t0DYfFNgl24cLbBdwP3BV0g+235Y0bftAD+vVbYuu657uuu78ysrK1K3+d38rhjP417D/Ov4EZX58Zur9qGUAAAAASUVORK5CYII=",
      siz: 1,
      txt: "hide all",
      ina: _ina,
      fun: function(evt, app) {
        var inst, panel_id, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          panel_id = inst.view_item._panel_id;
          inst.app_data.visible_tree_items[panel_id].clear();
          inst.app_data.visible_tree_items[panel_id].push(inst.view_item);
          _results.push(inst.cm.fit());
        }
        return _results;
      }
    });
    this.actions.push({
      siz: 1,
      txt: "Zoom",
      ina: _ina,
      fun: function(evt, app) {
        var _ref, _ref1;
        if (!this.zoom_area) {
          this.old_cm = (_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm : void 0 : void 0;
          this.theme = this.old_cm.theme;
          this.zoom_area = new ZoomArea(this.old_cm, {
            zoom_factor: [this.theme.zoom_factor, this.theme.zoom_factor, 1]
          });
          this.zoom_area.zoom_pos.set([this.old_cm.mouse_x, this.old_cm.mouse_y]);
          return this.old_cm.items.push(this.zoom_area);
        } else {
          this.old_cm.items.remove_ref(this.zoom_area);
          this.old_cm.draw();
          this.theme.zoom_factor.set(this.zoom_area.zoom_factor[0]);
          return delete this.zoom_area;
        }
      },
      key: ["Z"]
    });
    this.actions.push({
      txt: "",
      key: ["UpArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(-0.1, 0, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "",
      key: ["DownArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0.1, 0, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "",
      key: ["LeftArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0, -0.1, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "",
      key: ["RightArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0, 0.1, 0));
        }
        return _results;
      }
    });
  }

  TreeAppModule_PanelManagerTop.prototype.split_view = function(evt, app, n) {
    var cam, child, d, p, panel_id, s, _i, _j, _len, _len1, _ref, _ref1, _results;
    app.undo_manager.snapshot();
    cam = void 0;
    child = void 0;
    _ref = app.data.selected_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      p = _ref[_i];
      s = p[p.length - 1];
      if (s instanceof ShootingItem) {
        cam = s.cam;
        child = s;
      }
    }
    d = app.data.selected_display_settings();
    _ref1 = app.data.selected_canvas_pan;
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      panel_id = _ref1[_j];
      app._next_view_item_cam = cam;
      app._next_view_item_child = child;
      _results.push(d._layout.mk_split(n, 0, panel_id, 0.5));
    }
    return _results;
  };

  return TreeAppModule_PanelManagerTop;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_ImageSet,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_ImageSet = (function(_super) {

  __extends(TreeAppModule_ImageSet, _super);

  function TreeAppModule_ImageSet() {
    var _this = this;
    TreeAppModule_ImageSet.__super__.constructor.call(this);
    this.name = 'Image';
    this.visible = true;
    this.numpic = 1;
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "New Shooting",
      fun: function(evt, app) {
        var session;
        app.undo_manager.snapshot();
        _this.collection = new ShootingItem(app);
        session = app.data.selected_session();
        session._children.push(_this.collection);
        _this.unselect_all_item(app.data);
        _this.select_item(app.data, _this.collection);
        return _this.watch_item(app.data, _this.collection);
      }
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sLFQ0kK/G2W0UAAARaSURBVEjH7ZRPTxMJGIefGacMtdBOaUtbUCgN1WUxrg2YAgJZ4z82mOXgwZj4Ufwim73tysUQEz3YEkM2HMi6bMDIaspCLezItjIzdAotnW5hhr0ZTWx2P4C/2+/yPnmS933hS/4jwsflwYMHJ7FYDMMwWF1dRZZlenp6SCaTpNNpFhcXSSQSTE5O4vf7yWQy5PN57t+/j8/nwzAMLly4wMzMzIe50scARVHIZDKYpokkScTjcR49esTJyQm6rnP27FmuXr3K0NAQjUYDRVEIhUIEAgHa2trI5XK8f//+E4NPANFolNu3b9PW1sb29jahUIhIJEIikaBUKjE2NkYsFsPlclGpVFhZWcFxHGzb5uHDh5TLZQYHBz8BiB+XWq2GLMv4/X7a29vZ2Njg8uXLZLNZgsEgW1tbzM7O8ubNG9rb27lx4waHh4esr6+zt7eHaZqYptncYGlpCcuyGB4eJp/Ps7CwgMfj4fXr18iyjGVZuN1uRFFkeXmZer1Ob28v0WiU8fFxnjx5QqFQaG6gaRqqqjI3N8fR0RHDw8OYpsnIyAiKonDu3Dm8Xi9er5e1tTWWlpYA2N/fp7W1lTNnzhCJRJob7O7ucnx8DIDb7SYWi5HL5dA0jWKxyN27d5EkCUmS6OvrQxAEXr16ha7rBINBLl68yNbWVnPA+fPncRyHmzdvEo/H0TSNlpYWJEmio6ODd+/ekUqlMAyDeDxOMpkk6A8x8e04uq7z+PFjVFVtDpienqbRaGDbNrlcju7ubnp6elBVlf39fSRJwjAMqtUqnZ2dCIJA1xWF9PwzFJ+fRqNBPB5nY2Pj84BiscjTp0+xbZtarcb09DRTU1OEw2EkSeL58+ek02nGxsaYuvUdmvKWhc4fGPBPov10TLVaJRqNNjeo1+uUy2VGR0dRVRVVVdF1nWKxiCiKHBwcAGAYBh63h1Lr3wgi1Dr36Ooawuf3knubaw6wLIuBgQGuX7/O7Owstm2TzWbJ5/NEo1FSqRSx3j48bg/CKTDfVRD8ItgiqdQIO7sq1Uq1OSCZTCLLMpqmMTg4iM/nw3EcDMOgVCrRaDQwAzvUhTKdTgfroWUkXFSEEpnQj4hhEW/EBz83AWxubiKKImtra3R3d6OqKoIgcOnSJUKBEG/1P1Fv/cKhv4Rpg+vEBUcildMGpqcAIshdcnODnZ0dVldXAVhcXEQURdxuN/fu3cMf8CMXPMRfTJIT/iDsj5Dz/k5Lv8PpQ4Wv/pqgfmJRUIvA9ucvWZZlrl27RigUIhwOk0wmsSyL+fl5NE3DcRyKvx4wWvkez28xDp61IEggILAxt0tk82vqi+7mr0JRFDo6OggEAkxMTDAzM0MikUDXddLpNJlMhtbTrQgSLK+84J/9I3AEXC4Jy6nycu0lVybGmgP6+/uRJInx8XEEQcDtdjMyMkJLSwvZbJZyuczm5iaFQoE7d+6Q/GYI+9gmKHThOeXFsmofVvlL/nf+BcEhzmREx+HfAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Add Image",
      fun: function(evt, app, img) {
        app.undo_manager.snapshot();
        _this.collection = _this.add_item_depending_selected_tree(app.data, ImgSetItem);
        if (!(img != null)) {
          if (_this.numpic < 10) {
            img = new ImgItem("composite0" + _this.numpic + ".png", app);
          } else {
            img = new ImgItem("composite" + _this.numpic + ".png", app);
          }
          _this.numpic += 2;
        }
        _this.collection.add_child(img);
        app.data.time._max.set((_this.collection._children.length - 1 > 0 ? _this.collection._children.length - 1 : 0));
        app.data.time._div.set(app.data.time._max.get());
        if (_this.collection._children.length === 1) {
          app.data.time.set(0);
        }
        _this.watch_item(app.data, _this.collection);
        return app.fit();
      },
      key: ["Shift+A"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAFeUlEQVR42p2Va2xT5xmAQ/90rZqiUan7s24MypSOduOirRQ27dbSibaUAmlpYdNo2lKGyMVNUpSQBBLnVodLEgOCQC7YxrGJHYf4EscOFQlKTBpjHJtcWgrrWAqkOM5xfEsc9uzEmiIuVTftPXp09Enfeb5Xr973OwkWi0VnNBqF/5Mxs9lsEWN+wv0xsyF2dZrYtWmmv7rzH8T1/8Dk1SkGu4ewd9ht3yqe+DyM/ec9ND5r4OTiJjqWdYv0fCf2pT10veIkMBjEZmsX7nZuWPXC9+Ni/9AEmoUWdv+ohOyFBzi2SEnTz9r+G+I3ZvyDAtZ2a2hGuGbpL+ZIP5Lskvx5c0dcPOoeo+pxBQVzK8hJLOXQPCXyJ+5inoLqb6EysYGbbh+WNksoZf3rj8qLpY1yaWHs/VfXvBAXA4xN+BEiAoFogOBUkPHQOF/f+JpAJED0TmSWyX9FiTPz3IkCoNfpItJMSe/H7/6Vv61bu2u2xgA+n48xvx//+DjjIp3N3eg/bOeCvY9QKBQnHA4TjkSIRKNEo6I4FiMcDFKQkU7G5rdJTd5g3rhqxUN3i++RCgEBxV4Ne+bI0e5vJiQKI6IwOjnF5FSMiYCfW9evcLmvi73paXz0ly2i+B3vGytXzL2nKwBu+27jsrpxNPThOu/myNY6KhJPUPOeAkEIMDU9zYTgY/C8igHbAZymKlLf2UDehx+Q+/5WzhxJN5Tt2pT4gHjkHzc4vk6FckkLtUtPU/lUA4d/oKJqfgPm/WfxOs7Rq8tFl/4GJ9KT2fHm6xRLMijYsZ09efloj+bgNOSfTX7tl4/cm/E3t1GUNbLvJzUoFrRQP19P7Y911P6wGe0rx3Gos/j72SpsC54mefky9u/ORZq2k3ZlCT12JV/01HGloxzbiR2VonbOrDgYDjLs+ZyDvzsa79HGJBOnFpnQ/l5BT2Mm33ga+KezjvfWvkh1USGlEgnGmhyEy0rGh05xy3WSm5dO0m+UxvK2r06aFV/74ivaKjow//ocxiWf0vJcB82/auV8rYRb7mOMXKhmZ/LLHJIW8UlWJs3yNHyuI9z21nO99ziD7Zs5X7+c7lMSGoo37U5oMZwRBs4McW6jA+vznZxebKbxGWM8a9tuKS11Mv6wvoa0D1I4mF9AcUYG+sod3HBUiOxj2C7jak89F81bMR5aQH9rHnWFbx5NaFI3CZbtNswrOyhPqiZ/aRn5S8opTtpPrzaDelku27IP43b2cay6Ck3FNq53lXOtsxynIYdLFhn99iP0GqQMthXh0n3MPsmagwkGvUHoMnQjz6zBqrYzeHE4ju2UhrryFErLihm9NUpnZycH87bh0GSKrbWNQ4UpWGrT6NYV8pl+L4PWEgbEbLsVqby66uk/zdZYGA8QiUaIxWKEwiHUjWpMbW1MTk5y5csvKSosQ5a5k6bKraiVtXgvD/Opppi31r3E6j/+FmdTDv26bCrSVl94MvHhx2bF4ZnJikYJBAL0fubA7x/HNzYWP6hUVoHRZEZ5tARl8SZ6msu4ZJLhOp3FvtwtLH/up3Q1pHIib61v2aJ5z9/Tx+LIxu8Dr9dDv+cSHo+boLh2e718IpNhMlvQHiuiqnQjLyl+Q/aeFxkySxk27cHdlIU86+WbK5KeWP29RxIeekA8OjqKw9GDy+XE43UzMOChtrYOtVpNn9OJRVVBnextVr61kNL89VzUZmM8sIXC1PWTC558ePHjcxPm3D/SszEyMhKXezz94rsbrVYrHuSKl6XLohRFm+lVpmI7nII8ey3GppMYTSYh4b544Geq1+sDGo0mYLVawzKZLCiXyydUKlXAYDAIWq1GOC5Ln6gqeHeiJC89oFIphdbWVmHGcb/330ijKo2XdMsXAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "New Collection",
      fun: function(evt, app) {
        var session;
        app.undo_manager.snapshot();
        _this.collection = new ImgSetItem;
        session = app.data.selected_session();
        session._children.push(_this.collection);
        _this.unselect_all_item(app.data);
        return _this.select_item(app.data, _this.collection);
      }
    });
  }

  return TreeAppModule_ImageSet;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_File,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_File = (function(_super) {

  __extends(TreeAppModule_File, _super);

  function TreeAppModule_File(params) {
    var _this = this;
    if (params == null) {
      params = {};
    }
    this.onPopupClose = __bind(this.onPopupClose, this);

    TreeAppModule_File.__super__.constructor.call(this);
    this.name = params.name != null ? params.name : 'Files';
    this.home_dir = params.home_dir != null ? params.home_dir : void 0;
    this.use_icons = params.use_icons != null ? params.use_icons : true;
    this.use_upload = params.use_upload != null ? params.use_upload : true;
    this.use_manage = params.use_manage != null ? params.use_manage : true;
    this.visible = true;
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAJdnBBZwAAACAAAAAgAIf6nJ0AAAKPSURBVEjH7dXPSyJhGAfwxxZhibDFwPYQGtstqE72Q+rQqVjoEgTRabtFEEREeuh/6BI4aBQ4aZBEUNpJ2WymmaZxRl0tZ1SItKAOWdGlyHx7S10yNngPe1r2/VyG932+39v7DsD/9bfWERzVqI0pY0naeGxkjHsfM4Q0oeoCFdTG9M9MLnP6In0qn7Ify7FB1sBWFyQhaUpl06jkFzpAfBmH8e9leRNfXSCB1CxnZfRCQiI6/COxIis2i9UFUYh+i+aiiFAOT1eiuzV8w8FX3hCxxC/iiNBFxMIbcKphtwZW9K5Feofe9uxu3W8jMlv3ayF6m95xLa7ogaqlKHvMLjmT7kcPchPAU4/OpF2yxyiKqoVVoKxUhBKXkp7CGiLjKSwlKRGnrKsATnCMOMIOcVnxFDyIUGFZcYg4NeIEcIHLTLN02K2uP60jQk9ulQ7TrMvsAvCCt8nr90obqc3iJiJU3Eh5JZxq8gL4wKfz0T7Zn/EX/YhQ0Z/xyTil8wEEIKANLgTl4EkAkQue4MRCQBsAYCEMrI2VmWwIkWOyrMzacBJAwA5+CBJ3ziJy3Lkg4RTOvl6k8HfpULjkEDnhUjrEqd8XqSfKi3kBkRPzUR6nSgUJSLTFGelOROSkuziTaEuUChRQWo5DkQcJkYs8HIeUFqVUcAaqSeFixSiKYW/vfaTs7V5pJlZUONV0VnkT5lsFRrji89z1/s3+DXvL3jKv9sqYMnyCz7lrPi9cCcx8ayWv6dBZ2yd7RweHhgfG+sf7JixTPdPdM12znXNmm9nWOdc12z3TM22Z6pvoHx8YGxoeHZzstbZ36EDz/nXXwCfQwmeoAx3UwxfQQwOmx1/1eKcOn2jxhOYf+6c9AywIEs2PE0peAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDA5LTA5LTEzVDE0OjIxOjQ2KzAyOjAwmMe/4wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAwOS0wOS0xM1QxNDoyMTo0NiswMjowMOmaB18AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",
      siz: 0.9,
      txt: "Open in Tree",
      fun: function(evt, app) {
        var Pheight, Pleft, Ptop, Pwidth, dir, fs, inst, inst_i, p, _i, _len, _ref;
        _this.d = new_dom_element({
          className: "browse_container",
          id: "id_browse_container"
        });
        if ((typeof FileSystem !== "undefined" && FileSystem !== null) && (FileSystem.get_inst() != null)) {
          fs = FileSystem.get_inst();
        } else {
          fs = new FileSystem;
          FileSystem._disp = false;
        }
        dir = _this.home_dir != null ? _this.home_dir : FileSystem._home_dir + "/__files__";
        fs.load_or_make_dir(dir, function(d, err) {
          var item_cp;
          ModelEditorItem_Directory.add_action("Mesh", function(file, path, browser) {
            var m, modules, _i, _len, _results;
            console.log("open mesh");
            if ((typeof TreeAppModule_Sketch !== "undefined" && TreeAppModule_Sketch !== null) && (app != null)) {
              modules = app.data.modules;
              _results = [];
              for (_i = 0, _len = modules.length; _i < _len; _i++) {
                m = modules[_i];
                if (m instanceof TreeAppModule_Sketch) {
                  _results.push(m.actions[4].fun(evt, app, file));
                } else {
                  _results.push(void 0);
                }
              }
              return _results;
            }
          });
          ModelEditorItem_Directory.add_action("TreeItem", function(file, path, browser) {
            return file.load(function(object, err) {
              var session;
              app.undo_manager.snapshot();
              session = app.data.selected_session();
              session.add_child(object);
              _this.select_item(app.data, object);
              return _this.watch_item(app.data, object);
            });
          });
          ModelEditorItem_Directory.add_action("Path", function(file, path, browser) {
            return file.load(function(m, err) {
              var done, file_item, img_item, item, rv, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2;
              if (file.name.ends_with(".raw")) {
                rv = _this.add_item_depending_selected_tree(app.data, RawVolume);
                return rv._children.push(new FileItem(file));
              } else if (file.name.ends_with(".unv") || file.name.ends_with(".csv") || file.name.ends_with(".geo") || file.name.ends_with(".stp")) {
                file_item = new FileItem(file);
                _ref = app.data.get_selected_tree_items();
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                  item = _ref[_i];
                  if (typeof item.accept_child === "function" ? item.accept_child(file_item) : void 0) {
                    item.add_child(file_item);
                    done = true;
                  }
                }
                if (!done) {
                  return alert("Please select in the tree an item which accepts a file");
                }
              } else if (file.name.ends_with(".jpg") || file.name.ends_with(".png") || file.name.ends_with(".tiff") || file.name.ends_with(".tif") || file.name.ends_with(".jpeg")) {
                img_item = new ImgItem(m, app);
                img_item._name.set(file.name);
                done = false;
                _ref1 = app.data.get_selected_tree_items();
                for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                  item = _ref1[_j];
                  if (typeof item.accept_child === "function" ? item.accept_child(img_item) : void 0) {
                    item.add_child(img_item);
                    done = true;
                  }
                }
                if (!done) {
                  return alert("Please select in the tree an item which accepts an image");
                }
              } else {
                file_item = new FileItem(file);
                _ref2 = app.data.get_selected_tree_items();
                for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
                  item = _ref2[_k];
                  if (typeof item.accept_child === "function" ? item.accept_child(file_item) : void 0) {
                    item.add_child(file_item);
                    done = true;
                  }
                }
                if (!done) {
                  return alert("Please select in the tree an item which accepts a file");
                }
              }
            });
          });
          ModelEditorItem_Directory.add_action_2("Mesh", ModelEditorItem_Directory._action_list["Mesh"][0]);
          ModelEditorItem_Directory.add_action_2("TreeItem", ModelEditorItem_Directory._action_list["TreeItem"][0]);
          ModelEditorItem_Directory.add_action_2("Path", ModelEditorItem_Directory._action_list["Path"][0]);
          ModelEditorItem_Directory.add_action_2("Directory", function(file, path, browser) {
            return file.load(function(m, err) {
              var done, elem, file_item, i, item, _i, _j, _len, _len1, _ref;
              done = false;
              for (i = _i = 0, _len = m.length; _i < _len; i = ++_i) {
                elem = m[i];
                if (elem.name.ends_with(".jpg") || elem.name.ends_with(".png") || elem.name.ends_with(".tiff") || elem.name.ends_with(".tif") || elem.name.ends_with(".jpeg")) {
                  console.log("elem : " + elem._info.model_type.get());
                  console.log("m[i] : " + m[i]._info.model_type.get());
                  file_item = new FileItem(elem);
                  _ref = app.data.get_selected_tree_items();
                  for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
                    item = _ref[_j];
                    if (typeof item.accept_child === "function" ? item.accept_child(file_item) : void 0) {
                      item.add_child(file_item);
                      if (!done) {
                        elem.load(function(res, err) {
                          var img_temp;
                          img_temp = new Img(res);
                          return item.img = img_temp;
                        });
                      }
                      done = true;
                    }
                  }
                }
              }
              if (!done) {
                return alert("No image can be found in this directory");
              }
            });
          });
          return item_cp = new ModelEditorItem_Directory({
            el: _this.d,
            model: d,
            initial_path: dir,
            use_icons: _this.use_icons,
            use_upload: _this.use_upload,
            use_manage: _this.use_manage,
            display_button_line: false
          });
        });
        inst = void 0;
        _ref = app.selected_canvas_inst();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst_i = _ref[_i];
          inst = inst_i;
        }
        if (inst.divCanvas != null) {
          Ptop = _this.getTop(inst.div);
          Pleft = _this.getLeft(inst.div);
          Pwidth = inst.divCanvas.offsetWidth;
          Pheight = inst.divCanvas.offsetHeight;
          Pheight = Pheight + 22;
        } else {
          Ptop = 100;
          Pleft = 100;
          Pwidth = 800;
          Pheight = 500;
        }
        p = new_popup("Browse Folder", {
          event: evt,
          child: _this.d,
          top_x: Pleft,
          top_y: Ptop,
          width: Pwidth,
          height: Pheight,
          onclose: function() {
            return _this.onPopupClose(app);
          }
        });
        return app.active_key.set(false);
      }
    });
  }

  TreeAppModule_File.prototype.getLeft = function(l) {
    if (l.offsetParent != null) {
      return l.offsetLeft + this.getLeft(l.offsetParent);
    } else {
      return l.offsetLeft;
    }
  };

  TreeAppModule_File.prototype.getTop = function(l) {
    if (l.offsetParent != null) {
      return l.offsetTop + this.getTop(l.offsetParent);
    } else {
      return l.offsetTop;
    }
  };

  TreeAppModule_File.prototype.onPopupClose = function(app) {
    document.onkeydown = void 0;
    return app.active_key.set(true);
  };

  return TreeAppModule_File;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_TreeView,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_TreeView = (function(_super) {

  __extends(TreeAppModule_TreeView, _super);

  function TreeAppModule_TreeView() {
    var lst_equals, up_down_fun, _ina, _ina_cm,
      _this = this;
    TreeAppModule_TreeView.__super__.constructor.call(this);
    this.name = 'Tree View';
    this.visible = false;
    _ina = function(app) {
      return app.data.focus.get() !== app.treeview.process_id;
    };
    _ina_cm = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0) && app.data.focus.get() !== app.treeview.process_id;
    };
    lst_equals = function(a, b) {
      var ia, va, _i, _len;
      if (a.length !== b.length) {
        return false;
      }
      for (ia = _i = 0, _len = a.length; _i < _len; ia = ++_i) {
        va = a[ia];
        if (va !== b[ia]) {
          return false;
        }
      }
      return true;
    };
    up_down_fun = function(evt, app, inc) {
      var f, flat, i, items, session, _i, _len, _results;
      items = app.data.selected_tree_items;
      session = app.data.selected_session();
      if (items.length === 0) {
        app.data.selected_tree_items.clear();
        return app.data.selected_tree_items.push([session]);
      } else if (items.length === 1) {
        flat = app.layouts[session.model_id]._pan_vs_id.TreeView.treeview.flat;
        _results = [];
        for (i = _i = 0, _len = flat.length; _i < _len; i = ++_i) {
          f = flat[i];
          if (i + inc >= 0 && i + inc < flat.length && lst_equals(items[0], f.item_path)) {
            app.data.selected_tree_items.clear();
            app.data.selected_tree_items.push(flat[i + inc].item_path);
            break;
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    };
    this.actions.push({
      txt: "",
      key: ["UpArrow"],
      ina: _ina,
      fun: function(evt, app) {
        return up_down_fun(evt, app, -1);
      }
    });
    this.actions.push({
      txt: "",
      key: ["DownArrow"],
      ina: _ina,
      fun: function(evt, app) {
        return up_down_fun(evt, app, 1);
      }
    });
    this.actions.push({
      txt: "",
      key: ["LeftArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var close, item, items, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          item = items[_i];
          close = _this.is_close(app, item);
          if (item[item.length - 1]._children.length > 0 && close === false) {
            _results.push(_this.add_item_to_close_tree(app, item));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "",
      key: ["RightArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var close, item, items, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          item = items[_i];
          close = _this.is_close(app, item);
          if (item[item.length - 1]._children.length > 0 && close === true) {
            _results.push(_this.rem_item_to_close_tree(app, item));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "",
      key: ["Enter"],
      ina: _ina,
      fun: function(evt, app) {
        var item, p, path_item, path_items, _i, _len, _ref, _results;
        path_items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = path_items.length; _i < _len; _i++) {
          path_item = path_items[_i];
          item = path_item[path_item.length - 1];
          if ((_ref = item._viewable) != null ? _ref.get() : void 0) {
            _results.push((function() {
              var _j, _len1, _ref1, _results1;
              _ref1 = app.data.selected_canvas_pan;
              _results1 = [];
              for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                p = _ref1[_j];
                _results1.push(app.data.visible_tree_items[p].toggle(item));
              }
              return _results1;
            })());
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Save",
      key: [""],
      ina: _ina,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAADqElEQVRIiZWUTY8UVRSGn3Nv9VQ39MgwDIEZSNQBXUDAjcGFIUHiRyRGE+OvcO/SlXsX7twY48K40MTowvgD2JhAghthEiEmLhAyOsqk6+Oee46Lqm66B130TX1XnfPWc897rpw58/zqpJr8eGTt2NntZ59OV69eacBxZ6kRQuTBwz82vv/uh/0Yw7c/37rxPoAcP765jvDT4fFTZ44eOczNmzeWyzw3Ll16iY3NbQ6NRnz91WcCUGQ3ihB58dLL/LpzCzWwrPiSCOXKAAA3x+ZiC9xwF/b2/gZ3kmY856UFQixwIGfFcp4TQHAHM8OBplV+v/vLUskBnnnuPLiTcyYvCLjjdC9wSJo5fmp7aYJWtSc4IOAA3qE5TtMm9u7fW5rg2Nb2jEBV5wUccSNrp5qSMjp6cmmbJs04oKqzXJ2AOR6kI3Bok5L+ub80AWunwMFyJuc5AgB3RzUDTpsUG6wtTdCmboqz6oEp6jNl7Qh27tzm3Lnzc1726bYwZPHAzs5tAJIqhT7hIpAg7D7Y5aMPP0D6oOmpu5y7wRcFvft2d/dP1jdO/5eLOquub5yiahIhBHI2QhBCCIiE/twlMzfcvesdd4oYMTPW1jcRgZzTk1Ok2j0syxVijEz2/yJKJIYIyOMlYArnEAWyZWKxiqvRtg2xGBBjOCAg9I3mKLBajnnn7WtcufIKK8MhuFOWJaNhSdu2iHQqMUauX7/OF19+g9baCahSDodzNaBboDQ9xtKsXL58mdt3dvj4k09xc9584yrvvfsWVVXPBEIIbG5t9UhCDLFrtHTQRe6dd11wHE1KXdeoKkUIeHDMMnVd07ZtV1d3RIRqUqEpoSmRc8bMFmswLXBKigi4d/WYTCZUVdU3oJNSom0TdV3P1qkYI23bklLnfbM8M8WcixzvCYRp0yVSSjRNQ0oJd6dtGqpqQtO0s+DObRnLGdU0ozKzOQFz3N1z333ukDVTT5ObYW5oVpqmoWnaRYKUUE108U5yX1iJi6aZPBKRnaapzpo5lg231F68cGHwwsWL8vprr+I4g2LAYFAsBIsIDx4+ZH9/n8lkQowBMyeEx00pQACeXllZ+Xw4HBVNU58ej8e/nTh5YiuGKCEEkc420ieVvsg+Lfbdu/dKd8fd3N0953yrrutrXb/M/ZGqipmNYgirDodCCGMRGYvIGBgBJRD7zzPQuHslIhXwyN0e5Wz7Oee9sizbJwT6v4x9fxzcY0875XfAeiH9n51/Ac3vnsxrMRLjAAAAAElFTkSuQmCC",
      fun: function(evt, app) {
        var fs, item, items, name, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          console.log("saving : ", item);
          if ((typeof FileSystem !== "undefined" && FileSystem !== null) && (FileSystem.get_inst() != null)) {
            fs = FileSystem.get_inst();
            name = item.to_string();
            _results.push(fs.load_or_make_dir("/home/monkey/test_browser", function(d, err) {
              return d.add_file(name, item, {
                model_type: "TreeItem"
              });
            }));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Delete current tree item",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAANBJREFUSEvtVbENgzAQNBOwh2tmYAcXqbxGBIvQMQKNO7dIrhE9PUiUVBfOgiIRkZUo6f6lE6//O5148FspiQ8nAK01yrKEtRZ1XaNpGjjnMAwD1nWNYM4ae+SQSw21ux/xNsQgOSKVZRm6roP3HiEEjOOIaZqwLAu2bYtgzhp75JBLDbXJby4GMiL5i5QctPSqOPb5ubTik+vjClfc5EGjKM9zFEUBYwyqqkLbtuj7HvM8RzBnjT1yyKUmddmc5v83eH31X4/othvcvwS1T/EATq2IdOg+xX0AAAAASUVORK5CYII=",
      key: ["Del"],
      ina: _ina,
      fun: function(evt, app) {
        var m, mod, modules, path, _i, _j, _len, _len1, _ref;
        _ref = app.data.selected_tree_items;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (path.length > 1) {
            m = path[path.length - 1];
            if (m instanceof DisplaySettingsItem) {
              return true;
            } else if (m instanceof ViewItem) {
              modules = app.data.modules;
              for (_j = 0, _len1 = modules.length; _j < _len1; _j++) {
                mod = modules[_j];
                if (mod instanceof TreeAppModule_PanelManager) {
                  mod.actions[4].fun(evt, app);
                }
              }
            } else {
              app.undo_manager.snapshot();
              path[path.length - 2].rem_child(m);
              app.data.delete_from_tree(m);
              app.data.selected_tree_items.clear();
            }
          }
        }
      }
    });
  }

  TreeAppModule_TreeView.prototype.is_close = function(app, item) {
    var closed_item_path, _i, _len, _ref;
    _ref = app.data.closed_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      closed_item_path = _ref[_i];
      if (item.equals(closed_item_path)) {
        return true;
      }
    }
    return false;
  };

  TreeAppModule_TreeView.prototype.add_item_to_close_tree = function(app, item) {
    return app.data.close_item(item);
  };

  TreeAppModule_TreeView.prototype.rem_item_to_close_tree = function(app, item) {
    return app.data.open_item(item);
  };

  return TreeAppModule_TreeView;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_UndoManager,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_UndoManager = (function(_super) {

  __extends(TreeAppModule_UndoManager, _super);

  function TreeAppModule_UndoManager() {
    TreeAppModule_UndoManager.__super__.constructor.call(this);
    this.name = '';
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 0.9,
      txt: "Undo",
      fun: function(evt, app) {
        return app.undo_manager.undo();
      },
      key: ["Ctrl+Z"]
    });
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 0.9,
      txt: "Redo",
      fun: function(evt, app) {
        return app.undo_manager.redo();
      },
      key: ["Ctrl+Shift+Z"]
    });
  }

  return TreeAppModule_UndoManager;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_PanelManager,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_PanelManager = (function(_super) {

  __extends(TreeAppModule_PanelManager, _super);

  function TreeAppModule_PanelManager() {
    var cube, _ina,
      _this = this;
    TreeAppModule_PanelManager.__super__.constructor.call(this);
    this.name = ' ';
    _ina = function(app) {
      var _ref, _ref1, _ref2;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? (_ref2 = _ref1.cm) != null ? _ref2.process_id : void 0 : void 0 : void 0);
    };
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90JFAs3HDhMFHIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAh0lEQVQ4y+2UMQoEIQxFk+WfIkU6b+V5LLyiXQpPEXCq2dVBGNy1m02V+MND4SG31mhn4WxCCM3dPwFA7s4AhvMpBKBSCg/AlBKp6nvJzEhVycyWbvg6mx42m5eBu+rJwFrrEFznZQ9FhPtARH4DxhinYuecvwP+xX6y2ADuVel2ePePvf3JBxY+Odo/jSlIAAAAAElFTkSuQmCC",
      siz: 0.9,
      txt: "Scientific framework",
      fun: function(evt, app) {
        var d;
        app.data.display_scientific_framework();
        d = app.data.selected_display_settings();
        app.data.update_associated_layout_data(d);
        return alert("ok scientific");
      }
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",
      siz: 0.9,
      txt: "Standard framework",
      fun: function(evt, app) {
        var d;
        app.data.display_scientific_framework();
        d = app.data.selected_display_settings();
        app.data.update_associated_layout_data(d);
        return alert("ok standard");
      }
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAZiS0dEAMgAyADIKiWVHwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90DDQ42JoYxPt4AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAGX0lEQVQ4EQFUBqv5Af///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAAJSUl//z8/AAAAAAAAAAAAAAAAAAAAAAABAQEANvb2wEAAAAABAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAhoaGAB4eHgAAAAAAAAAAAAAAAAAAAAAA4uLiAAAAAAAAAAAAAgAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAHh4eAAAAAAAAAAAAAAAAAAAAAAAAAAAAHh4eAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAA5ubmAAAAAAAAAAAAAAAAAAAAAAAAAAAA5ubmAAAAAAAAAAAAAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzNUpeS+fl6wAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Vertical Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 0);
      },
      key: ["Shift+V"]
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wBEgwmOfuZMhgAAAIISURBVFjDxZexihNRFIa/c++5yQTRFFoIwiBilV4bYWsxFhZZ7HwBwScQBfEJBF/CLCLIamm1jfZ5gHXtLBYbDcncY5FMNolZmRn2JgemuMOd+X/+859zzxUzY5fh2HEIoDdeffowFdc3M7D0iCKCWjz88eLBIwU6U1z/9cO7FDHiJC1+NPDO8fzj1z7QUSArLHKl7Xl2+B31QioOBkwL403/JoVFgEwBiQbdtnLrakZwkkyFaDCJRretxFmqRQGKaHTUc/1Shk9syyJCRz3FnIECTCLs5W328nxr7p9EzgjMyTAajTAEqZCCp9+Ut3em9TxgIBi9Xm+BqcsbWq2ASdUcREKrVb8KLa6s9cyfoBqgMoExQUODUoisYK6wUV9DAfDqGyggmxSYL3zApHoNqtcGBOx8AiF4Yo02pA0UcGwiUDpStSYBbU5guQps8cOwKI9UKSi7rG30gHqKGgSamNCvCbxC4P67k1o/a6KAl/9UwZcnt4kx7UDg1k46tz4tOOdqP4/fn1TeC3LxI9lwkLN/cMz+wXHtb/WipB0OZidpSaJcb30oHQ7yhSLrseldsvGjalo0pePX07KTe0ElBVKO4ueZscR0AMFv/4JUYipg2fj0qPvy871JEUncCHEyA8/Gp0e/wAS4DOTAtdSmXIop8BM4ljloB8j+6ZPpwoA/wO9dX475C9dYnN3eMJ3aAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Fit object to the view",
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.fit());
        }
        return _results;
      },
      key: ["F"]
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrslc9q1FAUxr9zczu5Qx1HsItCoZTu2gdwUcEHcFyID+ITaAvSdQt9kkL/7bpz0wew6yruBEXEWie5x3MyudNk6PZkXMwlN5BLyPfL+fcRAL/24fy4IDdiZkAu00VyEcFzPPu6+/K1l6N+ATfaf/UMZYxwZKsf5Qcz5/Du5Gqk2goQSo54nGd4e/YFPiNYMWhwi5JxNNqAaqq2ApBSDXOPzacBSxICqyiozlhuqhUnqSYFkNCzxCLD6nKQ8NimoIyotMqaoAIYy+GL9Vz2Orpa44h7gMgTmuvrT5InqqrUpAZYv87Y2tqeavrmC/3QB5NtDohj67kFECoAMgbgBwA4AfQQYQvgkhg3ABJTyIP0p23xZdTSnwDQNAV5BWA5iBIANQFcmjwuQ9ZRGybNCqAnWDffb/HrrpAIsHEKCI9kEqrm7wSQy/jbPrjE3yJWvWraBQLQ8w6Dnm8X4eGbHRmPpXEP1HUgqX5/etWchBFPQrduGOuB5JNLzckNsXDDhRsu3PD/cEM03LCItgR+ZshM3DCdyYj0rps2nBqw3pYyh65X0tQIcLj78XG4d/F8LGPKOAPVn6u4av4UbQ3EQLaOwJXZmjBchexvsj9TLdrXGgTM3bhpjH9k32Le658AAwAHpcq9MWLTJwAAAABJRU5ErkJggg==",
      siz: 1,
      txt: "Horizontal Split",
      ina: _ina,
      fun: function(evt, app) {
        return _this.split_view(evt, app, 1);
      },
      key: ["Shift+H"]
    });
    cube = {
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAbCAYAAACX6BTbAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABVQAAAVUB1l9HcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARmSURBVEiJlVZtSLJnFD6Pc2VkL62hGLyu2gjeWEYFWUQEo6IIMvrY+lHSBxj0o19mBVK6OeYqaEOL2IowipJBPn1QRB8wIumTFhUrh2+m683abIXY7Ovx7M+rqKW1C+4f55z7XPf13Pe5n/sQiAjPgSCI8MrKyuaMjIyi4+PjnZmZme8PDg7+eDYREQMOAAivqqr6ZmRk5Pf7+3t0Q6/X/9Xc3DyQkJAQHyyfeEo5QRBMoVDYUlBQUM5gMN4sLCw8mpOYmAipqal/T01NTU5PT3fs7+8bgyoHAKZQKPx2dHT00K10e3sbNRoNajQajIqKQqVSiRqNBhcXFz1fsrq6ei6VSn9OTEz8zIfvPWlEdXX1d1qt1vDw8ICBwOFwcHt7O2B8bW3tvK2t7Scej/cpIgKUlZX9+BzpS8ndWF9fPy8vL/+Fxmazv7RareEOh+P5snkBzGbz7dzcnDMuLi4TSJK0uFwu7OzsPB8aGrJ6V8X/Ue5wOFzd3d1/9vf32xARSZK00AEACYIAiUTCvry8BIVC8S4rK4uRl5f38UuUIiKMjY1Zj46OoLW19TWdTveEgCRJs7+K3d3dO7lcbtnb23N4+yUSCZ6cnHjs5eXlf6RSqeX09NTlz0GSpPlJcjcmJyftSqXScnZ25rNXRqPxX7lcbl5ZWXEGyiVJ0kxHDHz/BQJBhEAgiFCpVLaQkJDb0tLS6OHh4XdsNvuVTCb75JntQtDpdMf+q15cXKDVavXxOZ1OFIlEZxRFPVJpNBqxo6MDBwYGPD6dTndMAwAf5TKZDLhcLvD5fBCJROByuQAAgMFgQEpKipNGo3nm2mw2EIvFIBaLwWAwQFdXl494mre1tLQEWq0W9Ho9bG1tgclkgt7eXp/K8EZDQwMwmUyYmJiA3NxcSE9P94n7kI+Pj0NxcTEkJycDm82GyspKmJ+fD7ivFEUBh8OBhYUFkMvlIBAIfOJ0bzUGgwGampo8dnR0NNjt9oDKCYIAjUYDXC4XMjMzoaamBsLCwqCwsBAQEXyqhaIouL6+9iRfXFxAZGRkQOUEQYBAIACpVAoAAEwmE2ZnZ93kSAevA42PjweTyeRJnpqaAj6f77Hdh+sGjUbzWVytVnuHke5t1dXVQUlJCdBoNLBYLLCzswM9PT1BlVMUFTD+AYvF4sXGxsazWKxQLpcLPB4P5ufngaIoUKlUEBMT45m8ubl5yefzP3LboaGhUFZWBiEhIT6ker3+XKfTaQERIScn54vOzs6lq6urxzfEC2q1+ihY3GKx3La3t+vS0tI+R/dL9P5MiYqKisaxsbEDl+vRfygo+c3NDfb19W0UFRV9hf7PnPeIiop61djY2LOxsWF7gvytv29ubs5SW1v7NQB86M8VsC3Izs5OUSgU01ar9e4p8sPDQ0dLS8twUlLS60AcQfsWRITS0lLh4ODgb3d3d6hWq9/a7XZXd3f3r/n5+bnP5T7ZtzxRcqH19fXy6+vrIoIgBkdGRn7AFyT+B8V0vTlNCwgQAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "View",
      ina: _ina,
      sub: {
        prf: "list",
        act: []
      },
      key: ["V"]
    };
    this.actions.push(cube);
    cube.sub.act.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAcCAYAAADr9QYhAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB8wAAAfMB4Ueu7gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQ2SURBVEiJ7ZZNSHJZGMf/V+/YcInqHUnMECwTDdpUFm1iiCYqEoKKaHAjDEEJaQUtWqWrgr4/sGCiIKJdZJNR0OciaDZBQ4xoVqhRlGRjQ2nJa2cWM4p9XBXe6YWB+W/uuff5P+f+znnOPfdQhBCwiWEYcVFR0U9yubwoPT1dQlEUBwAoiqIAwOfzfeP3+7nhZwzDhNLS0j6H4/+Iis55lU9vbm5+4vP5nPv7+wcqGoaiKI5UKv1eoVD8KJPJ8kpKSuQ1NTXfJScnvwt7dnaGhYUF1NbWQiwWg2EY8Hg81sEBwOHhISYmJv58fn4OSqVSWq1Wp0gkEo7RaHRRAFIKCwvVMpnsB6lUqlCpVDnFxcU8DocTs9OlpSUEAgE0NTUhntdsNj8vLi7eJScnf1YqlUkNDQ0pqampLzxGo9FF5efnX2dnZ39L0/SLeoVn9fX1taKfR7fDgC6Xi9fd3U3Ky8sZmqZZgY1Go4uura0N9PT0CGIO7QukVqv/qKys/JSIN/b8fmX9D8OmhGAIIZicnER1dTVEIhEEAgEqKiowMDCAUCj09WB8Ph9UKhW0Wi2CwSC0Wi06OzuRlJSErq4ulJWV4erqijU/+gtzOp3Y3d3F+vo6vF7vW7PBYHCSGGppaSEAyPDw8JvYzMwMoSiKNDY2suar1erbcLu5uZkoFApSVVVF+Hw+aW9vj/gMBoMzJszR0RHhcrmkoqKC9WV1dXUEANnf348Lo9fryejoKCGEkMvLS5KamkoeHh4iMDHLtLa2hlAohLa2NlaPTqcDAFgsltj1BsAwDPx+PwBAKBSCw+G8KDH7lgjg5OQEACCTyVg9CoUCAGC32xOCub6+xvHxMebn55GRkYGsrKzEYC4uLgAAAgH7Bi0QCMDlcnF+fp4QTF9fH5aXl+F2uzE3N/fyFxIrOTMzEwDg8XhYPR6PB6FQCGKxOCEYjUaDs7MzHB0doaOjAzc3N4nB5OTkAAAcDgerx2azAQDkcvm78eiRMwyDx8dHAEBubi40Gg0GBwcTg6murgaXy8X4+DirZ2xsDACgUqlidRWBCQQCkXu9Xo/p6Wnc3d3Fh8nLy0NzczM2NjYwMjLyJj47O4ulpSU0NjaipKQkLoxEIkFBQUHkXiQSYWpqKlKqmAsYAHp7e+F2u9HR0YGVlRWUlZWBpmns7e1hdXUVpaWlGB0dZc2nKCpyTlIqlVAqlS/i9fX1kXbc30FaWhosFgtMJhN4PB5MJhOGhobw9PSE/v5+7OzsQCgUxusmIcWdGeDvRdja2orW1tZ/5aVs+vAjBNtx9T39984zH63b21tYrVZOQmvmS8RWJqvV+mw2m13Hx8f209PTX/f29n7+cJiwgsEgtre373d2dhwOh8Nqt9uXrVbrL4SQp7CH3traCgFwfRSE0+lkdDrdls1m++3g4GDG6/X+zub9C+mQLtnIGvhlAAAAAElFTkSuQmCC",
      txt: "Origin Camera",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.origin());
        }
        return _results;
      },
      key: ["O"]
    });
    cube.sub.act.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB4wAAAeMBqFO+JAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMpSURBVEiJ7ZfBSxtBFMa/iYkmpekSLz3IepCtEVlkJaCCRlI2evFiLkUxhSSVCj14MOBRRRAlORX8BzwYYiseJAdRVEIOwZNGSShR0VJFUEOkLsWYZKeHNqlRI0qb6KEfLMy8ebz5Md/szg5pa2vbFEXxOQqgUCj0TJKk+NnZ2edAIPCRUhrLmzw6OhqmBZLX66XBYJDG43E6OTl5aLVaffX19e8AlFJKcfUpCshV7e7upkdGRr50dnZ6OI4zZUCUhbDkmigAkulUVVUphoeH9QD0gUDAMjAwEN7c3PQXAySvjEaj2mg0Gtxu90vFY4JcVd4VWVxcxODg4L0L6fV6zMzM3DaUY82DQRQKBdRqdU7s/PwckUgEDMOgpqYmZ6y0tPRewA8GMZvNMJvNOTG/3w+TyYSmpiYsLCz81cTX9WT2yH+Q6yo4CKUUp6enaG5uRkNDA7xebza+v7+PcDhcHBAAmJqaQnd3N5aWljA3N4euri7U1taiv78fGxsbxQM5PDxEZWUlGIaBw+FAIpFAJBLB/Pw8enp6igNCKaUdHR2Ynp5GY2MjXC4XNBoNTk5OcvKKctaIoghRFEEpRSgUwvLyMux2O+LxOIaGhooHkhEhBIIgQBAEOJ1OJJNJSJKEra2touwRmm9ApVJBp9MBeELfkQdZIwgCVldXUV5e/rggDMPAZDL9cwjgKVkTi8VU0Wi0IMWPjo7Asuy9cgnHcZ8kSWo3GAwlLS0tSYUiu0iEEJJpINPO9AFAlmWSTqeJLMvQaDTZtyNT4/LykqytrSVZlqU2m+1FXV3drX9Pbrf7QLm9vf0GADiOew3gPc/z9Var9RXP83fa5vF4sLe3h9bWVsiyjPX1daRSKTidzhxoALi4uMD4+PiPiYmJ74IglPT29upubPgbFx1AxfP8W4vF4hsbG/t6cHBw653F5/PRvr4+enx8nI3Z7Xa6srJy511nZ2eH2my2M4fDEZudnZVSqRR1uVzfyO/Jb/eNEMZgMHyorq5ur6ioYMgvZT1LJBIl0WhUW1ZWRmVZJlqtNsWy7MVVX8mf5cn2MzWCwSATi8UYpVL5/SdNaUM7QHCHsAAAAABJRU5ErkJggg==",
      txt: "Watch top",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.top());
        }
        return _results;
      },
      key: ["T"]
    });
    cube.sub.act.push({
      txt: "Watch bottom",
      ina: _ina,
      vis: false,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.bottom());
        }
        return _results;
      },
      key: ["B"]
    });
    cube.sub.act.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB6QAAAekB8yd1yAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASJSURBVEiJzZZLSCtXGMf/Mxmr+G6sRhyKLgSfiEnU1AeKoOhCoVIUouJCrU8QRcWFIKKLq9koBMGIiAvRhURBEHShoo0PihpKBA2C+GggJG01WI0mM54uSqK9Nya59t7e/mE458z/+878vjNn8VEymeyK4zihQCCwFhYWWiiKIgBACKHwLAoAbDYbZbVaBYQQihCCFyN4nqeEQiEnEAjIy9yHhwfLycnJz1qtdtRoNB7hNSkUiiu73U7UavWfdXV15vLy8t80Gg1HXOjh4YHo9XpyenpKzs7OyPz8PCkuLiYzMzPEYDCQu7s7V2nEZrORhYUFS0NDw085OTmDAL5xFOB4oFAorl4m3dzckNHR0Wu5XG6qra39/fLy0uXmDnEcRyYmJkh9fT3RarVuYwkh5Pr6miiVyl8rKyuXU1JS6gF8RQgBpVAoLru7u791dVrn5+dPk5OTfxwfH4NlWZ/AwEACAE9PT84Yx2+w2+2UyWSiIyMjeZqmX/qvzi8uLpitrS06JCTkFygUCvclE0K0Wi1RqVR2j+W+Uf39/efP6F9YNHl5Xl9Q/5sTYV4ujEYjOjs7odFokJ+fD5VKBV9fX4+bbGxs4OLiwrmmaRoRERGIjo5GQkLCx4HwPI/S0lIIhUI0NTVhZGQEfX19GB4e9riJUqnE4uKiS08ikUCpVCIrK8s7kPHxcQQFBWF1dRUAIJVKUVVVhcHBQa8qAoCJiQmkp6eD53lsb29jfn4eGo0GZWVl0Ol0iIiIeDXXeUfUajV6e3udRkFBARiGgV6v9xokNjYWqampkEqlaGtrw8bGBkQiEUwmE5aWltzm0gDI/f099vf3kZ2d/WzQNOLi4nB1deU1yPtiGAYVFRUA4LEgGgBMJhPCw8Ph5+f3D1MkEsFsNr8ZBAAODg4AAMnJyW7jGACwWCwICAj4wOR5HoGBgW8CuL29xcLCAnZ2dkDTNIqKijyDcBwHm83mcrOQkBCvP97a2org4GDwPA+dTofHx0fExcVhamoKkZGRbnNpAGBZFkaj8QNTp9MhMTHRaxCHrFars7DMzEyIxWKPOTTw9114fHzE0dFz33J4eIjw8HBERUV5DTA2Noa9vT0cHR3BbDajuroa09PTqKur8wxCCCEURaGsrAxDQ0POijo6OtDY2Og1xPsKCwuDSqVCUlIS5ubmsLy87B7EMenq6oJarUZGRgbi4+Ph4+OD5ubmN4MAgL+/P6ampgAAnZ2d4HneM4hEIsHKygpkMhl6enqwuroKiqJeTfRWGRkZKCkpgV6vx+zsrFsQZxuQl5cHpVKJlpYWCASCfw3h0MDAgHN87VQ+SRuQnJyMvLw8hIaGuvTFYjHa29vBsix2d3ddxjAu336kHBW708jIiFtfwPO8v06nEzAMI4yJifF1dS+MRiMMBsOTVCr9LI3U5uamhVlfX38H4B3LsmKZTNaSmpr6XU1NTUJMTMynuyReyPlrDAaDFsCPFEX5qNXqSolE8kN2drZELpez/wUI5a53pihKlJub2yEUCr/nOO7rtLQ06+eAWFtb4/8CgETWcCacduEAAAAASUVORK5CYII=",
      txt: "Watch right",
      ina: _ina,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.right());
        }
        return _results;
      },
      key: ["R"]
    });
    cube.sub.act.push({
      txt: "Watch left",
      ina: _ina,
      vis: false,
      siz: 1,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.left());
        }
        return _results;
      },
      key: ["L"]
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABCRJREFUeNq0V0tsG1UUPe/NjD1WUrvYaZQoklsFtZUiAQJKN+EjIRYFVy2qxKZIfBYVCIkiYFNEBIgCAqkSpeqiRUJULECwKaQ1XwkW0E1pqpaA1TaElkAS4sTOOLGdj+fDvWO7NY2dFGfmaa498+Zzzzv3vHvfEwDUrte//NwUMuE4DkCHL03QIQRUx06OvvLQw9RjcrdKFjIhE29s3wrLtiGFP/5tGpgiJfpOnE6wT7LZKgDdcmyEgwr2Jv+Cqgh4jYFJNS0HhxIbwL7YZy0AwegiQRXdMR0aUeA1C/z9Ev2wD9upBqTcGABR7yCkKuho0Ykmf0Jg0cDZh2X/V2QugBLdvDceJIvD71aysRRAFVQqlaJ4kQY8DgFPLkFf7unpwXUElAFUWyCgwRH+xEA4dt1+9ZpO6ULV6EmfRHAVgNOYAZVE4h8DYjkGKhcKh0D4BMBZGYCmKbDhDwCJ5QA41RCo/gOoNwucqxrQlkwTzwCIuv6XitBaLQDhlj238tVlQKwgwkZiuRHHgqqdoFwul/q5dq2ojQEoJELRTAwEF7Cyi9yv53Hl6EFMJI+7gMopwEbn9l245cV9WNBbGwNgnHIVpfD3A/sx9ukxbEjsxM0HDkFtKTszC3lMD57DwKM78Nz6B/BeYwDNt1Tf8zBOfY8tfftRGk6h+NkHMCfHy07WdSKy9R6073sNT7x/GNvu2vj2gz8P7eEi6Unam00NYuqbk7jt2Rcwf+ITLHzXD+RniYGwa3w+T33FLz7G5j3PYG207cljd2zshVeJ/48j76J71yMwf/wadnoMUtchqbBJyiuu8Tn1WROjWPwhifXbEugMKG9x7vMEAAsu2r4O1vAlCMsC5uaAYoEsX7GC28f3rOGLuCkWQVBKZiCk1iaJpqc+jVL5+zIUmgmR5Llln83t3AIxMlzNCgGXAW2V6zBNo3HkpiE1feWMyM8Y09XoC2bA0ReMU5FXv+ot0cLt/6QBWyoohcI4HaR1xIwBJRxBfvf9cEyzvAy6PlExU/SMbRioLrsYwHz6nd1P0X9bk9NSnbw9/qZRXLwzGl0LO6ij7gansjGRlAmnjBxmTOssD54dkmIwQpauk0FvpIVOZucOxyamPmwjIUq3oNn1CCCtlUP95/gkvk0bB+l0UWEm+YSsSFZowubO5IqZ+2Lh7lIhv7mro8MFIRVK6xQi/leYeuoTBGAgdQFDRr7/pd+uHKV3pxUv9h1sx8cyZ3sjrfH5GWNTSA+iZc0ayGCQRKe51GeyWQxeHMKFzEzy8YFLL9M7/zB4r1YfPJAIWddj8fa7d3RGn46pyq1OTSXMmNYv/ePZIx+NpH+iy1GekZyKvVz+MIgWsmhF0K2VPndjREYZCVNk2UroLDQpuhU24dAqu99Azfedis5Y8KXahdG/AgwADk9zOiQNsccAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Close current view",
      ina: _ina,
      fun: function(evt, app) {
        app.undo_manager.snapshot();
        return app.data.rm_selected_panels();
      },
      key: ["Shift+X"]
    });
    this.actions.push({
      vis: false,
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Zoom",
      ina: _ina,
      fun: function(evt, app) {
        var _ref, _ref1;
        if (!this.zoom_area) {
          this.old_cm = (_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm : void 0 : void 0;
          this.theme = this.old_cm.theme;
          this.zoom_area = new ZoomArea(this.old_cm, {
            zoom_factor: [this.theme.zoom_factor, this.theme.zoom_factor, 1]
          });
          this.zoom_area.zoom_pos.set([this.old_cm.mouse_x, this.old_cm.mouse_y]);
          return this.old_cm.items.push(this.zoom_area);
        } else {
          this.old_cm.items.remove_ref(this.zoom_area);
          this.old_cm.draw();
          this.theme.zoom_factor.set(this.zoom_area.zoom_factor[0]);
          return delete this.zoom_area;
        }
      },
      key: ["Z"]
    });
    this.actions.push({
      vis: false,
      txt: "",
      key: ["UpArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(-0.1, 0, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      vis: false,
      txt: "",
      key: ["DownArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0.1, 0, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      vis: false,
      txt: "",
      key: ["LeftArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0, -0.1, 0));
        }
        return _results;
      }
    });
    this.actions.push({
      vis: false,
      txt: "",
      key: ["RightArrow"],
      ina: _ina,
      fun: function(evt, app) {
        var inst, _i, _len, _ref, _results;
        _ref = app.selected_canvas_inst();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst = _ref[_i];
          _results.push(inst.cm.cam.rotate(0, 0.1, 0));
        }
        return _results;
      }
    });
  }

  TreeAppModule_PanelManager.prototype.split_view = function(evt, app, n) {
    var cam, child, d, p, panel_id, s, _i, _j, _len, _len1, _ref, _ref1, _results;
    app.undo_manager.snapshot();
    cam = void 0;
    child = void 0;
    _ref = app.data.selected_tree_items;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      p = _ref[_i];
      s = p[p.length - 1];
      if (s instanceof ShootingItem) {
        cam = s.cam;
        child = s;
      }
    }
    d = app.data.selected_display_settings();
    _ref1 = app.data.selected_canvas_pan;
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      panel_id = _ref1[_j];
      app._next_view_item_cam = cam;
      app._next_view_item_child = child;
      _results.push(d._layout.mk_split(n, 0, panel_id, 0.5));
    }
    return _results;
  };

  return TreeAppModule_PanelManager;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Apps,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Apps = (function(_super) {

  __extends(TreeAppModule_Apps, _super);

  function TreeAppModule_Apps(withConfig) {
    var _ina,
      _this = this;
    if (withConfig == null) {
      withConfig = true;
    }
    this.display_app = __bind(this.display_app, this);

    this.get_fs_instance = __bind(this.get_fs_instance, this);

    this.onPopupClose = __bind(this.onPopupClose, this);

    TreeAppModule_Apps.__super__.constructor.call(this);
    this.name = 'Apps';
    this.visible = true;
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0) && app.data.focus.get() !== app.treeview.process_id;
    };
    this.icon_app = new Lst;
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 0.9,
      txt: "Load app in tree",
      ina: _ina,
      fun: function(evt, app) {
        var Pheight, Pleft, Ptop, Pwidth, application_list, config_dir, container_global, fs, inst, inst_i, p, _i, _len, _ref;
        container_global = new_dom_element({
          className: "apps_container",
          id: "id_apps_container"
        });
        if (withConfig) {
          fs = _this.get_fs_instance();
          config_dir = FileSystem._home_dir + "/__config__";
          fs.load_or_make_dir(config_dir, function(current_dir, err) {
            var config_file,
              _this = this;
            config_file = current_dir.detect(function(x) {
              return x.name.get() === ".config";
            });
            return config_file.load(function(config, err) {
              var application_list;
              return application_list = new ModelEditorItem_Application({
                el: container_global,
                model: config.selected_organisation[0].list_applications,
                use_icons: false,
                app: app,
                use_in_lab: true
              });
            });
          });
        } else {
          application_list = new ModelEditorItem_Application({
            el: container_global,
            model: APPS,
            use_icons: false,
            app: app,
            use_in_lab: true
          });
        }
        inst = void 0;
        _ref = app.selected_canvas_inst();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst_i = _ref[_i];
          inst = inst_i;
        }
        if (inst.divCanvas != null) {
          Ptop = _this.getTop(inst.div);
          Pleft = _this.getLeft(inst.div);
          Pwidth = inst.divCanvas.offsetWidth;
          Pheight = inst.divCanvas.offsetHeight;
          Pheight = Pheight + 22;
        } else {
          Ptop = 100;
          Pleft = 100;
          Pwidth = 800;
          Pheight = 500;
        }
        p = new_popup("My organisation apps", {
          event: evt,
          child: container_global,
          top_x: Pleft,
          top_y: Ptop,
          width: Pwidth,
          height: Pheight,
          onclose: function() {
            return _this.onPopupClose(app);
          }
        });
        return app.active_key.set(false);
      }
    });
  }

  TreeAppModule_Apps.prototype.onPopupClose = function(app) {
    document.onkeydown = void 0;
    return app.active_key.set(true);
  };

  TreeAppModule_Apps.prototype.getLeft = function(l) {
    if (l.offsetParent != null) {
      return l.offsetLeft + this.getLeft(l.offsetParent);
    } else {
      return l.offsetLeft;
    }
  };

  TreeAppModule_Apps.prototype.getTop = function(l) {
    if (l.offsetParent != null) {
      return l.offsetTop + this.getTop(l.offsetParent);
    } else {
      return l.offsetTop;
    }
  };

  TreeAppModule_Apps.prototype.get_fs_instance = function() {
    var fs;
    if ((typeof FileSystem !== "undefined" && FileSystem !== null) && (FileSystem.get_inst() != null)) {
      fs = FileSystem.get_inst();
      return fs;
    } else {
      fs = new FileSystem;
      FileSystem._disp = false;
      return fs;
    }
  };

  TreeAppModule_Apps.prototype.display_app = function(app, application) {
    var act, group_app, ico_app, link_app, text_app, _i, _len, _ref, _results,
      _this = this;
    if (application.actions != null) {
      group_app = new_dom_element({
        parentNode: container_global,
        className: "app_group",
        nodeName: "div"
      });
      _ref = application.actions;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        act = _ref[_i];
        ico_app = new_dom_element({
          parentNode: group_app,
          className: "app_icon",
          nodeName: "div",
          onmousedown: function(evt) {
            return act.fun(evt, app);
          }
        });
        this.picture = new_dom_element({
          parentNode: ico_app,
          className: "app_picture",
          nodeName: "img",
          src: act.ico,
          alt: act.txt,
          title: act.txt,
          style: {
            maxWidth: 150,
            maxHeight: 75
          }
        });
        text_app = new_dom_element({
          parentNode: group_app,
          className: "app_group_text",
          nodeName: "div"
        });
        this.name_app = new_dom_element({
          parentNode: text_app,
          className: "app_group_title",
          nodeName: "div",
          txt: application.name
        });
        this.editor_app = new_dom_element({
          parentNode: text_app,
          className: "app_group_name",
          nodeName: "div",
          style: {
            fontWidth: 0.8
          },
          txt: "powered by"
        });
        this.powered_app = new_dom_element({
          parentNode: text_app,
          className: "app_group_name",
          nodeName: "div",
          txt: application.powered_with
        });
        link_app = new_dom_element({
          parentNode: group_app,
          className: "app_group_link",
          nodeName: "div"
        });
        this.publication_link_app = new_dom_element({
          parentNode: link_app,
          className: "app_group_publication_link",
          nodeName: "div",
          src: act.ico,
          alt: "Related publications",
          title: "Related publications",
          onmousedown: function(evt) {
            var myWindow;
            myWindow = window.open('', '');
            myWindow.document.location.href = application.publication_link;
            return myWindow.focus();
          }
        });
        _results.push(this.tutorial_link_app = new_dom_element({
          parentNode: link_app,
          className: "app_group_tutorial_link",
          nodeName: "div",
          src: act.ico,
          alt: application.tutorial_link,
          title: "Video tutorial",
          onmousedown: function(evt) {
            var myWindow;
            myWindow = window.open('', '');
            myWindow.document.location.href = application.tutorial_link;
            return myWindow.focus();
          }
        }));
      }
      return _results;
    }
  };

  return TreeAppModule_Apps;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Graph,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Graph = (function(_super) {

  __extends(TreeAppModule_Graph, _super);

  function TreeAppModule_Graph() {
    this.onPopupClose = __bind(this.onPopupClose, this);

    var _ina,
      _this = this;
    TreeAppModule_Graph.__super__.constructor.call(this);
    this.name = 'Graph';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      txt: "View Graph representation",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var Pheight, Pleft, Ptop, Pwidth, container_global, graph_attributes, graph_data, graph_view, inst, inst_i, p, selected_sub_tree, _i, _len, _ref;
        inst = void 0;
        _ref = app.selected_canvas_inst();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst_i = _ref[_i];
          inst = inst_i;
        }
        if (inst.divCanvas != null) {
          Ptop = _this.getTop(inst.div);
          Pleft = _this.getLeft(inst.div);
          Pwidth = inst.divCanvas.offsetWidth;
          Pheight = inst.divCanvas.offsetHeight;
          Pheight = Pheight + 22;
        } else {
          Ptop = 100;
          Pleft = 100;
          Pwidth = 800;
          Pheight = 500;
        }
        container_global = new_dom_element({
          className: "graph_container",
          id: "id_graph_container"
        });
        selected_sub_tree = app.data.selected_tree_items[0];
        graph_data = selected_sub_tree[selected_sub_tree.length - 1];
        graph_attributes = {
          width: 1000,
          height: 1000
        };
        graph_view = new GraphView(container_global, graph_data, graph_attributes);
        p = new_popup("Graph data of building", {
          close_popup: false,
          event: evt,
          child: container_global,
          top_x: Pleft,
          top_y: Ptop,
          width: Pwidth,
          height: Pheight,
          onclose: function() {
            return _this.onPopupClose(app);
          }
        });
        return app.active_key.set(false);
      }
    });
  }

  TreeAppModule_Graph.prototype.onPopupClose = function(app) {
    document.onkeydown = void 0;
    return app.active_key.set(true);
  };

  TreeAppModule_Graph.prototype.getLeft = function(l) {
    if (l.offsetParent != null) {
      return l.offsetLeft + this.getLeft(l.offsetParent);
    } else {
      return l.offsetLeft;
    }
  };

  TreeAppModule_Graph.prototype.getTop = function(l) {
    if (l.offsetParent != null) {
      return l.offsetTop + this.getTop(l.offsetParent);
    } else {
      return l.offsetTop;
    }
  };

  return TreeAppModule_Graph;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppAction_Save,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppAction_Save = (function(_super) {

  __extends(TreeAppAction_Save, _super);

  function TreeAppAction_Save() {
    var save_sub,
      _this = this;
    TreeAppAction_Save.__super__.constructor.call(this);
    this.name = 'Save';
    save_sub = {
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABuvAAAbrwFeGpEcAAAACXZwQWcAAABAAAAAQADq8/hgAAARWklEQVR42u1bB3AVV5ZlZ5b1zFTt1tqeGTPExTaY9WAwNhlloYQkJKGIckI55yyBJASSMEJkkXPGcbxTzhGME9HYGGOiAZORyCDOnvt+UEt8JWq2RlVLV53q/z+Nfp9z7z33vu7+3bo92h5tj7b/11uPfv0EjxPuf+7TJ+dPvXuX/LFXr2It+FmXwwPn2KtXiZy/8NDzUdw6IkA/Yv1TffteHzB4MMxsbWHn6mrEeFcXWDs4wdLW4Z8GKw3kvbWjU7NzFJjb2WHQ0KEgl+vkspH73h0VYC5xb7yLCzIKCxCbloqwuFiExcciPD4OcRlZmDwzHJabbGGx2aZ1bGkOSyNsYbnVVrdvD1tNw8qAbbaw2WSP0IpY5JdPR/HMmSipnImpVZUonz0b0wl3Pz/07N+/kSKUktdv2hWBaXNslIUFyRdirK0NBg4dojBo2FD890svwszeCcNrzdD9ZHd0O9kN3U50Eif/sXjs6GOwmGGPyRFTEKoCFYfwhAREJiUhOTcX1fPnw9bZGeS1k+SfbFcAKtUYGhuLib7eGPDCYD3xYfjr8JcweMTLsHByxohaC3Q/QQGOd/un43c//w5WlY4ImBJN4vGISExABAUIj49XyCopQVp+Pno/88xxekWvdgXoO2AAEjIy4ODmisKpU1FYWqZ84K8k/8LI4bB0cumSAgRGxZB8oop8FPfz6+pQu7gOSVnZKGFp0M9OPt6jR/s+8F+DBiEhMwMTvTzx+t/exuv/8w4c3dwY/eEYOnokLCd0TQGComMxJTlJITkrEx/v2In3Pt2B9IICTKuuxnNDhpz8z6ee6pgAiVlZMBtvi3E21jDnftiYUYr8i9xbObt2SQGCY+IQlZKM6NQURDIDYlNTiTQkZWejdNZDCCAG+PzLrPuRw/XkR2PY2DEUYGKXFCAkJp7kUxGTlobYjHTEMYvjmQkZRYUomzWr8wKMs7NtTn7cGLxsNhbWLm7sAubofvz/WIBjHYAIcOQxWIoAsQlG8vGZmUggh0RGP7O4uPMCJGVnwdx+PIaMGtGM/HDzcbDikOE3KwJZZwuRdb4J2RcI/T7nQlEz5F4k+LnaE3ka5F8iDHui4FIxUaRQeFkP9boYRS1QfKUYhTwP/7IIhMTFc0ZpIp+Uk42k3BzVBR5KAAsHe0Z/lIa8GUZYmMOSAhRWVOHc5du4egO4eh1qX69Hw03gmh7Xb+lwg7gpuA3c0uO24A5wR4+7d4F7gntAI/eN3N9v1AF8DdnfbwFuDQ0NyCoqQghbnjbyMgOk5OUhm52s/JVXOiHAc4OUcVg6OuDFsaObyFuaY6SVBawmuqKgYiZOX76GCzfu4sL1O7h4Q4dLxOWbd424Qly9pUO9Hg237+GaHtcFd3S4Qdy826hwi7h9rwl3FO7jbuN93NOj8f59pUF9fT0yRQD2/pbkU9n/c0qnPZwAVhMc8RKjbyA/ysoSo62tYOU2sUsKEErnl7Q3ki/IRxpH+byyMjUWd0KA55QA1s5OjP44PXkLRX4M26I1Z4KuKECYfvQ1RD6do3wGP88vL1drgs4JQCVtXSZguIVZE3lba4wdbwMb964pQHhy8gPkpQMUTJ/eeQGSc3LUsncko28gP44DkZndeNh4uHdJASJSUpDGqc9IvqQYWVNLUDhjBqbX1HReADuandS9jryNIm9ubwfbLipAJIcgLXlx/5xp09QSueJhBLB3n4jRNlZN5B3s2BnsMX6SR5cUYAqHoEx92hvI55aWoqSyEhVz5nRSAA4QDh5uHIetNeQdYOXkSAEmdTkBZA6ISk9XQ4+RfFkp8srLMLWqqvMCpNBNnRhpGYeFvIWevPUEJ9h5dk0BormE10Y+j+6fTwOcxilwxsMIMIFEzTgOG8mzLdqwM9hzmdwVBYjhFKglL+5fWFGBMg5BM2prOy+AM4nKONxE3ll1Bnsvry4pQCynQBl6jOTp/kU0QBmCZnZagLxcuPh4qbrXkpfO4ODdBQWg8cVxeMvXRF7IF9MAp9fMeRgB8uDq663GYSN5N1fVGRx9vLukAPEUoIDEDeTF/ZUBkvzMuXM7J0AqBZjo5wsb5wka8m5w5Azg6OOD/K4oAFt3kT7tdeSrdQZI8pUPI4D7ZD/Yujo3I+/k6QEnX58umQEJ9K3iFuRLaYCV8+Y9nAAe/pMxfmJz8hNojBOYGbnlFUqAixRAcOmmDkbit+4pXCXqb+vQoMe1O40K1/W4cVcHRZwkBbf1uNOow109+BGJ66C/HKAEkHsYSVwDlDDlJe2FvLi/GGDV/AVKhE4LMCnAH/Zc+mrJu9AAXQMDuPZOxK69B3Hy/BWFUxea8MtFwVWcJs4ILulwVo9fL9fjnB7nBVfqcUGPi1cbFC4RlwX1DbiiwdWGa6jXo+HaNVwj9u/fry6GpDEL5OpvE/kaZYDVCxaiqrMCpOXnwTMoEA6MfjPyNEC3wEC4hYYiKC4eKQVFSC0sRlpR+0g3gYxWkCkoNo0sDWTuD46Lg29sLPLo/qVa8hx+xABnLVrELJjfWQHy4RUcBMdJGvLsCmKM7iwNj5BgeISGwI3HCNz53j0khJ+FYlKYIAye4eHwEkREwDtSEAmfKVPgGyWIgl90NCbHxCj4k0CAgGQC4wXxCEpIQFBiIoKJEK71Q7jcDSXCuOoLS01BOBc/EZz/o+n+WRx+plU3pb2Qn6F3/9mLFz+cAD4kJdNgM/I0Rg+WxiSWgWSIN4/xoRB+JDw5Ihz+JBpIkkHRUQgmMbnFJvfqItS9ukR100Ku28ekpSI2XS5gZmguY+WYXM9rx1tDnxe3Nxoe0750linyNL9581FTt4RlsEAEONXz6aef9omO/jd7b+/HTEA+/41RAF8Sk2nQQN5NyPt3lHw0QmK1Nyp15KNSDOTTEJehu24v5JNyctTwJeRlTW8gL4sb43jLKa/lkNPS8JqRZ9SrSHzO0qVKgEFDh54bbmXl6eDra0aiFi1gTowmBhoFEGIuPh0nH9AB8nLjoj3y6UWFbZOf0XHy1QsXonbZMsyiEVKA8yNsbAIcfHzsSNShFVgYBRBiruz5rZH3Za23TT5e3axsj3xyB8jnd4B8RQvysxYuwiuLFmPe8hV8bRTAXy+AvQnYGTNAbigKMTdGvxn54H8U+aw2yWd3gHxpe+RpfrPr6jB/xcqOCCDRl9L4d6MAAVMileO3RT4wSmN4cS3TPllT87p7dQbDSzIYXkG+yctYuUJcs6pThidDjtHwZqO8pqZd8jVLlmDBqlXMhEUdyYCBxL8YBQgiOXH81sjL3iMgQAnkFRSkO0bKg+3Ql+1Q/MEvnB7BVujPVhjANihQRsk2GMQ2GEyE6LuFUUB5sIEiqgwSASmeIJbZE8c1fzxFFKRTtDJZ6s4zTX7OkqWq/heuXtMRAcQI/4PoZhRATs6T5EynfaQqjRym67pNm7CeWLdxI9Zu2IA169dj1dq1WLlmDVasXo3ljMCylSuxdMUK1PGEFtOVFzEyC3mSC3iy85iec3nytSQxh2RqpHczqtWMcA7LIIPpn8UMaIkEnmMKy6eqDfJzly/H4jVrMZte0IYAkv7PS/SbBCgsYD3HqGHISD68qeYlovL+7+++i5MnT+LYsWM4evQofv75Z/z00084/OOPOPTDDzh48CAOcFTdt3cv9uzZg2+//RZff/01vvzyS3zxxRfYuXMnPv/8c3z66af4+OOP8eGHH+KDDz7Ae++9h3ffeUeJl8vUL6QghUx3A4r4Ppt+kJCTrQRojbzUf93adWoYakMAK+JxRd4wCMniQlJSHL85+UhV84ae/xXJnDhxQpH/8quvsP2NN7Dltdew+dVXsZX7nSQps/peCrB792588803+IrH7dq1SwmwY8cOfPbZZ/jkk0+MArz//vt4l8K+QwG2bNuGHHqAlrwBIkAijVR6fGvkpf6XMCNrWhdAov+CDEAPCCD1KLXckry4vXrNOv6GET116pSKtKRhPg0qn+4syKNhyRdL1Pft22fMAK0I2gwQET766KOmDKAIWylAbhsCJHEJLNHXkpe2ZyC/kCW4dMNGnkddawLYEH8U8g8IIOOrmJiku78YGE1RfEEMS8iH8PVukvrll1/UvojktSdYQExjHUu6HzhwwJgFLctAsqBlGUgWiAhbt29vWwB2Eom+THvi+Koj0EdEACEv9b984yaOwyYFkOgPI35rJG8UQO60sJWJ6Um04/lFiRRFfEEyQ7IglNjLyJ4+fRq7Sc6UAKUUQMrku+++M2ZBy1KQLNCWgmSBwQu2iQA0vNYESM7LV7N+7bLlrPM6ZFMsOV6ZH424bt06rNi0GXNMC2BL9GgWfa0AMsSIAEEkmsL+nEZHlnV3KFdsMvCEUoz9jOyZM2ewh+SKmPYPCEB8TbJSIgYv0JphW6UgIrQngHQBSf1ZdPlSLoGzeWzOzEpMr52LBSul/jdg5ZYtPGZJSwEk+sOJ7s3IGwSQW0zyxJU/oy+RL2AkBUlyG1ovQjjxHYn9evYs9pJcawKIT3z//fcqC1oaYstSkCwwlIKIsI1m2qYAbIVzGX2Z+XP53nCe+VXVmE8BlrE1r9q6zZQA44leD0RfK4CMrzLpRWWkG/9wDAcQeQRNjboshe/Z6s6dO4d9zARTApQR35LsD4aWyOPaM0RtVxAB8kisNQFSKYCY3jzOGMX8fnWeHI7KmAFLGf3lnE9Wb9uO2gcFGKVfApu+HiACyBNXMuKGMNKZrK0sIkKewmRmyOOokcyEQ+z358+fx35Gt7gVAcQgDx06ZDILtIZoqhTaEyCN2SmGt4jTXuX8BciTLkTMYVYsZ+2v2LwFa/k3ammSGgEk+v1MRt8ogNxoYORlFhDEsd0ksN7kMVTJDNlPYZc4zKHnwoULOMDomhSArryHZH+kUNos6MhsICJsb1eAItXuxO0l5QvYeqcyC6T2hfzKLVuxjvOIRoAAR19fWff/3iR5gwDqTgtnb3U1h9EOY8qHsysYVnVRstDh+5+OHMHFixeVF7QmgHSKw4cPP5AF2lIwZYgighJAJsFWBJD1gMz64vZCuoJjdDXn/pV68qs5R6x//Q36xDJjBjj5+fVvNfqy9X72WfV8QF5ZqfGx80h96ktZiDByWSuaIhzh6Hvp0iUcJDFVgyYE2EeyRyiUNgs6Yog7KMJ2Ri+vjVE4nYGS6Mu0JwNP3br1NL5NRvJrtr+KjW++qQaygUOGnH/ZysrDLSTkD62S1z8uf+WlMWMwlV+QPbVELWsNj6AaHkSU1wYBLl++jB8YXVmu5tOxDcijZ8h6XVJe1giGLDBliKZKQTJBBqE0tuB0Lo21yOAyOYnk01kCQlrIy8CzQhN5Ib/21dew5e23UVg+HX0HDvx16NixY4VjmwL06Ncv5s99+pwdaW6unrAUEbQXNBKyMpUIqcySo1wEXblyRXUCKQcxRRFDMuIAoyylIesEgWRBZ0TYRRGkBHKnTUPBdLnnN8N4UUTELqmsUuP3A+S3NpHf+OZb2MQMcPb0lJ/O7H5u2LDe/Z9/vt2fzPyWmEIRLo61tlZPWMlDRuWGKzByIYKoZCr+SEJnOAfIOCxrAlkZHj9+XEdYvzJUta8l3EoXaLk6/ISQQWgRTU6GmVUGcmxra/n5OoojBidY/9rr2MBa3/jGmyT8Fja/9TeV+ivYBmV87/Pss/d79u8/Y/CoUf/aEQEE3YkklsPVEcwEr8BABW+58KGHu68v/ENCEBgWhgAumgTyXiE4GJMFPE7gJ+D/9xUEBMDHAH9/eE+erODl56fgKeDfnkRMnDQJHvLvmu9tG8G66xeEi5cXpJRJ/Bq5bOozYEDfXs8806mfzv2e8P1T7975T/bsmaeBvC8gCp/4y1+KiGITKNKj8Ak5TocCPfK1eLIt9OrV9r+3A557Bjm4UoTHn+jRo5uLv/+j30U+2h5tj7Y2t/8FkH56C6cSxfIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMDktMDktMTNUMTM6MDQ6MDgrMDI6MDCPhL6ZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDA5LTA5LTEzVDEzOjA0OjA4KzAyOjAw/tkGJQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Save",
      sub: {
        prf: "list",
        act: []
      },
      key: ["M"]
    };
    this.actions.push(save_sub);
    save_sub.sub.act.push({
      txt: "Save",
      key: [""],
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABuvAAAbrwFeGpEcAAAACXZwQWcAAABAAAAAQADq8/hgAAARWklEQVR42u1bB3AVV5ZlZ5b1zFTt1tqeGTPExTaY9WAwNhlloYQkJKGIckI55yyBJASSMEJkkXPGcbxTzhGME9HYGGOiAZORyCDOnvt+UEt8JWq2RlVLV53q/z+Nfp9z7z33vu7+3bo92h5tj7b/11uPfv0EjxPuf+7TJ+dPvXuX/LFXr2It+FmXwwPn2KtXiZy/8NDzUdw6IkA/Yv1TffteHzB4MMxsbWHn6mrEeFcXWDs4wdLW4Z8GKw3kvbWjU7NzFJjb2WHQ0KEgl+vkspH73h0VYC5xb7yLCzIKCxCbloqwuFiExcciPD4OcRlZmDwzHJabbGGx2aZ1bGkOSyNsYbnVVrdvD1tNw8qAbbaw2WSP0IpY5JdPR/HMmSipnImpVZUonz0b0wl3Pz/07N+/kSKUktdv2hWBaXNslIUFyRdirK0NBg4dojBo2FD890svwszeCcNrzdD9ZHd0O9kN3U50Eif/sXjs6GOwmGGPyRFTEKoCFYfwhAREJiUhOTcX1fPnw9bZGeS1k+SfbFcAKtUYGhuLib7eGPDCYD3xYfjr8JcweMTLsHByxohaC3Q/QQGOd/un43c//w5WlY4ImBJN4vGISExABAUIj49XyCopQVp+Pno/88xxekWvdgXoO2AAEjIy4ODmisKpU1FYWqZ84K8k/8LI4bB0cumSAgRGxZB8oop8FPfz6+pQu7gOSVnZKGFp0M9OPt6jR/s+8F+DBiEhMwMTvTzx+t/exuv/8w4c3dwY/eEYOnokLCd0TQGComMxJTlJITkrEx/v2In3Pt2B9IICTKuuxnNDhpz8z6ee6pgAiVlZMBtvi3E21jDnftiYUYr8i9xbObt2SQGCY+IQlZKM6NQURDIDYlNTiTQkZWejdNZDCCAG+PzLrPuRw/XkR2PY2DEUYGKXFCAkJp7kUxGTlobYjHTEMYvjmQkZRYUomzWr8wKMs7NtTn7cGLxsNhbWLm7sAubofvz/WIBjHYAIcOQxWIoAsQlG8vGZmUggh0RGP7O4uPMCJGVnwdx+PIaMGtGM/HDzcbDikOE3KwJZZwuRdb4J2RcI/T7nQlEz5F4k+LnaE3ka5F8iDHui4FIxUaRQeFkP9boYRS1QfKUYhTwP/7IIhMTFc0ZpIp+Uk42k3BzVBR5KAAsHe0Z/lIa8GUZYmMOSAhRWVOHc5du4egO4eh1qX69Hw03gmh7Xb+lwg7gpuA3c0uO24A5wR4+7d4F7gntAI/eN3N9v1AF8DdnfbwFuDQ0NyCoqQghbnjbyMgOk5OUhm52s/JVXOiHAc4OUcVg6OuDFsaObyFuaY6SVBawmuqKgYiZOX76GCzfu4sL1O7h4Q4dLxOWbd424Qly9pUO9Hg237+GaHtcFd3S4Qdy826hwi7h9rwl3FO7jbuN93NOj8f59pUF9fT0yRQD2/pbkU9n/c0qnPZwAVhMc8RKjbyA/ysoSo62tYOU2sUsKEErnl7Q3ki/IRxpH+byyMjUWd0KA55QA1s5OjP44PXkLRX4M26I1Z4KuKECYfvQ1RD6do3wGP88vL1drgs4JQCVtXSZguIVZE3lba4wdbwMb964pQHhy8gPkpQMUTJ/eeQGSc3LUsncko28gP44DkZndeNh4uHdJASJSUpDGqc9IvqQYWVNLUDhjBqbX1HReADuandS9jryNIm9ubwfbLipAJIcgLXlx/5xp09QSueJhBLB3n4jRNlZN5B3s2BnsMX6SR5cUYAqHoEx92hvI55aWoqSyEhVz5nRSAA4QDh5uHIetNeQdYOXkSAEmdTkBZA6ISk9XQ4+RfFkp8srLMLWqqvMCpNBNnRhpGYeFvIWevPUEJ9h5dk0BormE10Y+j+6fTwOcxilwxsMIMIFEzTgOG8mzLdqwM9hzmdwVBYjhFKglL+5fWFGBMg5BM2prOy+AM4nKONxE3ll1Bnsvry4pQCynQBl6jOTp/kU0QBmCZnZagLxcuPh4qbrXkpfO4ODdBQWg8cVxeMvXRF7IF9MAp9fMeRgB8uDq663GYSN5N1fVGRx9vLukAPEUoIDEDeTF/ZUBkvzMuXM7J0AqBZjo5wsb5wka8m5w5Azg6OOD/K4oAFt3kT7tdeSrdQZI8pUPI4D7ZD/Yujo3I+/k6QEnX58umQEJ9K3iFuRLaYCV8+Y9nAAe/pMxfmJz8hNojBOYGbnlFUqAixRAcOmmDkbit+4pXCXqb+vQoMe1O40K1/W4cVcHRZwkBbf1uNOow109+BGJ66C/HKAEkHsYSVwDlDDlJe2FvLi/GGDV/AVKhE4LMCnAH/Zc+mrJu9AAXQMDuPZOxK69B3Hy/BWFUxea8MtFwVWcJs4ILulwVo9fL9fjnB7nBVfqcUGPi1cbFC4RlwX1DbiiwdWGa6jXo+HaNVwj9u/fry6GpDEL5OpvE/kaZYDVCxaiqrMCpOXnwTMoEA6MfjPyNEC3wEC4hYYiKC4eKQVFSC0sRlpR+0g3gYxWkCkoNo0sDWTuD46Lg29sLPLo/qVa8hx+xABnLVrELJjfWQHy4RUcBMdJGvLsCmKM7iwNj5BgeISGwI3HCNz53j0khJ+FYlKYIAye4eHwEkREwDtSEAmfKVPgGyWIgl90NCbHxCj4k0CAgGQC4wXxCEpIQFBiIoKJEK71Q7jcDSXCuOoLS01BOBc/EZz/o+n+WRx+plU3pb2Qn6F3/9mLFz+cAD4kJdNgM/I0Rg+WxiSWgWSIN4/xoRB+JDw5Ihz+JBpIkkHRUQgmMbnFJvfqItS9ukR100Ku28ekpSI2XS5gZmguY+WYXM9rx1tDnxe3Nxoe0750linyNL9581FTt4RlsEAEONXz6aef9omO/jd7b+/HTEA+/41RAF8Sk2nQQN5NyPt3lHw0QmK1Nyp15KNSDOTTEJehu24v5JNyctTwJeRlTW8gL4sb43jLKa/lkNPS8JqRZ9SrSHzO0qVKgEFDh54bbmXl6eDra0aiFi1gTowmBhoFEGIuPh0nH9AB8nLjoj3y6UWFbZOf0XHy1QsXonbZMsyiEVKA8yNsbAIcfHzsSNShFVgYBRBiruz5rZH3Za23TT5e3axsj3xyB8jnd4B8RQvysxYuwiuLFmPe8hV8bRTAXy+AvQnYGTNAbigKMTdGvxn54H8U+aw2yWd3gHxpe+RpfrPr6jB/xcqOCCDRl9L4d6MAAVMileO3RT4wSmN4cS3TPllT87p7dQbDSzIYXkG+yctYuUJcs6pThidDjtHwZqO8pqZd8jVLlmDBqlXMhEUdyYCBxL8YBQgiOXH81sjL3iMgQAnkFRSkO0bKg+3Ql+1Q/MEvnB7BVujPVhjANihQRsk2GMQ2GEyE6LuFUUB5sIEiqgwSASmeIJbZE8c1fzxFFKRTtDJZ6s4zTX7OkqWq/heuXtMRAcQI/4PoZhRATs6T5EynfaQqjRym67pNm7CeWLdxI9Zu2IA169dj1dq1WLlmDVasXo3ljMCylSuxdMUK1PGEFtOVFzEyC3mSC3iy85iec3nytSQxh2RqpHczqtWMcA7LIIPpn8UMaIkEnmMKy6eqDfJzly/H4jVrMZte0IYAkv7PS/SbBCgsYD3HqGHISD68qeYlovL+7+++i5MnT+LYsWM4evQofv75Z/z00084/OOPOPTDDzh48CAOcFTdt3cv9uzZg2+//RZff/01vvzyS3zxxRfYuXMnPv/8c3z66af4+OOP8eGHH+KDDz7Ae++9h3ffeUeJl8vUL6QghUx3A4r4Ppt+kJCTrQRojbzUf93adWoYakMAK+JxRd4wCMniQlJSHL85+UhV84ae/xXJnDhxQpH/8quvsP2NN7Dltdew+dVXsZX7nSQps/peCrB792588803+IrH7dq1SwmwY8cOfPbZZ/jkk0+MArz//vt4l8K+QwG2bNuGHHqAlrwBIkAijVR6fGvkpf6XMCNrWhdAov+CDEAPCCD1KLXckry4vXrNOv6GET116pSKtKRhPg0qn+4syKNhyRdL1Pft22fMAK0I2gwQET766KOmDKAIWylAbhsCJHEJLNHXkpe2ZyC/kCW4dMNGnkddawLYEH8U8g8IIOOrmJiku78YGE1RfEEMS8iH8PVukvrll1/UvojktSdYQExjHUu6HzhwwJgFLctAsqBlGUgWiAhbt29vWwB2Eom+THvi+Koj0EdEACEv9b984yaOwyYFkOgPI35rJG8UQO60sJWJ6Um04/lFiRRFfEEyQ7IglNjLyJ4+fRq7Sc6UAKUUQMrku+++M2ZBy1KQLNCWgmSBwQu2iQA0vNYESM7LV7N+7bLlrPM6ZFMsOV6ZH424bt06rNi0GXNMC2BL9GgWfa0AMsSIAEEkmsL+nEZHlnV3KFdsMvCEUoz9jOyZM2ewh+SKmPYPCEB8TbJSIgYv0JphW6UgIrQngHQBSf1ZdPlSLoGzeWzOzEpMr52LBSul/jdg5ZYtPGZJSwEk+sOJ7s3IGwSQW0zyxJU/oy+RL2AkBUlyG1ovQjjxHYn9evYs9pJcawKIT3z//fcqC1oaYstSkCwwlIKIsI1m2qYAbIVzGX2Z+XP53nCe+VXVmE8BlrE1r9q6zZQA44leD0RfK4CMrzLpRWWkG/9wDAcQeQRNjboshe/Z6s6dO4d9zARTApQR35LsD4aWyOPaM0RtVxAB8kisNQFSKYCY3jzOGMX8fnWeHI7KmAFLGf3lnE9Wb9uO2gcFGKVfApu+HiACyBNXMuKGMNKZrK0sIkKewmRmyOOokcyEQ+z358+fx35Gt7gVAcQgDx06ZDILtIZoqhTaEyCN2SmGt4jTXuX8BciTLkTMYVYsZ+2v2LwFa/k3ammSGgEk+v1MRt8ogNxoYORlFhDEsd0ksN7kMVTJDNlPYZc4zKHnwoULOMDomhSArryHZH+kUNos6MhsICJsb1eAItXuxO0l5QvYeqcyC6T2hfzKLVuxjvOIRoAAR19fWff/3iR5gwDqTgtnb3U1h9EOY8qHsysYVnVRstDh+5+OHMHFixeVF7QmgHSKw4cPP5AF2lIwZYgighJAJsFWBJD1gMz64vZCuoJjdDXn/pV68qs5R6x//Q36xDJjBjj5+fVvNfqy9X72WfV8QF5ZqfGx80h96ktZiDByWSuaIhzh6Hvp0iUcJDFVgyYE2EeyRyiUNgs6Yog7KMJ2Ri+vjVE4nYGS6Mu0JwNP3br1NL5NRvJrtr+KjW++qQaygUOGnH/ZysrDLSTkD62S1z8uf+WlMWMwlV+QPbVELWsNj6AaHkSU1wYBLl++jB8YXVmu5tOxDcijZ8h6XVJe1giGLDBliKZKQTJBBqE0tuB0Lo21yOAyOYnk01kCQlrIy8CzQhN5Ib/21dew5e23UVg+HX0HDvx16NixY4VjmwL06Ncv5s99+pwdaW6unrAUEbQXNBKyMpUIqcySo1wEXblyRXUCKQcxRRFDMuIAoyylIesEgWRBZ0TYRRGkBHKnTUPBdLnnN8N4UUTELqmsUuP3A+S3NpHf+OZb2MQMcPb0lJ/O7H5u2LDe/Z9/vt2fzPyWmEIRLo61tlZPWMlDRuWGKzByIYKoZCr+SEJnOAfIOCxrAlkZHj9+XEdYvzJUta8l3EoXaLk6/ISQQWgRTU6GmVUGcmxra/n5OoojBidY/9rr2MBa3/jGmyT8Fja/9TeV+ivYBmV87/Pss/d79u8/Y/CoUf/aEQEE3YkklsPVEcwEr8BABW+58KGHu68v/ENCEBgWhgAumgTyXiE4GJMFPE7gJ+D/9xUEBMDHAH9/eE+erODl56fgKeDfnkRMnDQJHvLvmu9tG8G66xeEi5cXpJRJ/Bq5bOozYEDfXs8806mfzv2e8P1T7975T/bsmaeBvC8gCp/4y1+KiGITKNKj8Ak5TocCPfK1eLIt9OrV9r+3A557Bjm4UoTHn+jRo5uLv/+j30U+2h5tj7Y2t/8FkH56C6cSxfIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMDktMDktMTNUMTM6MDQ6MDgrMDI6MDCPhL6ZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDA5LTA5LTEzVDEzOjA0OjA4KzAyOjAw/tkGJQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",
      loc: true,
      fun: function(evt, app) {
        var dir_save, fs, item, items, name, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          console.log("saving : ", item);
          if ((typeof FileSystem !== "undefined" && FileSystem !== null) && (FileSystem.get_inst() != null)) {
            fs = FileSystem.get_inst();
            name = prompt("Item name", item.to_string() + new Date());
            dir_save = FileSystem._home_dir;
            _results.push(fs.load_or_make_dir(dir_save, function(d, err) {
              return d.add_file(name, item, {
                model_type: "TreeItem"
              });
            }));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    save_sub.sub.act.push({
      txt: "Delete current tree item",
      ico: "data:image/png;base64,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",
      key: ["Del"],
      loc: true,
      fun: function(evt, app) {
        var m, mod, modules, path, _i, _j, _len, _len1, _ref;
        _ref = app.data.selected_tree_items;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (path.length > 1) {
            m = path[path.length - 1];
            if (m instanceof DisplaySettingsItem) {
              return true;
            } else if (m instanceof ViewItem) {
              modules = app.data.modules;
              for (_j = 0, _len1 = modules.length; _j < _len1; _j++) {
                mod = modules[_j];
                if (mod instanceof TreeAppModule_PanelManager) {
                  mod.actions[4].fun(evt, app);
                }
              }
            } else {
              app.undo_manager.snapshot();
              path[path.length - 2].rem_child(m);
              app.data.delete_from_tree(m);
              app.data.selected_tree_items.clear();
            }
          }
        }
      }
    });
    save_sub.sub.act.push({
      txt: "Copy tree item",
      ico: "data:image/png;base64,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",
      loc: true,
      fun: function(evt, app) {
        var copyItem, m, path, session, _i, _len, _ref, _results;
        _ref = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (path.length > 1) {
            m = path[path.length - 1];
            if (m instanceof DisplaySettingsItem || m instanceof ViewItem) {

            } else {
              copyItem = m.deep_copy();
              copyItem._name.set(m._name + "_copy");
              session = app.data.selected_session();
              session.add_child(copyItem);
              _this.select_item(app.data, copyItem);
              _results.push(_this.watch_item(app.data, copyItem));
            }
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
  }

  return TreeAppAction_Save;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var DirectoryFieldSetCorreliItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

DirectoryFieldSetCorreliItem = (function(_super) {

  __extends(DirectoryFieldSetCorreliItem, _super);

  function DirectoryFieldSetCorreliItem(name) {
    if (name == null) {
      name = 'FieldSet directory';
    }
    DirectoryFieldSetCorreliItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(true);
    this.add_attr({
      reference_image: new ConstrainedVal(0, {
        min: 0,
        max: 20,
        div: 0
      }),
      visualization: new FieldSet,
      _current_reference: -1,
      _directory: new directory
    });
  }

  DirectoryFieldSetCorreliItem.prototype.accept_child = function(ch) {
    return ch instanceof FileItem;
  };

  DirectoryFieldSetCorreliItem.prototype.draw = function(info) {
    var _this = this;
    if (this._children.length > 0) {
      this.reference_image.set_params({
        max: this._children.length - 1
      });
      if (this._current_reference.get() !== this.reference_image.get()) {
        this._current_reference.set(this.reference_image.get());
        if (this._children[this._current_reference] != null) {
          this._current_img = this._children[this._current_reference]._name.get();
          return this._children[this._current_reference]._file.load(function(res, err) {
            var test;
            test = new Img(res);
            _this.img = test;
            return info.cm.origin();
          });
        }
      }
    }
  };

  DirectoryFieldSetCorreliItem.prototype.sub_canvas_items = function() {
    return [this.visualization];
  };

  return DirectoryFieldSetCorreliItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var ImgDirectorySetItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ImgDirectorySetItem = (function(_super) {

  __extends(ImgDirectorySetItem, _super);

  function ImgDirectorySetItem(name) {
    if (name == null) {
      name = 'Image directory';
    }
    ImgDirectorySetItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(true);
    this.add_attr({
      reference_image: new ConstrainedVal(0, {
        min: 0,
        max: 20,
        div: 0
      }),
      img: new Img,
      _current_reference: -1
    });
  }

  ImgDirectorySetItem.prototype.accept_child = function(ch) {
    return ch instanceof FileItem;
  };

  ImgDirectorySetItem.prototype.draw = function(info) {
    var _this = this;
    if (this._children.length > 0) {
      this.reference_image.set_params({
        max: this._children.length - 1
      });
      if (this._current_reference.get() !== this.reference_image.get()) {
        this._current_reference.set(this.reference_image.get());
        if (this._children[this._current_reference] != null) {
          this._current_img = this._children[this._current_reference]._name.get();
          return this._children[this._current_reference]._file.load(function(res, err) {
            var test;
            test = new Img(res);
            _this.img = test;
            return info.cm.origin();
          });
        }
      }
    }
  };

  ImgDirectorySetItem.prototype.sub_canvas_items = function() {
    return [this.img];
  };

  return ImgDirectorySetItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var SessionItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SessionItem = (function(_super) {

  __extends(SessionItem, _super);

  function SessionItem(name, app_data) {
    SessionItem.__super__.constructor.call(this);
    this.add_attr({
      _selected_tree_items: new Lst,
      _visible_tree_items: new Model,
      _closed_tree_items: new Lst,
      _selected_canvas_pan: new Lst,
      _last_canvas_pan: new Str,
      _modules: new Lst,
      time: (app_data != null ? app_data.time : void 0) || new ConstrainedVal(0, {
        min: 0,
        max: 20,
        div: 0
      })
    });
    this._name._set(name);
    this._ico._set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAAlwSFlzAABuugAAbroB1t6xFwAAAAd0SU1FB9kKFg0RBwNC0kUAAAEsUExURQAAAAAAAAgICAAAAAAAAAAAAAAAAAAAAAAAAAAAADiB2SNtwjqC2S51yDqD2TZ8zjqD2T6D1DyE20aJ2P///wBMowJOqAJPqA9YqhBguhhUnRlWnSJrvzmC2TmD3jqD2TqE3jx2vzyE20GH206Cw1CU5lCV5lCV6FSU4WmTy26Hpm+Wy3aNp3mp5n6SqX6VsX6t6Iiz65CdrZCu1JGw1pG67pS56pW56p69457C7aDD7a7L767N76/K7q/N77DQ97fQ77jS8bnU8bzV9L3W9MPY8sXZ88bZ8dDg9tnn9+Lj4+jp6evr6+vs7O3t7e3u7u7v7+/v7+/w8PDw8PHx8fHy8vLz8/Pz8/T09PT19fX19fb29vj4+Pn5+fr6+vv7+/z8/P//+v///v///158d/IAAAAVdFJOUwARHyorMzQ1Njf6+/v8/P39/f7+/prq3iMAAAABYktHRGNcvi2qAAAAq0lEQVQYGUXBPUoDARQE4Jl587KQEBRstRKCrY2tR/ACOZ+9rUextVFIa4z795LNEvw+AkpiVt0IA9zi4vUXvu/6tydSCuC6A7h8/n78siwK702GdGihSNuhl5tNa7UjwhYJoT/IImBLJM6sRWJN4iwdvB1qEE4KHIPB1aa964hJ5efiw+r3P3/EpJq9ZMUJMamIkJXZJGbKlLWMHTGrq0Z8GEhcVAVp4l/1R+7tLK9NVBYVAAAAAElFTkSuQmCC");
  }

  SessionItem.prototype.accept_child = function(ch) {
    return true;
  };

  return SessionItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var ImgSetItem,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ImgSetItem = (function(_super) {

  __extends(ImgSetItem, _super);

  function ImgSetItem(name) {
    if (name == null) {
      name = 'Image collection';
    }
    this.update_min_max = __bind(this.update_min_max, this);

    ImgSetItem.__super__.constructor.call(this);
    this._name.set(name);
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg==");
    this._viewable.set(true);
    this.visible = true;
  }

  ImgSetItem.prototype.accept_child = function(ch) {
    return ch instanceof ImgItem || ch instanceof RawVolume;
  };

  ImgSetItem.prototype.draw = function(info) {
    if ((info.time_ref._max != null) && info.time_ref._max.get() < this._children.length - 1) {
      info.time_ref._max.set(this._children.length - 1);
    }
    if (info.time_ref != null) {
      info.time_ref._div.set(Math.max(info.time_ref._max.get(), 1));
    }
    if (this._children[info.time] != null) {
      return this._children[info.time].draw(info);
    } else if (this._children[0] != null) {
      return this._children[0].draw(info);
    }
  };

  ImgSetItem.prototype.z_index = function() {
    if (this._children.length) {
      return this._children[0].z_index();
    }
    return 0;
  };

  ImgSetItem.prototype.update_min_max = function(x_min, x_max) {
    if (this._children[0] != null) {
      return this._children[0].update_min_max(x_min, x_max);
    }
  };

  ImgSetItem.prototype.anim_min_max = function() {
    return this._children.length;
  };

  return ImgSetItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var CollectionTreeItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

CollectionTreeItem = (function(_super) {

  __extends(CollectionTreeItem, _super);

  function CollectionTreeItem() {
    var _this = this;
    CollectionTreeItem.__super__.constructor.call(this);
    this.add_attr({
      _collection_size: 0,
      _incr_id_collection_child: 0
    });
    this.bind(function() {
      if (_this._collection_size.has_been_modified()) {
        return _this.change_collection();
      }
    });
  }

  CollectionTreeItem.prototype.display_suppl_context_actions = function(context_action) {};

  CollectionTreeItem.prototype.display_context_actions = function() {
    var contex_action,
      _this = this;
    contex_action = new Lst;
    contex_action.push(new TreeAppAction_Save);
    contex_action.push({
      txt: "add",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var item, items, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          _results.push(item._collection_size.set(item._collection_size.get() + 1));
        }
        return _results;
      }
    });
    contex_action.push({
      txt: "remove",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var item, items, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          if (item._collection_size.get() > 0) {
            _results.push(item._collection_size.set(item._collection_size.get() - 1));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.display_suppl_context_actions(contex_action);
    return contex_action;
  };

  CollectionTreeItem.prototype.ask_for_id_collection_child = function() {
    var id_child;
    id_child = parseInt(this._incr_id_collection_child);
    this._incr_id_collection_child.set(parseInt(this._incr_id_collection_child) + 1);
    return id_child;
  };

  CollectionTreeItem.prototype.remove_collection_item = function() {
    var size_splice;
    size_splice = this._children.length - this._collection_size;
    return this._children.splice(this._collection_size, size_splice);
  };

  CollectionTreeItem.prototype.add_collection_item = function() {
    var id_child, name_temp;
    id_child = this.ask_for_id_collection_child();
    name_temp = "child_" + id_child.toString();
    return this.add_child(new BoundaryConditionItem(name_temp, id_child, this._dim));
  };

  CollectionTreeItem.prototype.change_collection = function() {
    var num_c, size_child0_child, size_splice, _i, _ref, _results;
    size_splice = 0;
    if (this._children.length > this._collection_size) {
      return this.remove_collection_item();
    } else {
      size_child0_child = this._children.length;
      _results = [];
      for (num_c = _i = size_child0_child, _ref = this._collection_size; size_child0_child <= _ref ? _i < _ref : _i > _ref; num_c = size_child0_child <= _ref ? ++_i : --_i) {
        _results.push(this.add_collection_item());
      }
      return _results;
    }
  };

  return CollectionTreeItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var FileItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

FileItem = (function(_super) {

  __extends(FileItem, _super);

  function FileItem(file) {
    FileItem.__super__.constructor.call(this);
    if (file != null) {
      this.add_attr({
        _file: file,
        _ptr: file._ptr
      });
      this._name.set(file.name);
      this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHnSURBVHjabVPLbtNAFD1+TyRUxyGJQWnjbvgASHfAF1Qs+g18BT/BL8CCJbBEahbtD6QPsijLuipgucFOUrVqm+AO947VUXF9rCPdmbln5t4zHkNKiSoMAgD3bogSkklY0DKvLXlg14jF0dGPqd/0BcU0NnlO0TQNjMfjkz9ZFuVZdk1zQbUCTox+J0l8eytJwMIaAjAtC60gWLfxECS0sLs7hEVJLLgPPrAoCmxuvgGjbgOlOZucgc+qLjAkfZZpqim7xjRvNBphONyG7wd4HLTgODa8hoDnuVjcLDCbz2GUG8Bm0w4Pv0873c5/pn388El5sL+3h8HGBn6enuLL189ot9twXZcr0C2E3bAr2LSyQnmvX+DFYKCCfhTBJNHaWh95nnGsUuw70578eg/DcoBK36rjYonzZ+8QNAOEYUgtOaTRFZDOorIvT8Al1MGQpWm93ipevXytbiJN0yWAnBXrWZ4ft771AcsjCmIDCsUV8Zp4g8utFKu93lshRErXKAkHk8kksfX1/L0oWQ9VwWw22yFhjBK6Bcn9aDwiNlhBLIhXxAto01CBDZSL0vFhiDnQBLBCdIkL4jnHTW1a3QY53fEy2kocUz8a/YD07xvHsTKtxmDJiU8BPNfP9yEk8YByE1TwD/10s5+5ubutAAAAAElFTkSuQmCC");
    }
  }

  return FileItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var RawVolume,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

RawVolume = (function(_super) {

  __extends(RawVolume, _super);

  function RawVolume() {
    RawVolume.__super__.constructor.call(this);
    this.add_attr({
      scalar_type: new Choice(0, ["PI8", "SI8", "PI16", "SI16", "PI32", "SI32", "FP32", "FP64"]),
      endianness: new Choice(0, ["LittleEndian", "BigEndian"]),
      img_size: [0, 0, 0],
      min_val: new ConstrainedVal(0, {
        min: 0,
        max: 255,
        div: 255
      }),
      max_val: new ConstrainedVal(255, {
        min: 0,
        max: 255,
        div: 255
      })
    });
    this._name.set("Raw volume");
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg==");
    this._viewable.set(true);
  }

  RawVolume.prototype.update_min_max = function(x_min, x_max) {
    var d, _i, _results;
    _results = [];
    for (d = _i = 0; _i < 3; d = ++_i) {
      x_min[d] = Math.min(x_min[d], 0);
      _results.push(x_max[d] = Math.max(x_max[d], this.img_size[d].get()));
    }
    return _results;
  };

  return RawVolume;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var ViewItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ViewItem = (function(_super) {

  __extends(ViewItem, _super);

  function ViewItem(app_data, panel_id, cam) {
    var _this = this;
    this.app_data = app_data;
    if (cam == null) {
      cam = new Cam;
    }
    ViewItem.__super__.constructor.call(this);
    this.add_attr({
      background: new Background,
      cam: cam,
      axes: new Axes,
      _panel_id: panel_id,
      _repr: ""
    });
    this._buff = new Image;
    this._buff.onload = function() {
      return _this._signal_change();
    };
    this.bind(function() {
      if ((_this._repr != null) && _this._repr.has_been_modified()) {
        return _this._buff.src = _this._repr.get();
      }
    });
    this._name.set("View");
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHnSURBVHjabVPLbtNAFD1+TyRUxyGJQWnjbvgASHfAF1Qs+g18BT/BL8CCJbBEahbtD6QPsijLuipgucFOUrVqm+AO947VUXF9rCPdmbln5t4zHkNKiSoMAgD3bogSkklY0DKvLXlg14jF0dGPqd/0BcU0NnlO0TQNjMfjkz9ZFuVZdk1zQbUCTox+J0l8eytJwMIaAjAtC60gWLfxECS0sLs7hEVJLLgPPrAoCmxuvgGjbgOlOZucgc+qLjAkfZZpqim7xjRvNBphONyG7wd4HLTgODa8hoDnuVjcLDCbz2GUG8Bm0w4Pv0873c5/pn388El5sL+3h8HGBn6enuLL189ot9twXZcr0C2E3bAr2LSyQnmvX+DFYKCCfhTBJNHaWh95nnGsUuw70578eg/DcoBK36rjYonzZ+8QNAOEYUgtOaTRFZDOorIvT8Al1MGQpWm93ipevXytbiJN0yWAnBXrWZ4ft771AcsjCmIDCsUV8Zp4g8utFKu93lshRErXKAkHk8kksfX1/L0oWQ9VwWw22yFhjBK6Bcn9aDwiNlhBLIhXxAto01CBDZSL0vFhiDnQBLBCdIkL4jnHTW1a3QY53fEy2kocUz8a/YD07xvHsTKtxmDJiU8BPNfP9yEk8YByE1TwD/10s5+5ubutAAAAAElFTkSuQmCC");
    this._date_tex = -1;
  }

  ViewItem.prototype.accept_child = function(ch) {};

  ViewItem.prototype.z_index = function() {
    return 1;
  };

  ViewItem.prototype.draw = function(info) {
    var fs, gl, ibuf, idx, initBuffer, ps, tbuf, txc, vbuf, vs, vtx, z;
    if (info.ctx_type === '2d') {
      return info.ctx.drawImage(this._buff, 0, 0);
    } else {
      if (this._buff.width) {
        vs = "                    attribute vec3 a_position;\n                    attribute vec2 textureCoords;\n                    varying vec2 texcoords;\n                    void main( void ) {\n                        texcoords = textureCoords;\n                        gl_Position = vec4( a_position, 1.0 );\n                    }\n                ";
        fs = "                    precision mediump float;\n                    varying vec2 texcoords;\n                    uniform sampler2D uSampler;\n                    void main( void ) {\n                        gl_FragColor = texture2D( uSampler, texcoords );\n                    }\n                ";
        gl = info.ctx;
        ps = info.cm.gl_prog(vs, fs);
        gl.useProgram(ps);
        ps.atexAttrib = gl.getAttribLocation(ps, "textureCoords");
        ps.aposAttrib = gl.getAttribLocation(ps, "a_position");
        if (this._date_tex < this._repr._date_last_modification) {
          this._date_tex = this._repr._date_last_modification;
          if (this.tex != null) {
            gl.deleteTexture(this.tex);
          }
          this.tex = gl.createTexture();
          gl.activeTexture(gl.TEXTURE0);
          gl.bindTexture(gl.TEXTURE_2D, this.tex);
          gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._buff);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        }
        gl.bindTexture(gl.TEXTURE_2D, this.tex);
        ps.samplerUniform = gl.getUniformLocation(ps, "uSampler");
        gl.uniform1i(ps.samplerUniform, 0);
        z = 1.0 - 1e-5;
        vtx = new Float32Array([-1.0, -1.0, z, 1.0, 1.0, z, 1.0, -1.0, z, -1.0, 1.0, z]);
        txc = new Float32Array([0, 0, 1, 1, 1, 0, 0, 1]);
        idx = new Uint16Array([0, 2, 3, 1]);
        initBuffer = function(glELEMENT_ARRAY_BUFFER, data) {
          var buf;
          buf = gl.createBuffer();
          gl.bindBuffer(glELEMENT_ARRAY_BUFFER, buf);
          gl.bufferData(glELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);
          return buf;
        };
        vbuf = initBuffer(gl.ARRAY_BUFFER, vtx);
        ibuf = initBuffer(gl.ELEMENT_ARRAY_BUFFER, idx);
        gl.vertexAttribPointer(ps.aposAttrib, 3, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(ps.aposAttrib);
        tbuf = initBuffer(gl.ARRAY_BUFFER, txc);
        gl.vertexAttribPointer(ps.atexAttrib, 2, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(ps.atexAttrib);
        gl.drawElements(gl.TRIANGLE_STRIP, 4, gl.UNSIGNED_SHORT, 0);
        gl.disableVertexAttribArray(ps.aposAttrib);
        gl.disableVertexAttribArray(ps.atexAttrib);
        gl.bindBuffer(gl.ARRAY_BUFFER, null);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
        gl.bindTexture(gl.TEXTURE_2D, null);
        gl.deleteBuffer(tbuf);
        gl.deleteBuffer(ibuf);
        return gl.deleteBuffer(vbuf);
      }
    }
  };

  ViewItem.prototype.sub_canvas_items = function() {
    return [this.background, this.axes];
  };

  return ViewItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var ImgItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ImgItem = (function(_super) {

  __extends(ImgItem, _super);

  function ImgItem(file, app) {
    ImgItem.__super__.constructor.call(this);
    this.add_attr({
      img: new Img(file, app)
    });
    if (file instanceof Str) {
      this._name.set(file.replace(/^.*\//, ""));
    } else {
      this._name.set("image");
    }
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADPUlEQVR42o2TW0zbBRSH/yVqvMTJhhHxQVejCWCmARfmNLtoMuPmbYRscSrRGiZM0AgEsWVrGWNUS2lgY5YNV1scZYO1hTBu1TJcAccYvcGmDKdhTEQuLYjrqD58/tfgDIkm/pIvJ+fhfA8n5whibhNZKSL9n6wQFpPyzFMRN+qq4IUFJtv8TLUHRPxM/gdTHQFGzlz+SZyJ3p+X87wifWerIBEkCaON4+gfNqF7xIAlroOTce3/Tmw7o03jvL0t5aBGnh/K2Pry+rDgYt1l5MvUZEcWUXGviXKRcI0y/k24r4gyYZRX83GajHdf2VIgLCYBwD8XYG5+jlmR/mY3HscQwVCQ66HrLPyxQOjPEA01RgrS08hIftWydc1qyVLBbIDpaT8z0zMc2HIUg6yOa8EgwWu/c3X4LFWaYva+n8W+92Rkpm5+MTYuXlgiGPaM0JLZySnVV5THGqhcXcOI+zyDbaUcULzDpx/lody1E1P1IVqMit86DNkblwguDf6Ado0e00obhgct1K77HNfJQkyaHMqVu1FmyHC3avE5zVzqNeBuUk1WKnfE3BQEZmeplzdiibfTsLae/uNKLFUFVBYVotol46y1iCnPF/zqMTDUFMvpw/HUqneUhAUzo3569/fTsu40tlV2nBV7cVjLOKzVUJCWitOcx1h3KT+e0XLRoWO4Mwm7PgqzJtUh3CLc+mS3+lvqkqx8knSQss0l6HVy+vr6qDEepb5Mhq95D762Qs7ZlAx+fYhvTNn0mD+kpvi15ht3kDj63RhdVifnewcwGr/kypUxOru6KM7fwxHV69RV5lBTpab7xG5OPZtExoq7OXc8l9w31qbf3MHExDhDF4YIBAL8MjGBXJGPw9FJre4Dehu1fN9jxmtV4Ny+iZz7IinJfK77/uV33RkWzM/P43a78PncXP15DJu1gVJ1IQMDA1RXpJHWksJbug14bUpxudnsS1/f89hD9zywbZkQzhMAXq9XxI1v0MOxY7W4XC78/gCF2jd5NDeGmBeW85k8mdYTeiIihMRI4Z/cLvK4VCrdYLd32LOyMlVinyzytEQiJKSnJMi3vxTn2pgYXSWNvmOTRPze8Mxi/gKHPkiflBBh7wAAAABJRU5ErkJggg==");
    this._viewable.set(true);
  }

  ImgItem.prototype.accept_child = function(ch) {
    return false;
  };

  ImgItem.prototype.sub_canvas_items = function() {
    return [this.img];
  };

  ImgItem.prototype.z_index = function() {
    return this.img.z_index();
  };

  ImgItem.prototype.update_min_max = function(x_min, x_max) {
    return this.img.update_min_max(x_min, x_max);
  };

  ImgItem.prototype.get_file_info = function(info) {
    info.model_type = "Img";
    return info.icon = "picture";
  };

  return ImgItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var TreeItem_Computable,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeItem_Computable = (function(_super) {

  __extends(TreeItem_Computable, _super);

  function TreeItem_Computable() {
    var _this = this;
    TreeItem_Computable.__super__.constructor.call(this);
    this.add_attr({
      _computation_req_date: 1,
      _computation_rep_date: 0,
      _computation_mode: 0,
      _ready_state: true,
      _computation_state: false,
      _pending_state: false,
      _processing_state: false,
      _finish_state: false,
      _stop_state: false,
      _sc_nb_proc: 1,
      _messages: [],
      auto_compute: false
    });
    this.bind(function() {
      if (_this.auto_compute.has_been_modified()) {
        _this._computation_mode.set(_this.auto_compute.get() * 2);
      } else if (_this._computation_mode.has_been_modified()) {
        _this.auto_compute.set(_this._computation_mode.get());
      }
      if (_this.real_change()) {
        if (_this._computation_req_date.has_been_modified()) {
          return;
        }
        if (_this._computation_rep_date.has_been_modified()) {
          return;
        }
        return _this._computation_req_date.add(1);
      }
    });
  }

  TreeItem_Computable.prototype.cosmetic_attribute = function(name) {
    return name === "_ready_state" || name === "_pending_state" || name === "_processing_state" || name === "_finish_state" || name === "_computation_req_date" || name === "_computation_rep_date" || name === "_computation_mode" || name === "_computation_state" || name === "_stop_state" || name === "_messages" || name === "auto_compute";
  };

  TreeItem_Computable.prototype.nothing_to_do = function() {
    return this._computation_req_date.get() === this._computation_rep_date.get();
  };

  TreeItem_Computable.prototype.manual_mode = function() {
    return this._computation_mode.get();
  };

  TreeItem_Computable.prototype.do_it = function() {
    return TreeItem_Computable._do_it_rec(this);
  };

  TreeItem_Computable._do_it_rec = function(obj) {
    var c, _i, _len, _ref, _results;
    if (obj instanceof TreeItem_Computable) {
      obj._computation_state.set(true);
      obj._stop_state.set(false);
    }
    _ref = obj._children;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      c = _ref[_i];
      _results.push(TreeItem_Computable._do_it_rec(c));
    }
    return _results;
  };

  TreeItem_Computable.prototype.stop_it = function() {
    return TreeItem_Computable._stop_it_rec(this);
  };

  TreeItem_Computable._stop_it_rec = function(obj) {
    var c, _i, _len, _ref, _results;
    if (obj instanceof TreeItem_Computable) {
      obj._computation_state.set(false);
      obj._computation_mode.set(false);
      obj._stop_state.set(true);
    }
    _ref = obj._children;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      c = _ref[_i];
      _results.push(TreeItem_Computable._stop_it_rec(c));
    }
    return _results;
  };

  return TreeItem_Computable;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var DisplaySettingsItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

DisplaySettingsItem = (function(_super) {

  __extends(DisplaySettingsItem, _super);

  function DisplaySettingsItem(layout_manager_data) {
    var _this = this;
    if (layout_manager_data == null) {
      layout_manager_data = {};
    }
    DisplaySettingsItem.__super__.constructor.call(this);
    this.add_attr({
      theme: new Theme,
      _layout: new LayoutManagerData(layout_manager_data)
    });
    this._name._set("Display settings");
    this._ico._set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAADdgAAA3YBfdWCzAAAAAd0SU1FB9oBEAMpLRHXlgEAAAQbSURBVDgRARAE7/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADNzdEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAc3N0bcCAgNIAAD/AAAAAAAAAAEABAQEwS0tKEDT09fA+/v7PwAAAAAAAAEAAQEAAAAAAAAAAAAAAAABAP7+/bgE+fn5SC0tKQD7+/sA/Pz8APz8/ADl5ek/AAAAAPb29z82NjEA+vr6APv7+wD+/v4A/v7+AP7+/gD///4A2dnfSAT19fYAAwMCAPr6/wAEBAQAAQEAAPT09QAAAAAA9fX0AAAAAAABAQEAAAAAAAEBAQD///8AAgICAP//AQD29vUAAvb29gAHBwcABQUFANLS0gAHBwgA9vb2AAAAAAD19fYAAAAAAAMDAwAHBwcA0tLSAAYGBgDQ0NAABQUEAPb29gAE9vb2AAICAwAMDAwAOjo6AP7+/AD29vYAAAAAAPf39wAAAAAAAgICAAICAgA6OjoA+/v7ADo6OQD9/fwA9vb3AAT8/Py4oKClSAEBAAAAAAEAAAAAAAkJCMEAAAAA///+xqCgpToAAAAAAAAAAAAAAAABAQEAAAAAAAAAAQADAwG9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzc3RtwEBAUgAAAAAAAAAAAAAAQABAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABAQAA/f38uAT4+PhIOjo2AP39/QD8/PwA/Pz7AP39/gD///8A/v7+AP7+/gD+/v0A+/v8AP7+/gD+/vwAAAABAAAAAQDm5upIBPb29gAAAAAAAAAAAP///wAAAAEA////AP7+/gD+/v4A////AAEBAgACAgIAAQEBAP7+/gAAAAAAAAAAAPb29gAC9vb3AAAAAAACAgIABAQEAAICAgADAwMAAQEBAAICAgAFBQUA09PTAAcHBwDU1NQABwcHANTU1AAEBAMA9vb3AAT39/cAAAAAAAEBAQAEBAQABAQEAP7+/QD8/PwA/f3+AP///gA3NzYA/Pz8ADY2NgD7+/sANTU1APz8+wD39/cAAaWlqbf8/P1IAAD/AAAAAAAAAAEAAAAAAAAAAAABAQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgIBAAAAAbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFy8/azHbCOEAAAAAElFTkSuQmCC");
    this._layout.bind(function() {
      var l, view_item, _i, _len, _ref, _ref1, _results;
      l = _this._layout.panel_id_of_term_panels();
      _ref = _this._children;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        view_item = _ref[_i];
        if (view_item instanceof ViewItem) {
          if (_ref1 = view_item._panel_id.get(), __indexOf.call(l, _ref1) < 0) {
            _results.push(_this.rem_child(view_item));
          } else {
            _results.push(void 0);
          }
        }
      }
      return _results;
    });
    this._layout.allow_destruction = function(data) {
      return _this._layout.panel_id_of_term_panels().length >= 4;
    };
  }

  DisplaySettingsItem.prototype.accept_child = function(ch) {
    return ch instanceof ViewItem;
  };

  DisplaySettingsItem.prototype.z_index = function() {};

  return DisplaySettingsItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var ShootingItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

ShootingItem = (function(_super) {

  __extends(ShootingItem, _super);

  function ShootingItem(app, panel_id) {
    var lst_view;
    this.app = app;
    this.panel_id = panel_id;
    ShootingItem.__super__.constructor.call(this);
    lst_view = new Lst;
    this.add_attr({
      view: new Choice(0, lst_view),
      cam: new Cam
    });
    this.add_attr({
      _cam_representation: new CamRepresentation(this.cam)
    });
    this._name.set("Shooting informations");
    this._ico.set("data:image/png;base64,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");
    this._viewable.set(true);
    this.add_child(new ImgSetItem);
  }

  ShootingItem.prototype.accept_child = function(ch) {
    return ch instanceof ImgItem || ch instanceof ImgSetItem || ch instanceof SketchItem || ch instanceof TransformItem;
  };

  ShootingItem.prototype.sub_canvas_items = function() {
    return [this._cam_representation];
  };

  ShootingItem.prototype.z_index = function() {
    return 0.1;
  };

  ShootingItem.prototype.draw = function(info) {
    var c, _i, _len, _ref;
    info.shoot_cam = this.cam;
    _ref = this._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      c = _ref[_i];
      c.draw(info);
    }
    if (this.cam === info.cam) {
      info.ctx.beginPath();
      info.ctx.fillStyle = "white";
      info.ctx.font = "10px Arial";
      info.ctx.textBaseline = 'top';
      info.ctx.textAlign = 'right';
      info.ctx.fillText("Shooting Cam " + this.cam.model_id, info.w - 10, 10);
    }
    return delete info.shoot_cam;
  };

  return ShootingItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var TreeItem_Automatic,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeItem_Automatic = (function(_super) {

  __extends(TreeItem_Automatic, _super);

  function TreeItem_Automatic() {
    var _this = this;
    TreeItem_Automatic.__super__.constructor.call(this);
    this.add_attr({
      _req_date: 1,
      _rep_date: 0,
      _messages: []
    });
    this.bind(function() {
      if (_this.has_been_directly_modified()) {
        console.log("automatic TreeItem has been modified");
        if (_this._req_date.has_been_modified()) {
          return;
        }
        if (_this._rep_date.has_been_modified()) {
          return;
        }
        return _this._req_date.add(1);
      }
    });
  }

  TreeItem_Automatic.prototype.cosmetic_attribute = function(name) {
    return name === "_rep_date" || name === "_messages";
  };

  TreeItem_Automatic.prototype.nothing_to_do = function() {
    return this._req_date.get() === this._rep_date.get();
  };

  return TreeItem_Automatic;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var DeskData,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

DeskData = (function(_super) {

  __extends(DeskData, _super);

  function DeskData(config) {
    DeskData.__super__.constructor.call(this);
    this.add_attr({
      config: config
    });
    this.add_attr({
      list_desk_items: this.config.list_desk_items,
      selected_list_desk_items: this.config.selected_list_desk_items
    });
    this.layout = new LayoutManagerData({
      sep_norm: 0,
      children: [
        {
          sep_norm: 1,
          children: [
            {
              panel_id: "DeskListView",
              immortal: true
            }, {
              panel_id: "MessageListView",
              immortal: true
            }
          ]
        }, {
          panel_id: "DeskNavigatorView",
          strength: 3
        }
      ]
    });
  }

  return DeskData;

})(Model);
// Generated by CoffeeScript 1.4.0
var DeskConfig,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

DeskConfig = (function(_super) {

  __extends(DeskConfig, _super);

  function DeskConfig() {
    DeskConfig.__super__.constructor.call(this);
    this.add_attr({
      name: "configuration desk",
      list_desk_items: new Lst,
      selected_list_desk_items: new Lst,
      account: new UserModel,
      list_contact: new Lst,
      selected_organisation: new Lst,
      selected_site: new Lst
    });
    this.list_desk_items.push(new DeskItem("Files", "Files"));
    this.list_desk_items.push(new DeskItem("Projects", "Projects"));
    this.list_desk_items.push(new DeskItem("Organisations", "Organisations"));
    this.list_desk_items.push(new DeskItem("Sites", "Sites"));
    this.selected_list_desk_items.push(this.list_desk_items[0]);
  }

  return DeskConfig;

})(Model);
// Generated by CoffeeScript 1.4.0
var DeskItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

DeskItem = (function(_super) {

  __extends(DeskItem, _super);

  function DeskItem(name, ref) {
    if (ref == null) {
      ref = "";
    }
    DeskItem.__super__.constructor.call(this);
    this.add_attr({
      _ico: "",
      _name: "",
      _ref: "",
      _context_actions: new Lst
    });
    this._name._set(name);
    this._ref._set(ref);
  }

  DeskItem.prototype.to_string = function() {
    return this._name.get();
  };

  return DeskItem;

})(Model);
// Generated by CoffeeScript 1.4.0
var AdminDeskConfig,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

AdminDeskConfig = (function(_super) {

  __extends(AdminDeskConfig, _super);

  function AdminDeskConfig() {
    AdminDeskConfig.__super__.constructor.call(this);
    this.add_attr({
      name: "configuration desk",
      list_desk_items: new Lst,
      selected_list_desk_items: new Lst,
      account: new UserModel,
      list_contact: new Lst,
      selected_organisation: new Lst
    });
    this.list_desk_items.push(new DeskItem("Files", "Files"));
    this.selected_list_desk_items.push(this.list_desk_items[0]);
  }

  return AdminDeskConfig;

})(Model);
// Generated by CoffeeScript 1.4.0
var AdminDeskData,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

AdminDeskData = (function(_super) {

  __extends(AdminDeskData, _super);

  function AdminDeskData(config) {
    AdminDeskData.__super__.constructor.call(this);
    this.add_attr({
      config: config
    });
    this.add_attr({
      list_desk_items: this.config.list_desk_items,
      selected_list_desk_items: this.config.selected_list_desk_items
    });
    this.layout = new LayoutManagerData({
      sep_norm: 0,
      children: [
        {
          panel_id: "DeskListView",
          immortal: true
        }, {
          panel_id: "AdminDeskNavigatorView",
          strength: 3
        }
      ]
    });
  }

  return AdminDeskData;

})(Model);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_ScillsAssembly,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_ScillsAssembly = (function(_super) {

  __extends(TreeAppModule_ScillsAssembly, _super);

  function TreeAppModule_ScillsAssembly() {
    this.add_ass = __bind(this.add_ass, this);

    var _this = this;
    TreeAppModule_ScillsAssembly.__super__.constructor.call(this);
    this.name = 'Assemblage';
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB9sMEA86KDqEzWwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAADE0lEQVQ4y83SzWtcVRiA8ee855x77p07M51JYpJJ0zaprcSPWkVUUDBuCiIIbgouBIuuVAiCuBFc6V50Iy5EhKzMUqSIiB8IVQzUYjV+RI2xtcaZtJNJZjI3995zXASkuHHr7w94Vo/igefUgYMzukwn7U4+klAWCUncZLg7gS9TnD1PFjr01jLee8YD0JyBa2tcT/Hoa0eQ6jz1aXBJC6mkmKhEhRKPp8hiCGsk1XXG5y4Stv/ixYbnXwz11hjWPcSgs4Yf7ZK6HkppxAagpMyG/PFdc/TrxamTw9X5vW578XP4ATHgi+tCxgSimuAaTfqbNdbXNlj5aufA71/Ye/OfDrV0Xk90iPY8frOQ3srIiQnufuoKHyz0MEChgIAhdhA5TdBCfSrm1/Ojj//y1vFSazOM0nAxTJbf+1bRV6mnlla455FTHJq7kzMf/Uk2+IxieJWl05nB2v0QVlF4RZRKBuGT6IRt147HBIZoFxAruNiTjgluxCK7MwjH2C0uwX1nDfhAJBqJFZkXtBMB5dMRzfRsg/blba5tDtBJyW7Ps/GjIo1q2CSCgcX6wzx4pm7ItgKNRoxtarwXtNEGJIgEogRGDznqY47Vc0OO3p5wcFpRrfURARUrKC21oAymv0XWVVSaKbnN0KIERIkWoljIvSIExfhslWbL4iqCSzRKe0QpylJhEi90L6+TdV9lsOEod1JUaQCrBI22gmhNwBLKmLRaIakrbBywTmETMFZwDsPiSyVwlideb9O46XnyHZtDFMQ7YnH4WHHDuOLmuQ7Tt3WwTjCxRicFlApBEIMB4NZT8M7CMk++uUB75dkNqHbHplJO3lFlZG6V7UHO+gXQev96G3tsJBQFlENDKNV+6NsP4ekleON0G3jl44nDwvzD95OaSfa6CXuFBu9RCBIEh8EUgbCnyfsJg47V/zy+vASVWyBve/pbJZd6v3Hs6BVKfxdFWaG/mVOtJlhviIo6eXeMrauK7c4m5758X/FfHnu5RTL7AjvtI7RurKKokW9dQLl3GQw2WP70Z755O+N/52+TwivYzOcwDgAAAABJRU5ErkJggg==",
      txt: "Assembly",
      siz: 1,
      fun: function(evt, app) {
        var m;
        app.undo_manager.snapshot();
        return m = _this.add_item_depending_selected_tree(app.data, ScillsAssemblyComputeItem);
      }
    });
  }

  TreeAppModule_ScillsAssembly.prototype.add_ass = function(app_data) {
    var m;
    m = this.add_item_depending_selected_tree(app_data, ScillsAssemblyComputeItem);
    return app_data.watch_item(m);
  };

  return TreeAppModule_ScillsAssembly;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Transform,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Transform = (function(_super) {

  __extends(TreeAppModule_Transform, _super);

  function TreeAppModule_Transform() {
    var transf,
      _this = this;
    TreeAppModule_Transform.__super__.constructor.call(this);
    transf = '';
    this.name = 'Transformation';
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 2,
      txt: "Start making transformation",
      fun: function(evt, app) {
        var selected_items;
        app.undo_manager.snapshot();
        selected_items = app.data.get_selected_tree_items();
        transf = _this.add_item_depending_selected_tree(app.data, TransformItem);
        return _this.child_in_selected(app, TransformItem, selected_items, transf);
      }
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAK8AAACvABQqw0mAAAAAd0SU1FB9sKDQwVD6LnhNEAAASLSURBVEjHrZZvTFVlHMc/z7kHLwSigX9ucSVRYzJlEIkWznA6061lNbe25hJX03rVm1LeueqlvGiUtmU1kNUcmw51leWfEaENUC5TGcKFyxUu7IIX5B65h3vPPfecpxdenJps6Hi258Xz237f776/v49gFqelpQVg3tDQ0B7btjP8fn9jZWXldebyXL58ud3j8ciWlhZ55swZWVhYuGU2fspsCZxOZ9ratWsZHx+nr6+PcDhcAjjmjMAwjJht2wghUBQFwzCsOVWQSCRiD7/j8bgFyDkjME3TEEI8TvBsCi5cuPA/Wzwejz4WsmdXsG3bNhoaGk6fOHGi/9ChQ9sBzERCf1iBZVmmqqoSoKam5ukI6uvr9+Xm5r6TmZm5fNWqVX/++F3VyZux7E0pio0qJEEjhQMHK99LJBKpAL29veW1tbU/NTc3T1VVVTUBz01jqU8imJycjLjdbrKysggN3eZIcPMuFiyTh69Z+Ixiflm4lagZeeubH9b4NhS+vNTtznE4nU5GR0cpKCh4Izc39/3BwcFaZqrjs2fPdmqaZhUXF2/pTi+S3li22JiNmCcUfMZ8BmIqUzGDrntL5n9WYisDwyP4/X4CgQChUIjz5893TE1NXQHsGRvF4/H8o04Gh7/nzZ3LMtNZnApxGwZ08OmSWCTGvVGdl2I35MTooAgEApHGxsaumpqa+lAo1Aj0AojHgY8dO5ZpmmZFfn7+3hdcS0tezHHLPc3pYp6SgiUFvRHoGk9QZPpINSW7F/jGjnz5+UnvSM8VoI00gkSZnMYTx48fx+VyZQ4PD3+Ul5e3Nzs7uygnJ4doNCo1TRORiE5jKJWvRgpxCJtIzKI8bYxvV/eQomaxses1Nq8owzYkHr+HwP7wSqD/QZIrKipoaGgI7NixI9M0TalpGl6vF13Xha7r6HqEwbsLZVRzC4QNUYOP31ZJW+gmw5FOqbuIV9dkgCW5PuIAKH2EAMC27XggELDD4bByH1SXuq4LgO6uzs5QdvlKxu+mIQ2KclLoGXDx4bolIMHqs0AKBAqxeIxLv17atXX31voHIQI4evRoXVlZ2QdNTU2qqqpEIpHg1atX+06dOnURaF+8KEv7ZP+nP6/e+UV+RjRKRf8y1ueuw7YkG1eUoi4IgC245QvLO6GocMo0OnwdBA9MrlABWltbDzocjk1er3fy3LlzzX6/vx34Nyk1Hhq7i2Gap3dveP7g7Vsa6+OllJe4QApsK4C0BYlEguVup3C7FKRtc2NUAShVAerq6kbq6upeB3KBHkB70sR+oDkBWBKBAklwy7JQUFBwAGK6POXDnTySvDNN0yS+oLG7lb6JRSBhQ16BzHOnCgWF39puygktKmRCci9szDwqZtgHJkBgLMDvK/+Kbn93+2Ggfc1v4mzCZaLgYEKLisF9E18DXYBAoXvWBA6HIxIMBtE0jYt/XwwDbcAftgHStgGBTEiS4PeryH4KBdXV1dXt7e2LpZSvtLW1XRNCdEop6ejv4MYdBQHTYXlkOoin/FyogDOZZiNpy0s2l0wugG5sbk47/Ac2qkKdNNH1igAAAABJRU5ErkJggg==",
      siz: 1,
      txt: "Add a transformation node",
      fun: function(evt, app) {
        var canvas, p, p_cur, pos_x, pos_y, selected_items, trans, _i, _len, _ref, _results;
        app.undo_manager.snapshot();
        canvas = app.selected_canvas_inst()[0].div;
        if (evt.clientY < get_top(canvas)) {
          p = [0, 0, 0];
        } else {
          pos_x = evt.clientX - get_left(canvas);
          pos_y = evt.clientY - get_top(canvas);
          p = app.selected_canvas_inst()[0].cm.cam_info.sc_2_rw.pos(pos_x, pos_y);
        }
        selected_items = app.data.get_selected_tree_items();
        transf = _this.add_item_depending_selected_tree(app.data, TransformItem);
        _this.child_in_selected(app, TransformItem, selected_items, transf);
        _ref = app.data.get_selected_tree_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          transf = _ref[_i];
          if (!(transf instanceof TransformItem)) {
            continue;
          }
          trans = [0, 0, 0];
          p_cur = p;
          if (transf.transform.cur_points.length >= 1) {
            trans = Vec_3.sub(transf.transform.cur_points[0].pos, transf.transform.old_points[0].pos);
            p_cur = Vec_3.sub(p, trans);
          }
          transf.transform.cur_points.push(p);
          _results.push(transf.transform.old_points.push(p_cur));
        }
        return _results;
      }
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAK8AAACvABQqw0mAAAAAd0SU1FB9sKDQwVNWTrXWMAAAURSURBVEjHrZZpbFRVFMd/d5ZO95bWtqjDFLSAA4w0NUikUHCpGwlqjIREEf2gBkiMkiguCFGiIRJDggtpUds0RlIlbG7Yqo1QtEKdymLtNkyZKQzjTKfTdmb63ps37/oFSGVJ0HC+nZN7zy//c885uYKrsLa2NoC0gYGBJw3DyPZ6vS1r1649yrW01tbW391ut2xra5N79+6VLpfrrqu5Z7pagM1my5g1axaDg4P09fURjUYrAPM1A6iqqhiGgRACk8mEqqqpa6pA13VlvK9pWgqQ1wyQTCZVIcTFgP+noLm5+ZKYpmljF5Xs/yuorq5m9+7de3bs2HFy/fr19wEkdT0+XkEqlUpaLBYJUFdX998AjY2Nzzgcjodyc3Mnl5WV7d/+/uadx5XCBVaTgUVIAqqVl15e+4iu6+kAvb29C+vr6z8+ePBgYvPmzT8DmedzWS4HGB0djdntdgoKCggN9PNBYNGj5E2S77an8KjlfJZ/N2PJ2OItNTM9c11TS+z2G802m41gMIjT6axyOBxLfT5fPVfq43379p0YHh5OlZeX39WVNVv2KIWishCRJkx41BxOKRYSikrnSHHO8xWG6dTps3i9Xvx+P6FQiKampo5EInEIMK44KG63+4BlNHD6Q+5dMik3i6J00Aw4FQdPXKLEFEaCcUqVY3Io6BN+vz/W0tLSWVdX1xgKhVqAXgABoEyD9B7ov47J7m87TGfbf108derUp+wOR0VJ+Ix8US4S0YgEBL0x6BzUmZ300NOvskR8/3fH/k/293R3/wa0A51A7F9vYNR8NS/46lMfk2l23ho6RdXSpehmiwyuXk4i0Cqe1yZS+8wuGpLTGNNSLMwKs/WWAKfLhjjel5Gl3OL09HR3f3S5SpgBVrim95fckCzKKy4Rwc8bSTy8nNjb68QU2UGGyUZfVz8Hql7kWNCA6AgbF1iYUmBDmNPIy8m0Tp5ceueMGTOWSCl/9Pl8Q+MBAuBga2v45g1LC6+vmE78dBh3p4LLBfkWK83uAZIPrJGLE08IpAoyRbpmSPdrdpFnVWU4HBaRSIRoNCq9Xq/o6uraVFtbuw5IXVBQWbVw1sSYNrswOybTBMI+xUYmJo76hznSEerbEB6sWe2KT3zusfsKJyb6uI1fRP2WdT9XzJlb6nQ6kVIKq9WKqqoyLy9vgaZpGSdPnvwJkCaA/d98/Upk0YNDvkN/CfQk5lGF6MgYve4zsRfGaPSeOP6eltR3Pz53AounaRTbElpLa9v2ZcuWVTc0NERLS0ux2WwMDw8LIQSDg4M3AekXJnnlni/n5G5aKSbNu1miaZDUyTcZVE2fkP0qFAERKaVyvqa6rqeAuN/v/3HVqlXla9as+SUYDIq0tDR8Pl+8o6PjCKACWNpzebr0gbJPryvJl5yJinBCI99kYJY6xSU2+XLVhGftB4amaMXFiXF7yBi36Hzbtm27x+PxvJmTk3N/c3NzqxBij5RSB7CMJLkp3SwgMirOxjXZ1h7Qs1JGovqO4lySSZGXKXDaRfXh6PCf5wGGYaQAY1yzjDU1Nb0CbAUSQOTCHJhyTLdnZ5nlH31R4f0zHHshpO+S8EPNgbM1c2/NzjjsSYidA/JQpKc7HAgEZhqGgaIo8YsAnPMHLhmEjRm4vigy+1634QbeEjANYKag/A046oJaYAWQO3/+/HcqKyu/s1qtG4UQjv/yaZgE3AZkXRQvAgrGrXXzuTO2q038D3nPaAB9VJvTAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Remove a transformation node",
      fun: function(evt, app) {
        var cam_info, i, selected_point, _i, _len, _ref, _results;
        app.undo_manager.snapshot();
        cam_info = app.selected_canvas_inst()[0].cm.cam_info;
        _ref = app.data.get_selected_tree_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          transf = _ref[_i];
          if (transf instanceof TransformItem) {
            if (transf.transform.cur_points.length > 0) {
              selected_point = transf.transform._selected;
              if (selected_point.length > 0) {
                _results.push((function() {
                  var _j, _ref1, _results1;
                  _results1 = [];
                  for (i = _j = _ref1 = selected_point.length - 1; _ref1 <= 0 ? _j <= 0 : _j >= 0; i = _ref1 <= 0 ? ++_j : --_j) {
                    app.undo_manager.snapshot();
                    transf.transform.cur_points.splice(selected_point[i], 1);
                    _results1.push(transf.transform.old_points.splice(selected_point[i], 1));
                  }
                  return _results1;
                })());
              } else {
                _results.push(void 0);
              }
            } else {
              _results.push(void 0);
            }
          }
        }
        return _results;
      }
    });
  }

  return TreeAppModule_Transform;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Compute,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Compute = (function(_super) {

  __extends(TreeAppModule_Compute, _super);

  function TreeAppModule_Compute() {
    var _ina, _ina_auto, _ina_build, _ina_builded,
      _this = this;
    TreeAppModule_Compute.__super__.constructor.call(this);
    this.name = 'Compute';
    this.visible = true;
    _ina = function(app) {
      return app.data.focus.get() !== app.treeview.process_id;
    };
    _ina_build = function(app) {
      var cm, cs, el, _i, _len, _ref;
      if (app.treeview.flat != null) {
        _ref = app.treeview.flat;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (!(el.item instanceof TreeItem_Computable)) {
            continue;
          }
          cm = el.item._computation_mode.get();
          cs = el.item._computation_state.get();
          if (cm === false && cs === true) {
            return true;
          }
        }
      }
      return false;
    };
    _ina_builded = function(app) {
      var cm, cs, el, _i, _len, _ref;
      if (app.treeview.flat != null) {
        _ref = app.treeview.flat;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (!(el.item instanceof TreeItem_Computable)) {
            continue;
          }
          cm = el.item._computation_mode.get();
          cs = el.item._computation_state.get();
          if (cm === false && cs === false) {
            return true;
          } else if (cm === true) {
            return true;
          }
        }
      }
      return false;
    };
    _ina_auto = function(app) {
      var cm, cs, el, _i, _len, _ref;
      if (app.treeview.flat != null) {
        _ref = app.treeview.flat;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (!(el.item instanceof TreeItem_Computable)) {
            continue;
          }
          cm = el.item._computation_mode.get();
          cs = el.item._computation_state.get();
          if (cm === true) {
            return true;
          }
        }
      }
      return false;
    };
    this.actions.push({
      txt: "Manual Compute",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAt9JREFUeNrUVUtoE1EUPTNJ2tRk8k/a2hrTqhR101ooKC7cuWgpRMRKBevOTRUEa60LVyL4oYJ2484qCtXaLkRw70IUFRRdVGjaouQ/MWky+U7meSekEKSxSbGLDlzuu3PfO4d3f49jjGErP27bE/D1HrBOzLMtJQDd2Hp1jm0ZgRrSA52tsIy/ZP8lB5bx2X5SqvSS9LmanXB73MhEA/i+6Ef81kluUwTmK7NOUg/dLXZvq8sCh80El1XAQlBCIqfAoOORJpJvRJK4XZ1Euy742Iu9pN727Pe07OtshygVkJSBiF+ClqAKchE50oFEvpSTum5guvxcQ+p998GOXpujGemcjEBYRDQcgZRKweZ0orNjN3xLy4hFoli9e4qrK8lEOORpc/ZyRgdiaRmLvhUsL/repJLJIyqYGA4T+ApEItwIfP0QMTbMGy1I52WkxSjCwdDr5OTpgcoyFUMh0D9uU2XKoPQxTUMptCECInviL3/N4OvegELk5HmeksmQzaRVe6HSn5ocLoEbLj1tIJWrcOWle2caN240xiJcUYEsMzQ0NKp2V5WO6zILBngHjmHw+FHVjtWa5A+JxCry+SIEq0O1b1Tp6Ot6wYYvvji+/gio9qdaQzQjxWP9O4zUWA4X9Fx+sOni4zly3cncP/uO1odpPbbH3eblTHYC4BGMRtVzT2rqg6YL02offHS17uo2CCZYzAJ4OYml5V+I/U7AbjOjw9MORWeClCkgHvYjFPTPZx6MnKh5VOhHp0udbHPtbDFb7TAZ9XA7DNDSeFBkBT9jWaQzMmIEHg75g7S3Jzs1EqxrFulHH5VmkWCyes02B7SNBmh4DRSliGJOgihSZyfj87TnfHbqXKTqqKgQTTkna6LanG745iAn2IfAaw+B4+wUbJGu8ZklxZnCs2uvaI9SFrlCiuV/jCtX0hq4nkStZbXGdWXfv94MVgZTQfPlvsiV18USwbZ/9P8IMAC0w17AGcaBtQAAAABJRU5ErkJggg==",
      ina: _ina,
      fun: function(evt, app) {
        var el, _i, _len, _ref, _results;
        _ref = app.treeview.flat;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (el.item instanceof TreeItem_Computable) {
            _results.push(el.item._computation_mode.set(false));
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Build",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ04CWpsETwAAAPaSURBVEjH3VVdbBRVFP7u7s52+1/2tdL1kSYWlaiJ2u2PbWrxSUojRnlQqDWSQtUHjTHRmCBNMfxUTYxQwDT4Q5T2QQmltOzCVpBEXrrFl5ogjQXdtjPd2Z+Ze+7MXB+22y5uW+BRT/LN3Llz7v3mu+fMOcB/3dhaLy9FxlEXrMUPpwf9fr8/yBgrAQDHkUlNUyPtW9vUyPg4grW198c6ODQEADg3cr41Onl9Ymbmlvzr79gSbt2+LW/8cVNOXv9tYnTsQisAnB0+d28KRkZH0dLcjJ8vXwkFAlUNtu1IzjkDAMaW3aWUkBlj8/Pz4aeferJxZHQMLc1NqxOcHhzC1rYt+OXq1ZuVlQ9UxePxe1IspYSmadN1wdrAya+/wfaXX1pdQSh8MRQIBBpUTQNjDEY6jaLiYkDKNUkcx0EsNht+bvOzjSsq+Pa7U7Asq3XTpkfPxuM6GGNQVRWPPLwRExNRVKxbd1clpmkiFottltIZfnHbtnwFo2NjE77Coodsy2IAkEyl8ExDPaSUiEajiM3OobyiAo7j5EmXmYtU1fnJti3Pb8zOu7KDvXt7/G63pyaVTDHOCZwTBAkAgGVZqK6uxhOPP4akriOVTCHrkwVxAhExj0epOXDosD+PoLyiPCiEgBAEIg4iDiHojszx+Xyor6/D+vWVmJ2LQVgCfNE3C9uxUVRYGMyu8eRkQommLcCjLE2BFhUsBYwx2LaNQFUVHgwEcCEUhuNISCwngGVZEJZVkkdAgkBEcBxnyVkIWr0EMAbbtkDCQs7+sGwLRMvrlgmIknxR4jKpyMt3j8eDqakpjF++gtKyMsicD8oqIE7JPIIFbSFSWlKKgoKCHAUCOSEAEeHHn85gIa7Dq3jBDTNPmWEamJubi+QFeX9vj6on9CjnXHLi4ESgxSNSFAW/XruGE18NYCGuQ0oHnOhf4OCcy0QiET144BM1u687O/jgw49gGMYNF3NtBwNs20Y6lUb1hg0YGDiJP2dm4HK5YdsWbNteEWkjzRK6/kpjU9Pvly6GVy4V7773fqisrKwhezTpdBrFxcWQa5YKBikd6Loe7u3Zd0epcOU+7Orajd6ejxs1TZs2TQ4iAY9byfxIJPLBM3fTNKGq2nRvz77GXV271y7X3W++jb7DB9G1pzvk8xU2KIoiV2tMEpBCCMYN4/znn/W17Ol+C5/2Hbp7R3t1RwdOHO/Hzo7OVsXr3e/1KjUul3vJWQJwbBtEFBWC3jnWf3T4tdffwNEvv7i/lrmjoxPH+4+gvf0Fv6+oMMiQaZkSMpk2zMjg96fUnR2dONZ/BP9f+wfw8EzPD+V7OAAAAABJRU5ErkJggg==",
      ina: _ina_build,
      fun: function(evt, app) {
        var el, _i, _len, _ref, _results;
        _ref = app.treeview.flat;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (el.item instanceof TreeItem_Computable) {
            _results.push(el.item.do_it());
          }
        }
        return _results;
      },
      key: ["X"]
    });
    this.actions.push({
      txt: "Auto Compute",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAGDklEQVR42p1VaWxUVRg997771pky7cx0GZYW2kCVphZaCkUQwg6CQjBCQSMxigkBYzSKiRslSIzEQAygRJAE/7AZl0QEpYSwNCxpoYDSgmFrS0uhpS0tLdM3867fm1GsUP7w0pvXN+/dc77lfOey0NLD/oaN427jEdeT6y4ulpzPE4JPloqCYYO8uNTajQgYhCoqDJ0dEEIpKZ2W2NXbfpa25KBkijKlYcO40p4vsladXe+AL5tRlIx+yRaCPhWJmgJOwEkaR3+DoarVxsmmbhy8bsMU2HFwetKChwgCbx+TKmPgdveO+vXjFqS/f6IvGP9r8BNBa2hOEC22RJQBOufQFbqrClQBqJxhoKmg0CegM4lvLnei4gYRKSydsqm9T+B/q0yiMAtmXQtk7c1GK8FKzRjeF0iyCFTCEByGyilCIhCMCBg0ItPof04kQiEii2NMH47ylgjWnumAV/xHwnxLj0iZn4kEnUN0diMlQYPwqgTOCJjACFhQxB6K3OMS0VJdIoWD/qASgULfBujbIiKpaovgy3MdKHs2icUIEpYclrIgC15FwkM1Nqm+FgEYgupNJclN0TE2TUX9rTAaOrpR1RBGUtCE5lEwKNlDPZEQROCi+Yh8ciLDugt3ce6mHesJs944JOXITHgoGotAPRqDl4gYPS/N8+H8lVbsLmsENXybqotTmq4c4oLP5gp71/RoCRNGBBC0NDApaQ9DP9qfQwJ4razVLZXFzMUHJEYNhkkxuOl73QxoqVTnqQN1bN15EYrCV9auzi95UCH5W64upZcbZo5JhV/nsVJFCWeij2F3TReO1oXXMO3VUomiITBJSZbqLoUa6aqGsiDC5wabqKy8icrqtv3XVg2b+iDJiG9rVlh91JIXRqfSkwNGqae7OE4Un55ur2DKov3SGZkNlV66EvSZHBMyLRQEdDxFy6Soqpq7sGFPDe502BQwG3Dhg9y6niR5W661zp0Q8iXTMNyLOrh+J0qyt1FOsmV4aY/MKR6JolQVY1MN5Ph0lNe148yldpy+3Iqq6ubLlqX+Ylra3qurC/b1Nq0FW67u9CXp8yI0MJ0R53j5wr6j789B5vKjctzTGbGHs9VNsfv5sze2GYbY27p1yk485lX0U9Prpi7WMszccYeMZS5+Ky59XLDcTVfmS8ZnGF4xJz/d8hWk6SgMGPiquiMmX/he2ZtKSh5Oel6h9rGKVFNHd0d4142Nz8zvDXDIZ+em21KZQRWZlTckMbMww4MRaSZy/SpomEH2hDYJbKlsBdNf/FHytBTwkA9WgJZPg3rPRnvZhbbGzZMS/2eAJaf7Swe1/qCFd2YNQG7AhONI1IeBhrCDmm5XRe6UxxW57xwRiDnfl0cLhxZwv5ekCZpgmgdTReT4JaA7XNK4aeLKBzNI/7ji9xE5wSmTR4VwoslGH7ISocRtRCNwusGjC/x6qolK9PzOz1nf0HKZNxDMjsZckpoDPRKFU3HR1fWyW5snbXyI5MOKEoexFe+9nI0/70iS+D/gIu66FrnB/hjB7N0mbLuTTSNl0QeSRl7Qz7pBEdkOZOVlsEi0nQvlC8bEz47GxkPyfN2jLlo4LQMjswP4oaaTbIHHjM91XNcFPIaCAxU3402mLLYjEChmo7KBSIRIXC4Wi8o0VIjmDqRwB2rnXQzPDmJAyEJ6WgJONodRQ0Pl2osRs/N4Fm6pdUrjyH0C95q5XbLhQ4F+1FeaRjLJ2HKjMjRBy7VvJX7ouL8pcVsxqZmuA2tUEruTJp32hJINqBRc2cnGHgSzdw2AHalh+TlAfz9lEoWbisvjlkzTXMD4wRM/gFj8MHKjpyzvNraj7o8bIFE1Zg0LpeblBnHsSH0Pgn9JItEapKSA5WUiFq5DfaBdLOa2lBFZukXRm1Rjk94bpPuW6gaEmzo6uaEMrl1TVD/wo4rtXr+nmFOGDL1dbk/saDEy+oOFKJsQlY1IXAFoJEedPjHau8Bb2uHUNoNb2obGr8e/2RMi85NTkymo/b0TxLIhdUmnhIAnURYFUAR4MAnq7TZwOvUVTZQqQtnV9t2MzY+CyFpx2v83LtXuMGghcs8AAAAASUVORK5CYII=",
      ina: _ina,
      fun: function(evt, app) {
        var el, _i, _len, _ref, _results;
        _ref = app.treeview.flat;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          el = _ref[_i];
          if (el.item instanceof TreeItem_Computable) {
            _results.push(el.item._computation_mode.set(true));
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Already computed",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcBgcOCA6eQDHoAAABp0lEQVQ4y8WUwUobURSGv3tnkog2FqNTlZaqrSCIC9uAYJ+gkBBQhIAGCq3RZ+imq76EKGIpCm50UQLdZ9Wi3QtaKYIkGRMb1IZJJ3NciCTqRMii9K4Oh//jnv+cc68SWjua/wYsSouAsCAtAs9J+yDqdi4dI0aUiV4GKLHPsroHmLdY6p96RIQIx1QIUmKflRuIWQ/fDZMd7XvGOX85QuOi+Y00K+mtwbexaDcOBQqcYzHEITarqolpST6JtnPBTw6+nr1aVQUOKdyRN5Qks+04nJLLrMWvupRnTd3X1gmNkIf31wk/eeMNlkZTQfbq8jdBHACqn0J3PdgeLkFkpGF4I2HivEZKfqa/l6nShXxsAD6EOWAP2fUDNssIPTxOpLZSk5CaTG09nelEcYJ89pnDnMFO/3iYh7j8okSEQQL8wSa3vT7tuxpzw2Stvi4eYBHApUgFm3yOF+u5Jrs0a7HUORUhhMbDocjZNosb9o3VQKEwMDExMVCxREdSv6SbovfjYjPzBQ8PFxeXGh6i0BiYtBEiSAB964UINVyqODhUqSHqn/8al+PGlLMezgUTAAAAAElFTkSuQmCC",
      bnd: function(app) {
        return app;
      },
      loc: true,
      vis: _ina_builded,
      fun: function(evt, app) {
        var m, path, _i, _len, _ref, _results;
        _ref = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (!(path.length > 1)) {
            continue;
          }
          m = path[path.length - 1];
          if (m instanceof TreeItem_Computable) {
            m._computation_mode.set(false);
            _results.push(m._computation_state.set(false));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Set Item to manual compute",
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAt9JREFUeNrUVUtoE1EUPTNJ2tRk8k/a2hrTqhR101ooKC7cuWgpRMRKBevOTRUEa60LVyL4oYJ2484qCtXaLkRw70IUFRRdVGjaouQ/MWky+U7meSekEKSxSbGLDlzuu3PfO4d3f49jjGErP27bE/D1HrBOzLMtJQDd2Hp1jm0ZgRrSA52tsIy/ZP8lB5bx2X5SqvSS9LmanXB73MhEA/i+6Ef81kluUwTmK7NOUg/dLXZvq8sCh80El1XAQlBCIqfAoOORJpJvRJK4XZ1Euy742Iu9pN727Pe07OtshygVkJSBiF+ClqAKchE50oFEvpSTum5guvxcQ+p998GOXpujGemcjEBYRDQcgZRKweZ0orNjN3xLy4hFoli9e4qrK8lEOORpc/ZyRgdiaRmLvhUsL/repJLJIyqYGA4T+ApEItwIfP0QMTbMGy1I52WkxSjCwdDr5OTpgcoyFUMh0D9uU2XKoPQxTUMptCECInviL3/N4OvegELk5HmeksmQzaRVe6HSn5ocLoEbLj1tIJWrcOWle2caN240xiJcUYEsMzQ0NKp2V5WO6zILBngHjmHw+FHVjtWa5A+JxCry+SIEq0O1b1Tp6Ot6wYYvvji+/gio9qdaQzQjxWP9O4zUWA4X9Fx+sOni4zly3cncP/uO1odpPbbH3eblTHYC4BGMRtVzT2rqg6YL02offHS17uo2CCZYzAJ4OYml5V+I/U7AbjOjw9MORWeClCkgHvYjFPTPZx6MnKh5VOhHp0udbHPtbDFb7TAZ9XA7DNDSeFBkBT9jWaQzMmIEHg75g7S3Jzs1EqxrFulHH5VmkWCyes02B7SNBmh4DRSliGJOgihSZyfj87TnfHbqXKTqqKgQTTkna6LanG745iAn2IfAaw+B4+wUbJGu8ZklxZnCs2uvaI9SFrlCiuV/jCtX0hq4nkStZbXGdWXfv94MVgZTQfPlvsiV18USwbZ/9P8IMAC0w17AGcaBtQAAAABJRU5ErkJggg==",
      loc: true,
      bnd: function(app) {
        return app;
      },
      vis: _ina_build,
      fun: function(evt, app) {
        var m, path, _i, _len, _ref, _results;
        _ref = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (!(path.length > 1)) {
            continue;
          }
          m = path[path.length - 1];
          if (m instanceof TreeItem_Computable) {
            m._computation_mode.set(false);
            _results.push(m.do_it());
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "Set Item to auto compute",
      ico: "data:image/png;base64,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",
      loc: true,
      bnd: function(app) {
        return app;
      },
      vis: _ina_auto,
      fun: function(evt, app) {
        var m, path, _i, _len, _ref, _results;
        _ref = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          path = _ref[_i];
          if (!(path.length > 1)) {
            continue;
          }
          m = path[path.length - 1];
          if (m instanceof TreeItem_Computable) {
            m._computation_mode.set(true);
            _results.push(m.do_it());
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    this._toggle_inactive = function(app) {
      var m, path, _i, _len, _ref;
      _ref = app.data.selected_tree_items;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        path = _ref[_i];
        if (!(path.length > 1)) {
          continue;
        }
        m = path[path.length - 1];
        if (m instanceof TreeItem_Computable) {
          if (m.nothing_to_do()) {
            0;

          } else if (m._computation_mode.get() === 1) {
            1;

          } else if (m._computation_mode.get() === 2) {
            2;

          }
          return true;
        }
      }
      return false;
    };
  }

  return TreeAppModule_Compute;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Sketch,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Sketch = (function(_super) {

  __extends(TreeAppModule_Sketch, _super);

  function TreeAppModule_Sketch() {
    this.create_mesher = __bind(this.create_mesher, this);

    var mesher_sub, _ctx_act, _ina, _ina_cm,
      _this = this;
    TreeAppModule_Sketch.__super__.constructor.call(this);
    this.name = 'Sketch';
    _ina_cm = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0) && app.data.focus.get() !== app.treeview.process_id;
    };
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    _ctx_act = function(act) {
      if (act.sub != null) {
        return false;
      } else {
        return true;
      }
    };
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgCAYAAADqgqNBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFLQAABS0BJY637wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALcSURBVEiJvZdNbAxhGMd/z8yu+mgEESq+IhJJ05PvJkLIblPsdlMRDt1W4+giIXoRcRSpIBIHHDRoNSEO2m1ZW9GDkviIi6+DIChCWKJJsTvzOJhOR7NtKvR9TvP/PzPP733fPPPOO6KqFIpoTdtMEXsVouUIK1DmIRSjFANh4C3Ia+AVcAeLdOZs7EnBYsOEBOEiSKS2LYpaOwQSgP03xYDXCKeLXDmWaollRw2v3Na50nXdJqB0FBAXsEbIfxM4Pk7l0EiDkC1bLtifiybuFdX9QCgIUKVbhFuo3rMtfZS3nOy0/vyXsrLH2vN0cYlry2wRKVXVCkEqgJlD6r+wLEmkz8YeFoRHk+2NQEPAyyJ6KpR3TlxprX454vyDhQSpqO2oUtV9wPJAqs9yqUmfj7cXgt8Gyj2dtiW8/eq5ynejhRaKaF2qWpQmYIpnfVd0TVdz1d0/4JFk23Jgp4X0ZFriJ1Up3P5/O4D6zkWSd9sRFnlWbz5sLbvRtPG9Dx/uVfsfEalPzbYc7jPYC92Z5vi6gfxIHfvPcf1MvFdwNwM5z1obrUtVG4EDXGtO9ACHB7QoB7ZuvWgbgQPwc/xB4JOnSrNFE5LG4JkL0a8Kjb6h1MAYN1ww1telZzmae8PvCefy4fwMM8sOXD1X+U7Rm54Mh/KhhDE4ACqXAqrcKNy2dXCPV11gFG7lnOeDShYahX+cPLc3IOcYhZf0vS/2hdBnFN7vWNN84ZI1Cg+N0+m+EMNw13FWB+DPzL7nIjH/Wuk0tr3Gkx1Tf4h+4Pc50VU7Z257/SnagH9AldtdZzZ9MgKPJDvnK+zyDXUPgYFPqggi4h4FxntWd6al6rIReLS2o1FgkyddHHf3QC40zDP/JSrqUg0oe3xD5EimNfHAl2PV7ZHa9g0W0gGIh2rtaoklg0fzMVt2S6RqACwqmeykkvqh/wRjtuyqznHBXgLam8v11987uTQ39J5fj98Nh97Q3DYAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Transform line to curve",
      ina: _ina_cm,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var it, _i, _len, _ref, _results;
        app.undo_manager.snapshot();
        _ref = app.data.get_selected_tree_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          it = _ref[_i];
          if (it instanceof SketchItem) {
            if (it.mesh != null) {
              _results.push(it.mesh.make_curve_line_from_selected());
            } else {
              _results.push(void 0);
            }
          }
        }
        return _results;
      },
      key: ["Shift+C"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAFQMh/AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAF5QAABeUB2xZ2cAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEJSURBVEiJ5VaxbQJBEJxZISE7cgGEVIFEhOQaLGxZ5NRABQSUQA/gyB0QUAAtkFsOLN04eOD/7x8CELuWvNHe3f7N7ezc/XI0/ngxai6gh9J0xr+0dj6OjTV0SMwy0CK03b/OGrCAQdrcvPEV1vn6+Z4+dh9WlvR0nJSxzFKlL6WTb1adR2t8sVfxDRMHIN5PUVILD3ew59f1ROTyMEzmgoqMRUBuwFkJ/ICr+gAAN2CLorqm/LAa0zNjq9RYjsAWp2rGqDo/h1/GTDFUG6JqzL9wj31Vrai3OohqRVENBV2nuA4kP4cXUuBPIqj1gUU1ArWm/z/UOJl2leHeDXjY365ALgB8KqW3X/q0bFOnXtSIAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Break curve to line",
      ina: _ina_cm,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var it, _i, _len, _ref, _results;
        app.undo_manager.snapshot();
        _ref = app.data.get_selected_tree_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          it = _ref[_i];
          if (it instanceof SketchItem) {
            if (it.mesh != null) {
              _results.push(it.mesh.break_line_from_selected());
            } else {
              _results.push(void 0);
            }
          }
        }
        return _results;
      },
      key: ["Shift+B"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAAXNSR0IArs4c6QAAADBQTFRFSkpSOTlKQkpSUlpjWlprWmNzY2tra3NzlJytnKWlnKW1pa2txsbG3ufn5+fn9/f3TLe5owAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAB3RJTUUH2wwFCTAyXkMHgwAAASdJREFUKM+NUaFOA0EQPf7griHBcEfrMAj+AVFPm2xwWBQJohquaEQNpwgJqvcF/ERdc+Z2qsiqt6cQiAVmZo+SJgiemMy+vHkzs5Mkf2GQjQaZhtG1vPe+BE8S3odCHEn6oexFKoLXqqoeJVSLergrOF+mPw4P6jBfsmJ/Op2cRZiyZkXeYkVvsIyxKnLOWgeCt+NSPHJL1q5hVy3G97UqWti+RBWFpOueEMUhtoQpX9JoahsbiasdAuaubws4bgVrdPT812Oipgczxo2E2XEcDAA1XAGYfjBOHQlMHIwzOAiMeghBjncjmEUc3XvItqCoyDsLcj6QD6Z8TqRkQ8HxU0zl009CCF0TOvr05lauUniGkxCMnqkAb6HLbU71sJfZFmnyH3wD5boQiDus+zQAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Create a cube",
      ina: _ina,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var coord, current_point, lines, ls, point, sketch, surfaces, _i, _len, _ref;
        sketch = _this.add_item_depending_selected_tree(app.data, SketchItem);
        sketch.mesh.visualization.display_style.set("Wireframe");
        sketch.mesh.move_scheme = MoveScheme_3D;
        current_point = sketch.mesh.points.length;
        _ref = [[-0.333, -0.333, -0.333], [0.333, -0.333, -0.333], [0.333, 0.333, -0.333], [-0.333, 0.333, -0.333], [-0.333, -0.333, +0.333], [0.333, -0.333, +0.333], [0.333, 0.333, +0.333], [-0.333, 0.333, +0.333]];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          coord = _ref[_i];
          point = app.selected_canvas_inst()[0].cm.cam.get_screen_coord(coord);
          sketch.mesh.add_point(point);
        }
        lines = [new Element_Line([current_point + 0, current_point + 1]), new Element_Line([current_point + 1, current_point + 2]), new Element_Line([current_point + 2, current_point + 3]), new Element_Line([current_point + 3, current_point + 0]), new Element_Line([current_point + 0, current_point + 4]), new Element_Line([current_point + 1, current_point + 5]), new Element_Line([current_point + 2, current_point + 6]), new Element_Line([current_point + 3, current_point + 7]), new Element_Line([current_point + 4, current_point + 5]), new Element_Line([current_point + 5, current_point + 6]), new Element_Line([current_point + 6, current_point + 7]), new Element_Line([current_point + 7, current_point + 4])];
        surfaces = (function() {
          var _j, _len1, _ref1, _results;
          _ref1 = [[+1, 0, +1, 1, +1, 2, +1, 3], [+1, 0, +1, 5, -1, 8, -1, 4], [+1, 1, +1, 6, -1, 9, -1, 5], [+1, 2, +1, 7, -1, 10, -1, 6], [-1, 3, +1, 7, +1, 11, -1, 4], [+1, 8, +1, 9, +1, 10, +1, 11]];
          _results = [];
          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
            ls = _ref1[_j];
            _results.push(new Element_BoundedSurf([
              {
                o: ls[0],
                e: lines[ls[1]]
              }, {
                o: ls[2],
                e: lines[ls[3]]
              }, {
                o: ls[4],
                e: lines[ls[5]]
              }, {
                o: ls[6],
                e: lines[ls[7]]
              }
            ]));
          }
          return _results;
        })();
        return sketch.mesh.add_element(new Element_BoundedVolume([
          {
            o: -1,
            e: surfaces[0]
          }, {
            o: +1,
            e: surfaces[1]
          }, {
            o: +1,
            e: surfaces[2]
          }, {
            o: +1,
            e: surfaces[3]
          }, {
            o: -1,
            e: surfaces[4]
          }, {
            o: +1,
            e: surfaces[5]
          }
        ]));
      }
    });
    mesher_sub = {
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAFQMh/AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAF2AAABdgBCRoqvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD3SURBVEiJ5ZdLDsIwDETHFhJnAnEWNj1Gt1HPATdhx5UqFjGbKkrcNlSldpF4K8v9ROOZRg2FEHoAR5TITF27tvQ+AMBBNwZopt4MtnjpErTiOxE9ACDGmJQyc6q/6J+J6DrUUiwsIs+2bW+rZVQIIbwApIUZRh5+QNw8zsc/WpiZR7HfijwDgGOqpxS7eKwUl6OOMZqNuuqxJVOKXUZNRPukWkT2SXVVsSVKcemxZap/SrELP5Xq/b9jS6oee6f6j0dtmWql2G+vrm6Zjoz+qy9d1wHY/oeemU8iyUnRJ4lGRBoAyC3JHljdz3vwTLVm7rRofUzt3+TukU4/5AEXAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Create Shape",
      ina: _ina_cm,
      ctx: _ctx_act,
      sub: {
        prf: "list",
        act: []
      },
      key: ["M"]
    };
    this.actions.push(mesher_sub);
    mesher_sub.sub.act.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAFQMh/AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAF2AAABdgBCRoqvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD3SURBVEiJ5ZdLDsIwDETHFhJnAnEWNj1Gt1HPATdhx5UqFjGbKkrcNlSldpF4K8v9ROOZRg2FEHoAR5TITF27tvQ+AMBBNwZopt4MtnjpErTiOxE9ACDGmJQyc6q/6J+J6DrUUiwsIs+2bW+rZVQIIbwApIUZRh5+QNw8zsc/WpiZR7HfijwDgGOqpxS7eKwUl6OOMZqNuuqxJVOKXUZNRPukWkT2SXVVsSVKcemxZap/SrELP5Xq/b9jS6oee6f6j0dtmWql2G+vrm6Zjoz+qy9d1wHY/oeemU8iyUnRJ4lGRBoAyC3JHljdz3vwTLVm7rRofUzt3+TukU4/5AEXAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "Create a square",
      ina: _ina_cm,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var coord, current_point, point, sketch, _i, _len, _ref;
        app.undo_manager.snapshot();
        _this.create_mesher(app);
        sketch = _this.add_item_depending_selected_tree(app.data, SketchItem);
        sketch.mesh.visualization.display_style.set("Wireframe");
        sketch.mesh.move_scheme = MoveScheme_2D;
        current_point = sketch.mesh.points.length;
        _ref = [[-0.333, -0.333], [0.333, -0.333], [0.333, 0.333], [-0.333, 0.333]];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          coord = _ref[_i];
          point = app.selected_canvas_inst()[0].cm.cam.get_screen_coord(coord);
          sketch.mesh.add_point(point);
        }
        return sketch.mesh.add_element(new Element_BoundedSurf([
          {
            o: +1,
            e: new Element_Line([current_point + 0, current_point + 1])
          }, {
            o: +1,
            e: new Element_Line([current_point + 1, current_point + 2])
          }, {
            o: +1,
            e: new Element_Line([current_point + 2, current_point + 3])
          }, {
            o: +1,
            e: new Element_Line([current_point + 3, current_point + 0])
          }
        ]));
      }
    });
    mesher_sub.sub.act.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAM5gAADOYB7OYpQQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMLSURBVEiJvZc/TxRBGMaf990rKOy0IKjdNtrT8QFILoAaL/75CBZEE8RcZsxm40wuIAkJhR/BP1nRoIH4AejotdlOEAvoKCh297W4mWOAwzvvOJ/q3nd2nt9u9nbmGRIR9FKWZVGe51NVVc2KyCQRTQCYACAA9kXkFxHtMPOXOI63G41G2cuT/gZO03SsVqvNA1gEcLXnHbZ1CGC5KIq1JEmO/xlsrX1ARCsicqPL8BGAn+73TQBXzhkT7YrIglLqQ79gMsa0iOhF0CsBfBORz2VZbiZJ8juckKbpeBRFdSK6C2AaQOTHRGRJa91E+7VcCCZr7TsAD4Lehog0tdY/ut35WRljbhFRC8Bc0P6glHoUwk+BjTGGiFTwlPNKqTf9AM/KWvsEwBrc04uI1Vrrc2BjzH0iyly/AnBPKbUxCDSAzwH4BIAdvKG1/gjfSNN0jJlXgzkvhoUCgPPo/FeYeTVN07EOuFarzQf/3k2l1Mqw0AC+AmATAETkhvs8wVmWRWh/pwBQMvPiBR4Dy3n6ReV5lmUR53k+hZPFYavZbH6/bLDz3HLltTzPp7iqqtngmqzLvMtSx7ssyxkWkUnfYOat7nOGV+hNRJPsFnwAOGo2m4ejAjvvI1deZ7R3GeBk7R2lPGOCcWYN/U8SBrDvipv/AegZ+ywiv1xxJU3T8VERnbffPveYiHb8YBRF9VGBQ28R2WFm/uIbbj8diULvKIq+chzH22jHFQCYbrVaty8b6jynXXkQx/E2u2C27G+mqqrl7tMHl/P0qeR1o9EoGQCKolgjol03ULfWLlwW1HnVgXYOK4piDXDbYpIkxyLyNLh+yRhzZ1io81jytYg89cmTfVMptS4i1pVMROvDPLm1doGI1nGSPqxSat2Pnwt7xpi3RPQw6G0y82K/22Wr1brt3mn4+bzXWj/GRWEvgL8KQh8wXLy1WuuX6BFvOzLG3Gfm1WECfVVVz3y4Ozfe5xHmOYBrF154WgcAXg98hAnlD21lWc4Q0SSA6wgObQD2RGQniqKv/R7a/gDohn3GdplOTgAAAABJRU5ErkJggg==",
      siz: 1,
      txt: "Create a disc",
      ina: _ina_cm,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var coord, current_point, point, sketch, _i, _len, _ref;
        app.undo_manager.snapshot();
        _this.create_mesher(app);
        sketch = _this.add_item_depending_selected_tree(app.data, SketchItem);
        current_point = sketch.mesh.points.length;
        _ref = [[-0.33, 0], [0, 0.33], [0.33, 0]];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          coord = _ref[_i];
          point = app.selected_canvas_inst()[0].cm.cam.get_screen_coord(coord);
          sketch.mesh.add_point(point);
        }
        sketch.mesh.add_element(new Element_BoundedSurf([
          {
            o: +1,
            e: new Element_Arc([current_point + 0, current_point + 1, current_point + 2, current_point + 0])
          }
        ]));
        return sketch.mesh.visualization.display_style.set("Wireframe");
      }
    });
    mesher_sub.sub.act.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAaCAYAAACgoey0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAANEAAADRAByn70/QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALiSURBVEiJvZbBaxxVHMc/vzfP1i2RngoWpFIUFoyCFykIQgsVhNJDD6WIRbx4SVFcg+7O7myH152ZTVPb2DYVLTnUk+JBof9AEILUQtGLBw+5FEGkliIYC2Vmfl7eNkNN0uxu4u/0Pr/3nd8HZt6DEVVllEqS5BNjzAlgut1ufzPs8zKKOE3To8B1j//keV6P4/i3YWaYYaVzc3M14GKltSsIgv6wc4YWr6yshMD+ak9E3ur1eq9sm3hmZuZ5EfnYo4rItwO3MebTbRMXRXEZ2OnxWq1WO6mqtz2/mqbpiS0Xp2l6DHjD4z1jTLPRaNwXkVYldtY59+SWiZ1zu1S1+iqjMAzvAHQ6na+AG77/rLX2wy0TB0EQicg+ABG5lef5549EGsDgXobOuafHFidJUheRaY9aFMWpOI7LaqbT6dwAvvY4Ya1NxxaLyDyww+NCt9v9ca2ctbYF3Pf4TpZlL48sTtP0OHDY411jTLhettls3gbOD+aq6txIYufchIhcGLCqhmEY3t1oWJ7nZ4HfPR70N2E4cRAEp1X1GY83oyha2EgKEMfx36raqbTOOed2rJVdU9zv918QkQ88lmVZTrF6ajesoii+BH7y+Jy19v1Ni8uynAeeABCRL7rd7q3NSAHiOC6NMY1KK+r3+3seK07T9E3gkMc7xpjOo5nHVRiG3wPfedxdluWZDcWzs7NPsXoyUdVmq9W6N6zYP/sR8MDju1mWvbiuOM9zB+z1+EMURddGkQJEUbQMXPIYqOqF6v5Dca/Xe0lV3/NYiMgpNnmg1itrbQL86fH1LMuO/EcsIlcA69eftdvtn8eRAjSbzb9U9fSAVfW8c84+FGdZ9raIvOb3/wiCoDuudFD1ev0q8MsArbVTAEGtVttdluV1YMJvToVheHOrxJOTk7q0tLQMnPStA4uLiwuSJMlFoHrJf2XMb7tO1QHx60uW1b+KamC764gRkatA/j/IBrUCzP8L5pH3UMNsJPUAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Create a Triangle edge",
      ina: _ina_cm,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var coord, current_point, point, sketch, _i, _len, _ref;
        app.undo_manager.snapshot();
        _this.create_mesher(app);
        sketch = _this.add_item_depending_selected_tree(app.data, SketchItem);
        current_point = sketch.mesh.points.length;
        _ref = [[0, 0.33], [-0.33, -0.333], [0.33, -0.333]];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          coord = _ref[_i];
          point = app.selected_canvas_inst()[0].cm.cam.get_screen_coord(coord);
          sketch.mesh.add_point(point);
        }
        sketch.mesh.add_element(new Element_BoundedSurf([
          {
            o: +1,
            e: new Element_Line([current_point + 0, current_point + 1])
          }, {
            o: +1,
            e: new Element_Line([current_point + 1, current_point + 2])
          }, {
            o: +1,
            e: new Element_Line([current_point + 2, current_point + 0])
          }
        ]));
        return sketch.mesh.visualization.display_style.set("Wireframe");
      }
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKGQgrLnc55+YAAAJ+SURBVEjH7VVNSFRRFP7uzKhvnOe8NzNvzDEGsRYtjSlcuZhVlCQE0SKFcCFBm4g2STAulLJF7gr6MQyKNkEQZRgE+sgwAkUa7EeTijEnYpp33zhZvnnjaaHOvJwax4UQ1L18m3PvPd8957v3HEZE2MphwxaP/wR/IYF6vi9S7ICqjkVUdSxSKgGzPtMR0UthxzJGTBvC6SSzbnwxPUFKrQePxEEIELD/+wFk0ibq/XWsKAMR5TDs8hBJEi1JEl11+mjNPvXxDUXMLhJIIKxOgQTqpV6amZ8lq4/1KDB8dstEkkQkSXS70ktEBJ7h1HdWoNR2N73dU0Xhp44c0fxSvCiBY31E423t/c13BjoA4GhZFg8Pt5J/7yJOX64AAFS9Y2gbrUN5007IkDFTNo2pJ9NkGJl+zlOhbDYb8vt9cLtFyLK0okE0+vpILDa/zzTNSiM219py8RwqtOSqSgywlpOaGpj9V7DQ1AAODhdc+Pb+ByYnp5BMcj0QqL6rKN6JYLB2NBDYFmXj4y+Jcx26voBkkutOpzCbHnocOjZ0D4Jh/BLdrXY7znRqiNfkCbnJITkkVpLIa3gmenI6rGGuuaFA5B7qoeiHV0U1yD3TbCZTpinVhsL+XF1TNy7h/iGCZtdwMN2CxCcNjbtCbMOPNtx9odvu9xc4V00bNMqfFzpOwuh4jga1sWuHWM82cp5PkSUV3C3TA5c3F/bgiVPXresDlv9RClZSJMsEAAliUHSt4FYxt4eCtpXo0gSIOmebqkXXDAfixOBJfCn/3aZgKk8qMuBmpVJyG3QAwPHFxIY3mszasNu+vOlqyjbTk0dEHwFAOP2VbQnBv9nRfgLKpMVuZVBm9AAAAABJRU5ErkJggg==",
      siz: 1,
      txt: "Delete Point",
      ina: _ina,
      ctx: _ctx_act,
      fun: function(evt, app) {
        var cam_info, it, _i, _len, _ref, _results;
        app.undo_manager.snapshot();
        cam_info = app.selected_canvas_inst()[0].cm.cam_info;
        _ref = app.data.get_selected_tree_items();
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          it = _ref[_i];
          if (it instanceof SketchItem) {
            if (it.mesh != null) {
              _results.push(it.mesh.delete_selected_point(cam_info));
            } else {
              _results.push(void 0);
            }
          }
        }
        return _results;
      },
      key: ["Del"]
    });
  }

  TreeAppModule_Sketch.prototype.create_mesher = function(app) {
    var ch, create_mesher, discret, it, _i, _j, _len, _len1, _ref, _ref1;
    create_mesher = true;
    discret = false;
    _ref = app.data.get_selected_tree_items();
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      it = _ref[_i];
      if (!(it instanceof DiscretizationItem)) {
        continue;
      }
      discret = true;
      if (it._children.length > 0) {
        _ref1 = it._children;
        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
          ch = _ref1[_j];
          if (ch instanceof MesherItem) {
            create_mesher = false;
          }
        }
      }
    }
    if (discret === false) {
      create_mesher = false;
    }
    if (create_mesher === true) {
      return this.add_item_depending_selected_tree(app.data, MesherItem);
    }
  };

  return TreeAppModule_Sketch;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Animation,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Animation = (function(_super) {

  __extends(TreeAppModule_Animation, _super);

  function TreeAppModule_Animation() {
    this.clear_timer = __bind(this.clear_timer, this);

    this.run_timer = __bind(this.run_timer, this);

    var _ina,
      _this = this;
    TreeAppModule_Animation.__super__.constructor.call(this);
    this.play_state = false;
    this.add_attr({
      img_per_sec: 2,
      right: true
    });
    this.name = '';
    this.timeline = true;
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0) && app.data.focus.get() !== app.treeview.process_id;
    };
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ05NsURDUAAAAPsSURBVEjH3VVNTFxVFP7ue/NehykBMzsC6Systo1iYjemlWkgEgRXlhJr1I0tYmxoURcaY6I21hJq+oOaGFuKXYi10cIS2oJgZ6p2C1RWWoG01SnMY2aAefe8++PiDQNkCrZLPcnNu/e8e+93vnPOPQf4rwtb7+fVWBy7olX44WJvOBwORxljxQCglJ53nGSsaU9jMhaPI1pV9WCovX19AIBLl6/Uj43fGL1167b+6+9Efty+c0ff/HNSj9/4bXRw6Md6AOgfuHR/DC4PDqKuthbXfv5lOBLZVC2l0pxzBgCMLW/XWkP7wmZnZ0ee3rmj5vLgEOpqn1kb4GJvH/Y07sav169PlpdXbEqlUvfFWGsNx3GmdkWrIt/0fItXXn5pbQbDIz8NRyKR6qTjwGAMzDD8S5RaF0QphUTi7shzDc/W3JPB+e8uQAhRv337k/2pVBqMMSwuLiIY3AAAcF2OUCi06lLXdSGlwMaNxfl1IpFo0FoNvLh3byGDwaGh0WBR6HEpBGOGgaBtY+vWLQCAiYkJcE9AKwVmGHCSDrY8uhnpTAYuJyilAA2dTM6ON+5+/omlO42lyZEj7WHTDFQuzC8wzgnECRp6KZgAYyBO4Jwwe3cGO3c8hbKyMmitQbn9RMQCAavy+MlT4QKA0odKo57nwfMIRBycOJRc9ruSCql0CqbJUFdXC9u283pOHJQbUkmEioqiS+cCKzKh2HHmELB8lcEMSCXzANlsFo9t24aKinIIIcAYg9YaUkkQJyjtGyOEgCdEcQEAeQSinC8BMINBrmSgFQyj8OHLHAOttA8gBYgIBS4ionmec41PmSDlMgPDMDFyNY54/Bosy/LjAkBKCSLKn+OcgzjNFwDMOXOx7GI2HzDuEtQKACUlGBgmp6bR03Menifyeu5S/tzCwgJmZmZiBQDHOtqT6Ux6jHOul6wRQuQBhBA+M88D9zx0nzuHqelpKK1WWq8zmczYieOfJgse2gcfHgZ5VF9aUtpvb/AzxDRNPLL5YSil8PsfN1e5DAC4y2EGTAQCfig550inUg2WbQ98fPije5eKd997f7ikpKTar2ssX+B8n+s1q77WCul0eqSj/eiqUmGsXBxoPYiO9k9qHMeZcl0/0NzNBY4IRN7qwf2v67pIJp2pjvajNQdaD65frtvefBudp06g9VDbcDBYVG1Zll6rMWlAe57HeDZ75YvPO+sOtb2FzzpP/ntHe3VfM77u7sL+5pZ6y7aP2bZVaRhmfrPOZQ8RjXkevXO268zAa6+/gTNffflgLXNfcwu6u06jqemFcDBUFGXwW6aGnl/MurHe7y8k9ze34GzXafx/5R9/KnJND6QWgwAAAABJRU5ErkJggg==",
      siz: 0.9,
      ord: false,
      ina: _ina,
      txt: "Go to First Image",
      fun: function(evt, app) {
        app.data.time.set(app.data.time._min);
        return _this.clear_timer();
      },
      key: ["Shift+1"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ4AJDpqT+sAAAPoSURBVEjH3VVbTBxVGP7O7M4IhILuk00r+266D/bFatnKWgqLb7ZE6uXFFjE2tKgPGmOiNtYSML2gJsZCqXdtLKC+QCkVdPHS19LWx7Yk7cICO8zsLjvnP2fm+DCwLVmo8Kgn+TMz/+37L2f+H/ivH3Yv4W+JceyIVuNcX38oFApFGWPlAOB5Kmua6UTjnt3pxPg4otXV60PtHxgAAJwfvhCfuHL18q1bt9XUdKpAt5NJdf3GTXXl6rXLIxd/iQPA4ND5tWUwPDKCutpa/P7Hn6PhcFWN63qKc84AgLE76kopKP+wubm5se2PPxYbHrmIutqdqwP09Q9gz+6n8delSzc3bdpcZVnWmjJWSsE0zckd0erw1998ixeef271DEbHfh0Nh8M1adOExtiay+p5HlKpmbGnGupjK2bw3fdnIaWMb936yKBl2cvKAQCapmF2ZgYPhEIFGWNAJpOFYRgwDAOO4yCVSjUo5Q3tbWry7ZYcPLu3CRs3PthpzltKCAEiAhGBE4GEwNTUFLZtexTJZBJEBCEEklPTiGx5GBk7A04ExjSl63rnkvNlAEeOtIcCgWAkl80xzgkFcjgytoVdtTuhaRqEEBBCIjU9jSeqt2PDhgoIKUCcQEQsGNQjx06cDBUBVN5fGfWNCUQcnDiyuSx0PYAnYzEIIcAYA5GAZZmoq9uFQDAIxpgPQBxEHK7noqy0NLrkN3jXTSg3zXkEdZ/lShdVD21GJLIFUso7PVEe4vX1y3hSSPAA+e9SQkhZXgRAwq+553m+oiuhlFd0W6Qri3lCgjEqyImouAdElOWLpeHE4bouJq79jURiHLquQykFAJi3bJzr64emaQWekKJgxzkHccoWAcyb84n8Qt5v1iIpT+H6jUn8+NPPMAzDD4QTSEh88eVXhWyFlAWbXC6H2dnZRBFAZ0d72s7YE5xz5Ufjl0y6ArNzafSe+RyMMXDO4TgOwDR09/TCtm24Ui5FrzKZzMTxYx+mi360d949DBIUr6yoHDTuM4qHFmPIZrIoLSuDprGCeT6/AEM3EAgGwDmHbVkNumEMvX/4vZVHxZtvvT1aUVFRs44pAYBBKQ+2bY91tB9dNiq0uz8OtB5ER/sHMdM0Jx2Hg0iAuPCfK9GizHEcpNPmZEf70diB1oP3Htdtr76OrpPH0XqobbSkpLRG13W12mJSgBJCMJ7PX/jk4666Q22v4aOuE/++0V7c14wzvT3Y39wS1w2j0zD0iKYFCsoKgOe6IKIJIeiN0z3dQy+9/Aq6P/t0fStzX3MLentOobHxmVBJWWmUwV+ZCiq7kHcS/T+cTe9vbsHpnlP4/55/APMGZWqwyzAaAAAAAElFTkSuQmCC",
      siz: 0.9,
      ord: false,
      ina: _ina,
      txt: "Rewind",
      fun: function(evt, app) {
        if (app.data.time.get() > 0) {
          app.data.time.set(app.data.time.get() - 1);
          return _this.clear_timer();
        }
      },
      key: ["Shift+2"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ04CWpsETwAAAPaSURBVEjH3VVdbBRVFP7u7s52+1/2tdL1kSYWlaiJ2u2PbWrxSUojRnlQqDWSQtUHjTHRmCBNMfxUTYxQwDT4Q5T2QQmltOzCVpBEXrrFl5ogjQXdtjPd2Z+Ze+7MXB+22y5uW+BRT/LN3Llz7v3mu+fMOcB/3dhaLy9FxlEXrMUPpwf9fr8/yBgrAQDHkUlNUyPtW9vUyPg4grW198c6ODQEADg3cr41Onl9Ymbmlvzr79gSbt2+LW/8cVNOXv9tYnTsQisAnB0+d28KRkZH0dLcjJ8vXwkFAlUNtu1IzjkDAMaW3aWUkBlj8/Pz4aeferJxZHQMLc1NqxOcHhzC1rYt+OXq1ZuVlQ9UxePxe1IspYSmadN1wdrAya+/wfaXX1pdQSh8MRQIBBpUTQNjDEY6jaLiYkDKNUkcx0EsNht+bvOzjSsq+Pa7U7Asq3XTpkfPxuM6GGNQVRWPPLwRExNRVKxbd1clpmkiFottltIZfnHbtnwFo2NjE77Coodsy2IAkEyl8ExDPaSUiEajiM3OobyiAo7j5EmXmYtU1fnJti3Pb8zOu7KDvXt7/G63pyaVTDHOCZwTBAkAgGVZqK6uxhOPP4akriOVTCHrkwVxAhExj0epOXDosD+PoLyiPCiEgBAEIg4iDiHojszx+Xyor6/D+vWVmJ2LQVgCfNE3C9uxUVRYGMyu8eRkQommLcCjLE2BFhUsBYwx2LaNQFUVHgwEcCEUhuNISCwngGVZEJZVkkdAgkBEcBxnyVkIWr0EMAbbtkDCQs7+sGwLRMvrlgmIknxR4jKpyMt3j8eDqakpjF++gtKyMsicD8oqIE7JPIIFbSFSWlKKgoKCHAUCOSEAEeHHn85gIa7Dq3jBDTNPmWEamJubi+QFeX9vj6on9CjnXHLi4ESgxSNSFAW/XruGE18NYCGuQ0oHnOhf4OCcy0QiET144BM1u687O/jgw49gGMYNF3NtBwNs20Y6lUb1hg0YGDiJP2dm4HK5YdsWbNteEWkjzRK6/kpjU9Pvly6GVy4V7773fqisrKwhezTpdBrFxcWQa5YKBikd6Loe7u3Zd0epcOU+7Orajd6ejxs1TZs2TQ4iAY9byfxIJPLBM3fTNKGq2nRvz77GXV271y7X3W++jb7DB9G1pzvk8xU2KIoiV2tMEpBCCMYN4/znn/W17Ol+C5/2Hbp7R3t1RwdOHO/Hzo7OVsXr3e/1KjUul3vJWQJwbBtEFBWC3jnWf3T4tdffwNEvv7i/lrmjoxPH+4+gvf0Fv6+oMMiQaZkSMpk2zMjg96fUnR2dONZ/BP9f+wfw8EzPD+V7OAAAAABJRU5ErkJggg==",
      siz: 0.9,
      ord: false,
      ina: _ina,
      txt: "Play",
      fun: function(evt, app) {
        if (_this.play_state === false) {
          _this.play_state = true;
          if (app.data.time.get() === app.data.time._max.get()) {
            app.data.time.set(0);
          }
          return setTimeout(_this.run_timer, 1000 / _this.img_per_sec, app);
        }
      },
      key: ["Shift+3", "Space"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ4BB4EWD9gAAAO8SURBVEjH3VVNTFxVFP7um18mFMxsazoLNdZUTOzKVqaBSHBwZSmxRt3YIsaGFnWhMSZqY+2Emv6gJsaW1o1/jRaWUAoOOlDtFqjjRmtJ2uoI7zEDhXfP/XPxZqYMM9R2qSe5i3vueee733fuOwf4rxu73eGP6QnsiDfiu3MD0Wg0GmeM1QKA1mbJcex0x652Oz0xgXhj492hDgwOAgDOj1xITM9cnrp27br5869saV2/ccNc+eOqmbn8y9To2PcJABgaPn9nDEZGR9Ha0oLJiz+lYrFNTUppwzlnAMDYrXBjDIxnbH5+fvzx7duaR0bH0NryxPoA5wYGsat9J36+dOnqxo33bsrlcnfE2BgDx3Fmd8QbY198+RVeeP659Rmkxn9IxWKxJttxYDEGZlm3EmntfVTFp7VGNvv3+FNtTzZXZfD1N2chpUxs3froUC6XB2MMy8vLCIdDgPHkcV0XABAOh2GMARjguhyRSAQA4LoustlsmzF6+NnduysZjI6NTYVrIg8rKRmzLISDQWze/CAAwO/3Y3LyIphlYfu2xyClBABkMhlwIaG1BgyMbc/PtO98+pFizhLXQ4eSUZ/P33Bz6SbjnECcYGC8m5aKCmily3xgDFSIJyLm9wcajh4/Ea0AqL+nPi6EgBAEIg5OHFrpsvoIKSCkKPNppcGJgwpLaYVITU28eO5f9RJqHWcB/oDnspgFpVVZsqIsq01pBeIEbXQpRkhZWwFAgkBEnpYAmMWgqjCoACgwMNqTTSoJIkIlANESL1AEAMuyoNQaBqIKA6XKLialBHFaqgBYcBbSG2o3IBQKeQyYBb0GQFQB0EqBuwRTkGjFXcHc3Fy6oshHepN2fjE/zTk3vFDkoubGGDDGSoVkjJVekpQSxXjOuVlcXJw+dvRDu+JHe+fdgyBBifq6+qFgKAgA8Pl8eOD++8AYgxASmcyvAIAtWx6Cz+eDUgq//X6lJCXnHPlcri0QDA6/f/C96q3izbfeTtXV1TV5fY2taXC6JN/qPlQ8y+fz473Jw2Wtwlq92de9H73JD5odx5l1XQ4iAnc5OPcWkQCRKO15IcZ1Xdi2M9ubPNy8r3v/7dt1z6uvo+/EMXQf6EmFwzVNgUDArDeYDGCEEIyvrFz45OO+1gM9r+GjvuP/PtFe3NOJz8/0Y29nVyIQDB4JBgMNluUrBZvC6yGiaSHojdP9p4ZfevkVnPrs07sbmXs6u3Cm/yQ6Op6JhiM1cQZvZBqYpeUVNz3w7Vl7b2cXTvefxP/X/gErE0R6J5atMAAAAABJRU5ErkJggg==",
      siz: 0.9,
      ord: false,
      ina: _ina,
      txt: "Pause",
      fun: function(evt, app) {
        return _this.clear_timer();
      },
      key: ["Shift+4"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ07N4AgX1QAAAPySURBVEjH3VVNTFxVFP7uY96DITNgJjah1nT2RhZ20VbLUBCEwZ0tkfqzaYsYG1rUhcaYqI21BEx/UBNjC9SFtW0soG6glAp08Kfb0rrVktCh4zBv5jEw755737su5keagUqXepKT9945597vfu+eH+C/LuxBzuuRGdSGanB5aDgQCARCjDEfALiuSptmItK6d08iMjODUE3Nw6EOj4wAAK6MXw3P3rp9c37+rlq4Fyvo3WhU/fHnHXXr9u83J679FAaA0bErG2MwPjGBpsZG/PzLr5PB4NY6x3EV55wBAGP/hCuloLLCFhcXp3Y983T9+MQ1NDU2rA8wNDyCvXtewG83btzZsuXxralUakOMlVIwTXOuNlQT/Ob8t3j1lZfXZzA5NT0ZDAbrEqYJjbEN/1bXdRGL/TX1fEtz/ZoMLly8BClleNu2p0ZTKQtCCBAR/H4flFp10kQCj27aBNd1i0Bs20YsFmtRyh3b19YGANDyzpf2tWHz5qpeM5lSQggsWUuofvIJRBfuFcCi0Sh27tyBhYUFkBDgRKCcciIwpild13vzm98HcOxYd6CkxFO9nF5mnBOEFPD7K1BbswvxeBxCSAghoGkanmtswEo6DTtjg3MC5wTiBCJiHo9efeLU6UARQOUjlSEhBIQgEHEIKcAYg8fjQWPDs0ilTBBlbUII7N5dC8PwIL2cBicOyqnjOij3ekNFAEopn2kmwXN0pZDIp6ZSCuHmZkC5YIyBMQYpJXZs347HqqqQWckU1hERhJS+/L6e/AuJrDN/eXmA1SIduUaKuuDE4XE8hRgiQjEAUZrnKAKAI2UhczRNw+WhYSRTVsFmGAamp69jbn4ehq7DcbLrpJQgTukigKSZjPh9fpSWlmbzWmWZOI6L8xcuQtcNEM+ezDAMfP/Dj0gmLWglWsEOABk7g3g8Him6g96e7oS1ZM1yzhUnDkdKWJaF/oFBuK6CbdvgnIMxhsFzXyO+mIB0RCFFOXFwztXS0tLsyROfJooK7YMPj4IEhSsrKkeNUgOOdECC4PWWA1C5alXIrKzA5/dB5atvlXDOYaVSLbphjH189KO1W8W7770/WVFRUfcQXQIAg1IuLMua6uk+fl+r0FZ/HOo8jJ7uT+pN05yzbQ4iAeIi+1xLcz7btpFImHM93cfrD3UefnC77nrzbfSdPonOI12TZWXeOl3X1XqDSQFKCMF4JnP1i8/7mo50vYXP+k79+0Tbf6Ad5wb7cbC9I6wbRq9h6NWaVlIIVgBcxwERzQpB7wz0nx177fU3cParLx9uZB5o78Bg/xm0tr4YKCv3hhiyI1NBpVcydmT4u0uJg+0dGOg/g/+v/A2/iWrBMlPeuQAAAABJRU5ErkJggg==",
      siz: 0.9,
      ord: false,
      ina: _ina,
      txt: "Forward",
      fun: function(evt, app) {
        if (app.data.time.get() < app.data.time._max.get()) {
          app.data.time.set(app.data.time.get() + 1);
          return _this.clear_timer();
        }
      },
      key: ["Shift+5"]
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDQ05BuPIPewAAAPzSURBVEjH3VVNTFxVFP7um5k3j3EKdnakppPYmroQ03ZjWpkGIuHHlaXEGnXTlmJsaFEXGmOiNtYSavqDmhhbipr411hgCaUg6EBrt0DbaLQtYFscYB4zDMy7/y7mzQiZgu1ST3Jz7zv3vvPd75xzzwH+60JW2/w5OoQdkVKc7+gMhUKhCCEkCABK6ZRtx6N1u2rj0aEhREpLHwy1s6sLAHCh92L16NjVkdu37+ipv2K5cefuXX3z1rgeu3ptpK//x2oA6O65cH8Mevv6UFlRgeFLlwfC4fVlUipNKSUAQMg/x7XW0Bkhs7Ozg09v31be29ePyopnVgbo6OzCrtqd+OXKlfF16x5Zn0gk7oux1hq2bU/siJSGv/7mW7z80osrMxgY/GkgHA6XxW0bBlk5RMQwMsaVQiYuCrHY9OCzNVXl92Tw3ffnIISo3rp1S3cikQQhBAsLKXg8XliWtcz44uIiLMsPAHAcikAg4K4dxGKxGq1Vzwu7d+cz6OvvH7EKAk9IIQgxDAQsC8HgQ/j1t9+xNrQWWikQw4DlN/H4pk0AgGvXr4NxAaUUoKHj8dmx2p3PPZm1aWQXR440hzweb8lCaoFQysAog1QSxcXF2L7tKcxOTyOrdwMMrTUIIWCunjFGvF5fyfGTp0J5AEUPF0U45+CcgTEKyiiUzPjXNE1UVVXCskwkkomcHgCUVKCMgrlDKolAQUEku+9dkglB256D15dRGcSAVBLZ9BRCYMvmzZiamsLk5J85AKkkGGVQOgMqhAAXIpgHwDgDYyzjSwDEIJBLbro0JbPGAEC6DLTSGQApwBhDPgBjKepSBADDMCClzBk1TR+Ghy/jxq1xbNzw6BIAuexiQggwylJ5AHP2XHRNcA38fr/rFgPKBeCc43xHF7gQ8BienD4TAwnqMGiXVdpJY2ZmJpoX5GMtzfHkfHKUUqppNshaYWJyEu1ffoW044BzDsoohBA5ACEEsucppXp+fn70xPGP4nkP7d33DoNxVl1UWNRt+s3cz1JI+N1HlRWPx4PHNm6AUgp/3LiZcyWlFMlEosZnmj0fHH7/3qXirbffGSgsLCwjZPUqny18Wmt3Vkgmk4MtzUeXlQpj6ceBxoNoaf6w3LbtCcehYIyDUZ6Zlw0GSimoQ8EYg+M4iMftiZbmo+UHGg+uXq6bXnsDradOoPFQ04BlFZT5fD69UmPSgOacE5pOX/z0k9bKQ02v4+PWk//e0fbsrccX7W3YV99Q7TPNY6bpKzEMT+6wdrOHMTbKOXvzbNuZnv2vvIozn3/2YC1zb30D2ttOo67u+ZAVKIgQZFqmhk4tpp1o5w/n4vvqG3C27TT+v/I3Wa5Y3bqRT/cAAAAASUVORK5CYII=",
      siz: 0.9,
      ina: _ina,
      txt: "Go to Last Image",
      fun: function(evt, app) {
        app.data.time.set(app.data.time._max.get());
        return _this.clear_timer();
      },
      key: ["Shift+6"]
    });
    this.actions.push({
      mod: function(app) {
        return app.data.time;
      },
      siz: 1
    });
  }

  TreeAppModule_Animation.prototype.run_timer = function(app) {
    if (app.data.time.get() < app.data.time._max.get() && this.play_state === true) {
      if (app.data.time.get() === app.data.time._max.get()) {
        return this.clear_timer();
      } else {
        app.data.time.set(app.data.time.get() + 1);
        return setTimeout(this.run_timer, 1000 / this.img_per_sec, app);
      }
    } else {
      return this.clear_timer();
    }
  };

  TreeAppModule_Animation.prototype.clear_timer = function() {
    return this.play_state = false;
  };

  return TreeAppModule_Animation;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Collection,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Collection = (function(_super) {

  __extends(TreeAppModule_Collection, _super);

  function TreeAppModule_Collection(collection_size) {
    var _this = this;
    this.collection_size = collection_size;
    TreeAppModule_Collection.__super__.constructor.call(this);
    this.mesher = '';
    this.name = 'Mesher';
    this.add_attr({
      _collection_size: collection_size
    });
    this.actions.push({
      txt: "add boundary condition",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var item, items, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          _results.push(_this.collection_size.set(_this.collection_size.get() + 1));
        }
        return _results;
      }
    });
    this.actions.push({
      txt: "remove boundary condition",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var item, items, path_item, _i, _len, _results;
        items = app.data.selected_tree_items;
        _results = [];
        for (_i = 0, _len = items.length; _i < _len; _i++) {
          path_item = items[_i];
          item = path_item[path_item.length - 1];
          if (_this.collection_size.get() > 0) {
            _results.push(_this.collection_size.set(_this.collection_size.get() - 1));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
  }

  return TreeAppModule_Collection;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Projects,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Projects = (function(_super) {

  __extends(TreeAppModule_Projects, _super);

  function TreeAppModule_Projects() {
    this.onPopupClose = __bind(this.onPopupClose, this);

    var _this = this;
    TreeAppModule_Projects.__super__.constructor.call(this);
    this.name = 'Projects';
    this.visible = false;
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 0.9,
      txt: "Open in Tree",
      fun: function(evt, app) {
        var Pheight, Pleft, Ptop, Pwidth, dir, fs, inst, inst_i, p, _i, _len, _ref;
        _this.d = new_dom_element({
          className: "browse_container",
          id: "id_browse_container"
        });
        if ((typeof FileSystem !== "undefined" && FileSystem !== null) && (FileSystem.get_inst() != null)) {
          fs = FileSystem.get_inst();
        } else {
          fs = new FileSystem;
          FileSystem._disp = false;
        }
        dir = FileSystem._home_dir;
        fs.load_or_make_dir(dir, function(session_dir, err) {
          var button_new, div_top, item_cp, t;
          t = new Directory;
          div_top = new_dom_element({
            parentNode: _this.d,
            style: {
              width: "90%",
              padding: "10px 20px 10px 20px",
              height: "50px"
            }
          });
          button_new = new_dom_element({
            nodeName: "button",
            txt: "New project",
            parentNode: div_top,
            onclick: function(evt) {
              var name, td;
              clear_page();
              name = prompt("Project name", "project " + new Date());
              td = new_session();
              session_dir.add_file(name, td, {
                model_type: "Session",
                icon: "session"
              });
              return window.location = "#" + encodeURI("" + dir + "/" + name);
            }
          });
          ModelEditorItem_Directory.add_action("Session", function(file, path, browser) {
            var _this = this;
            return file.load(function(object, err) {
              clear_page();
              return window.location = "#" + encodeURI("" + dir + "/" + (file.name.get()));
            });
          });
          return item_cp = new ModelEditorItem_Directory({
            el: _this.d,
            model: session_dir,
            initial_path: dir,
            use_icons: false,
            use_upload: false,
            use_breadcrumb: false,
            display: "Session"
          });
        });
        inst = void 0;
        _ref = app.selected_canvas_inst();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          inst_i = _ref[_i];
          inst = inst_i;
        }
        if (inst.divCanvas != null) {
          Ptop = _this.getTop(inst.div);
          Pleft = _this.getLeft(inst.div);
          Pwidth = inst.divCanvas.offsetWidth;
          Pheight = inst.divCanvas.offsetHeight;
          Pheight = Pheight + 22;
        } else {
          Ptop = 100;
          Pleft = 100;
          Pwidth = 800;
          Pheight = 500;
        }
        p = new_popup("Browse Folder", {
          event: evt,
          child: _this.d,
          top_x: Pleft,
          top_y: Ptop,
          width: Pwidth,
          height: Pheight,
          onclose: function() {
            return _this.onPopupClose(app);
          }
        });
        return app.active_key.set(false);
      }
    });
  }

  TreeAppModule_Projects.prototype.getLeft = function(l) {
    if (l.offsetParent != null) {
      return l.offsetLeft + this.getLeft(l.offsetParent);
    } else {
      return l.offsetLeft;
    }
  };

  TreeAppModule_Projects.prototype.getTop = function(l) {
    if (l.offsetParent != null) {
      return l.offsetTop + this.getTop(l.offsetParent);
    } else {
      return l.offsetTop;
    }
  };

  TreeAppModule_Projects.prototype.onPopupClose = function(app) {
    document.onkeydown = void 0;
    return app.active_key.set(true);
  };

  return TreeAppModule_Projects;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Mesher,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Mesher = (function(_super) {

  __extends(TreeAppModule_Mesher, _super);

  function TreeAppModule_Mesher() {
    var _ina,
      _this = this;
    TreeAppModule_Mesher.__super__.constructor.call(this);
    this.mesher = '';
    this.name = 'Mesher';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAGnQAABp0B6C+u5gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJtSURBVEiJldVbiJVVFAfw3z6miOakqBQagsZAinjPh/Chh0Esr4xPUQoShKgvgi9eUB+KerB68AIRjEVGiYiKii9KiCJSCDmCo6CCBmHikFGhlbp8OHvkm89zznwu2Jyz19rr/19rr7X2lyJCVUkp1dCGkRiVf4v/38YMTI+I3+CFEsAUnMA1/NkA6CWkgstf+KOwxmEMJuBZAkzOxvH4Gafwa3a+VwK7FxGPGmR5DVNwHkTE04XOHFXgIu5jDyYWz7Va2I39T/cl4y4cxF28iw6cxEN8h2kVCJagF7VGBD1YjU9wrqB/IxM/wnHMa0EwAv9hbj+CXKBAe67DQ8wuOb+OrgxwFguRGpCcxpYywfu4VdgfxN4mUb6KL/A3uvEeBhXsm3CmTNBVBMRbuchjWlzHaGzPd34DazAUc/A/2oqHb2JFCeASNlYo7HCszy39e86gF8v7DryW739cyfFD3CqmPwDRYKzC1YzXWwTqaeAwTH2oOqvOQfbbnDvuUJ/iB+xucngHfnwO8LX4FwvyXsKdZlFiUo5magXwFbmFlxd0NuAxRrVwPIovBwBflsFXlvTu5IJ0afLmYD7+wcgm9g48wNqyLWEmZqs/dB34Fh9HxA1ZUkoJl/FVRHx+OKUdwYs5upe7WTSeC5P5pc+nRvfSiD2pL40MNBfbcsT78FFEXM+2dbnX2w/Vsx6ttRxbFrG4VtRExE8RsRBvYiyupJS+Tim14xv1j8k7AwD3k34ZPGNMaQ62qn8Kv8/qVz5l3zE+a+PSB+ys1WvYTx5zuzPifNXenoUj6i9sqA/fARUmvPJ0lrrpAoZU8XkCutcluDPlUaEAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Remove a mesher point",
      fun: function(evt, app) {
        var cam_info, ind, pm, _i, _ref, _ref1, _ref2, _results;
        if (_this.mesher != null) {
          cam_info = app.selected_canvas_inst()[0].cm.cam_info;
          if (((_ref = _this.mesher) != null ? (_ref1 = _ref.p_mesher) != null ? _ref1.length : void 0 : void 0) > 0) {
            _results = [];
            for (ind = _i = _ref2 = _this.mesher.p_mesher.length - 1; _ref2 <= 0 ? _i <= 0 : _i >= 0; ind = _ref2 <= 0 ? ++_i : --_i) {
              pm = _this.mesher.p_mesher[ind];
              if (pm._selected.indexOf(pm.point) >= 0) {
                _results.push(_this.mesher.remove_point(pm));
              } else {
                _results.push(void 0);
              }
            }
            return _results;
          }
        }
      }
    });
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAGnQAABp0B6C+u5gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALNSURBVEiJndVLaJ1VEAfw3+Thg5aUhvqIoAitwcZWG1IhpaKWVmoXCj6oSDdtFzd7EcWFaFyIiKsiSAW1m+JCIkLQiFVUxEVB8aqlKS6kFduFGGsDRWJSx8X33cvNl3uT6MBwXjP//zkzc86Rmf6Pogv92IS78TDO40irXY8WiYgRHMMEZkuAhq4v214EruAS/sBFzOFG3NOKuYgAW0r9C0dwpnRugFzMzHltJCKOYxwjyxH8iElcg38y86N2YG3An8GlzHwpIuoR0ZOZC1CN61OoYS2+xoOryMU+fIbecvwmdjTXK8aTGCz7G/ANRpcBH8R32NAy9wSeX0KgqIrpCsAtqGOoDfi6cgN3Vuavw+ftCEbwbhugzSXJzZXNTOKxDic7iTXVMr0fX1QTmJnTETGG92M4Dthqkx73WfBtZk50yPtXuBdTrQS78HQ768w8GXfEW7aYFro84rKfre8ADp9iT5MgIrpxW2ae6eiy3UZFaLjWGjNORcTvWCh1vqU/gJGImGicYFhRDUukJH/cRg/Z2Zyec7vdzvpTcZeq+o7ipvc2CHbhywrwWhwu9YTz9uIBv3jVrR7Nqfy1aVuLQd1uAu/ZY8ZviiQvNLL+ITaX/QG8jB8UOemrVEh9SdXUHFWTatKw07iqsdYVEduwFV0R8TY+wGmMZOZrmTnbMS/t5C5vZObfjWEPPsb1iiv+Ymae+E+AMOsGfWX/anOtSz14DqMYwuGIOJeZP62EGWMxjnUu65f2NhfS/hiLoaZdGddiELEPLyhCNJ6Z55YAR9Qzc1uMxQVFvpaVrtZBZk5l5qjiGZiIiNcjoj1ILvbtJItOUNlpKF7GZxU385XMnImIOnbYadqAun5nsVvxUVE83adad73Se9+Ng/geRxXf5Cc40LZMx9Ra/Vc8ZmZeycxj2K74k/twITOPryZEq4pjSTSPJxUVd2i1fv8CdgD/6fDJDhMAAAAASUVORK5CYII=",
      siz: 1,
      txt: "Add a mesher point",
      fun: function(evt, app) {
        var canvas, p, pm, pos_x, pos_y;
        app.undo_manager.snapshot();
        canvas = app.selected_canvas_inst()[0].div;
        if (evt.clientY < get_top(canvas)) {
          p = [0, 0, 0];
        } else {
          pos_x = evt.clientX - get_left(canvas);
          pos_y = evt.clientY - get_top(canvas);
          p = app.selected_canvas_inst()[0].cm.cam_info.sc_2_rw.pos(pos_x, pos_y);
        }
        _this.mesher = _this.add_item_depending_selected_tree(app.data, MesherItem);
        pm = new PointMesher(p);
        return _this.mesher.add_point(pm);
      }
    });
  }

  return TreeAppModule_Mesher;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var TreeAppModule_Logo_SC,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppModule_Logo_SC = (function(_super) {

  __extends(TreeAppModule_Logo_SC, _super);

  function TreeAppModule_Logo_SC() {
    var _ina,
      _this = this;
    TreeAppModule_Logo_SC.__super__.constructor.call(this);
    this.name = 'Structure Computation';
    this.visible = true;
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0) && app.data.focus.get() !== app.treeview.process_id;
    };
    this.icon_app = new Lst;
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1.8,
      txt: "Structure Computation",
      ina: _ina,
      fun: function(evt, app) {}
    });
  }

  return TreeAppModule_Logo_SC;

})(TreeAppModule);
// Generated by CoffeeScript 1.4.0
var SketchItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SketchItem = (function(_super) {

  __extends(SketchItem, _super);

  function SketchItem(name) {
    if (name == null) {
      name = "Sketch";
    }
    SketchItem.__super__.constructor.call(this);
    this.add_attr({
      mesh: new Mesh
    });
    this._name.set(name);
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKDA0JKFjkYbUAAAMgSURBVEjH7VRNiBxFFP66+qf6d3q7Z6Z72tlZZnfdZdWVEFERQVAPXgIKwYO3XD0YMHoJygo55RARPIpXPeQexaMIEkSMgvFgkERl4s7Ojjs76Z7+qa7u8qBZNO7GQDYHId+pHvXqfd+r9/iA+/hfYGXlyN65118HkdXDJ1l+8NHn22H/3M3Ymeve0Tv5vxL8oI9stguNWqco1U4xjl1FM0eSBKFbTcKyKb+ZazdCjRUVAC403UbFGaTbFffafUy2f4Yf9KO6Yu/keb7Fy+IzCJTUsBt1XaHmDIpmVoZhTlRFelvUZTzc/PUkgPy2HbSiJexsXUN38ah1YzJ8ra7F51VVFrKsfiER4mWz3y9ylg4IUUcQYgAJG5Ikn6gFHoMkXy1Z9h0AkH2/pb2A8eZVdHpr9mQ8eLMxF53VdCcBoOXpJAYkrlvNzpw/rxm2GxJZPlZxNq5FzQyqJWmy89WBM7AbbehmE9Q01JKxV0qWfDBLJhSiDkQtWhUvvjUsr1VV7FkhxFIyHV4xLM+qeBnXFf9kvD3YAPCjolLUdfVvgrlWH6PrP8AwvdPTyeZHJcsSr7X44izZvkwN57hEJJ3lsytCVF9XvJRsN3i8KGZTlTpfEllzimx6SVF0cF4cPNxmuPwGgCYAtMKljdXVdUF191Xdar7+9zzX7y0YVustIlMqaw2Xmt5z+66p40VgefLn5gSLx7J08gvVHUtR9C4v098Ikb6fxvEFqlu9skguAUA7Wj2SZ/ET2Wx8Xrf8p+aj4KXxaPgNUG8foNuwl1ceuWDY/ruEqGu2G5oAlL8uiaJZa5YbnQSA9gNrD1PDfXlv48Kl9xeX12tZNZ68taqy14qm9FhZPmMa9k+qZkYsT0aOP68Agsc711NJViET4jeDfieejo4qCv1UbXRWARwfb137eLwlPgRw+VYCCQBMp4U0HgOAD2AHQKCb3kMqtQgvM1EWKRqu97RKrdMly4fp7MY5VTMHeRbvlkVy8Y48gxD1YDuRVDsIu+9Z3oJod/q5adkv7KPzrhGFYfe83fDPHLqTqpr5j1gIcWiq7+Pe4w9R6jVybNt2IQAAAABJRU5ErkJggg==");
    this._viewable.set(true);
  }

  SketchItem.prototype.display_suppl_context_actions = function(context_action) {
    context_action.push(new TreeAppModule_Mesher);
    return context_action.push(new TreeAppModule_Sketch);
  };

  SketchItem.prototype.accept_child = function(ch) {
    return false;
  };

  SketchItem.prototype.sub_canvas_items = function() {
    return [this.mesh];
  };

  SketchItem.prototype.z_index = function() {
    return this.sub_canvas_items()[0].z_index();
  };

  SketchItem.prototype.disp_only_in_model_editor = function() {
    return this.mesh;
  };

  SketchItem.prototype.get_movable_entities = function(res, info, pos, phase, dry) {
    if (dry == null) {
      dry = false;
    }
    return this.mesh.get_movable_entities(res, info, pos, phase, dry);
  };

  SketchItem.prototype.contextual_actions = function(res, module) {
    var act, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = module.length; _i < _len; _i++) {
      act = module[_i];
      if (act.ctx_act() === true) {
        _results.push(res.push(act));
      }
    }
    return _results;
  };

  SketchItem.prototype._closest_point_closer_than = function(proj, pos, dist) {
    var m, _i, _len, _ref, _results;
    _ref = this.sub_canvas_items();
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      m = _ref[_i];
      if (m instanceof Mesh) {
        _results.push(m._closest_point_closer_than(proj, pos, dist));
      }
    }
    return _results;
  };

  return SketchItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var AnnotationItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

AnnotationItem = (function(_super) {

  __extends(AnnotationItem, _super);

  function AnnotationItem(name) {
    if (name == null) {
      name = "Note";
    }
    AnnotationItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(true);
    this.add_attr({
      title: this._name,
      posted_by: USER_EMAIL,
      _point: new PointMesher([0, 0, 0], 2, 6),
      note: "test",
      link: "http://www.structure-computation.com"
    });
    this.add_attr({
      radius: new ConstrainedVal(4, {
        min: 0,
        max: 40
      }),
      point: this._point.point
    });
    this._point.radius = this.radius;
    this.note.set("test");
  }

  AnnotationItem.prototype.display_suppl_context_actions = function(context_action) {
    var _this = this;
    return context_action.push({
      txt: "link",
      ico: "data:image/png;base64,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",
      fun: function(evt, app) {
        var myWindow;
        myWindow = window.open('', '');
        myWindow.document.location.href = _this.link.get();
        return myWindow.focus();
      }
    });
  };

  AnnotationItem.prototype.accept_child = function(ch) {
    return false;
  };

  AnnotationItem.prototype.sub_canvas_items = function() {
    return [this._point];
  };

  AnnotationItem.prototype.z_index = function() {
    return this._point.z_index();
  };

  AnnotationItem.prototype.get_model_editor_parameters = function(res) {
    return res.model_editor["note"] = ModelEditorItem_TextArea;
  };

  AnnotationItem.prototype.draw = function(info) {
    var draw_point, pm, _i, _len, _ref, _results;
    draw_point = info.sel_item[this.model_id];
    if (this._point.length && draw_point) {
      _ref = this._point;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        pm = _ref[_i];
        _results.push(pm.draw(info));
      }
      return _results;
    }
  };

  AnnotationItem.prototype.get_movable_entities = function(res, info, pos, phase) {
    var pm, _i, _len, _ref, _results;
    _ref = this._point;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      _results.push(pm.get_movable_entities(res, info, pos, phase));
    }
    return _results;
  };

  AnnotationItem.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var pm, _i, _len, _ref;
    _ref = this._point;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_down(cm, evt, pos, b);
    }
    return false;
  };

  AnnotationItem.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var pm, _i, _len, _ref;
    _ref = this._point;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_move(cm, evt, pos, b, old);
    }
    return false;
  };

  return AnnotationItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var GridItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

GridItem = (function(_super) {

  __extends(GridItem, _super);

  function GridItem(name) {
    if (name == null) {
      name = "Grid";
    }
    GridItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(true);
    this.add_attr({
      graph_attr: {
        line_color: new Color(0, 0, 0),
        line_width: new ConstrainedVal(1, {
          min: 0,
          max: 20
        }),
        shadow: false,
        show_marker: true,
        marker: new Choice(0, ["dot", "square", "cross", "diamond", "bar"]),
        marker_size: new ConstrainedVal(5, {
          min: 0,
          max: 40
        }),
        marker_color: new Color(0, 0, 0),
        line_width: new ConstrainedVal(1, {
          min: 1,
          max: 5
        }),
        marker_size: new ConstrainedVal(1, {
          min: 1,
          max: 50
        }),
        font_size: new ConstrainedVal(20, {
          min: 5,
          max: 30
        }),
        legend_x_division: new ConstrainedVal(10, {
          min: 1,
          max: 30
        }),
        legend_y_division: new ConstrainedVal(10, {
          min: 1,
          max: 30
        })
      },
      _point1: new PointMesher([0, 0, 0], 2, 6),
      _point2: new PointMesher([2, 0, 0], 2, 6)
    });
    this.add_attr({
      point1: this._point1.point,
      point2: this._point2.point,
      _graph: new Graph({
        marker: 'dot',
        marker_color: "#f00",
        line_width: this.graph_attr.line_width,
        line_color: "#f00",
        marker_size: this.graph_attr.marker_size,
        font_size: this.graph_attr.font_size,
        legend_x_division: 10,
        legend_y_division: 10,
        x_axis: 'x',
        y_axis: 'y'
      })
    });
    this._graph.marker = this.graph_attr.marker;
    this._graph.marker_color = this.graph_attr.marker_color;
    this._graph.line_width = this.graph_attr.line_width;
    this._graph.line_color = this.graph_attr.line_color;
    this._graph.marker_size = this.graph_attr.marker_size;
    this._graph.points.push(this.point1);
    this._graph.points.push(this.point2);
    this._graph.points[0] = this.point1;
    this._graph.points[1] = this.point2;
  }

  GridItem.prototype.accept_child = function(ch) {
    return false;
  };

  GridItem.prototype.sub_canvas_items = function() {
    return [this._graph, this._point1, this._point2];
  };

  GridItem.prototype.draw = function(info) {
    var draw_point, pm, _i, _len, _ref, _results;
    draw_point = info.sel_item[this.model_id];
    if (this._graph.points.length && draw_point) {
      _ref = this._graph.points;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        pm = _ref[_i];
        _results.push(pm.draw(info));
      }
      return _results;
    }
  };

  GridItem.prototype.get_movable_entities = function(res, info, pos, phase) {
    var pm, _i, _j, _len, _len1, _ref, _ref1, _results;
    _ref = this._point1;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.get_movable_entities(res, info, pos, phase);
    }
    _ref1 = this._point2;
    _results = [];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      pm = _ref1[_j];
      _results.push(pm.get_movable_entities(res, info, pos, phase));
    }
    return _results;
  };

  GridItem.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var pm, _i, _j, _len, _len1, _ref, _ref1;
    _ref = this._point1;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_down(cm, evt, pos, b);
    }
    _ref1 = this._point2;
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      pm = _ref1[_j];
      pm.on_mouse_down(cm, evt, pos, b);
    }
    return false;
  };

  GridItem.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var pm, _i, _j, _len, _len1, _ref, _ref1;
    _ref = this._point1;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_move(cm, evt, pos, b, old);
    }
    _ref1 = this._point2;
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      pm = _ref1[_j];
      pm.on_mouse_move(cm, evt, pos, b, old);
    }
    return false;
  };

  return GridItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var FieldSetItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

FieldSetItem = (function(_super) {

  __extends(FieldSetItem, _super);

  function FieldSetItem(name, id_c) {
    if (name == null) {
      name = "Field";
    }
    if (id_c == null) {
      id_c = 0;
    }
    FieldSetItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(true);
    this.add_attr({
      id: id_c,
      visualization: new FieldSet
    });
  }

  FieldSetItem.prototype.accept_child = function(ch) {
    return false;
  };

  FieldSetItem.prototype.sub_canvas_items = function() {
    var res;
    res = [this.visualization];
    return res;
  };

  return FieldSetItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var TransformItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TransformItem = (function(_super) {

  __extends(TransformItem, _super);

  function TransformItem() {
    TransformItem.__super__.constructor.call(this);
    this._name.set("Transform");
    this._ico.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEQAACxEBf2RfkQAAAAd0SU1FB9sKDA8KLHcgIgEAAAKRSURBVDjLnZNLbAwBHIe/mdnd6ezs7mx3lmqW6m48QqMq+ghpJLRRbcQrIqIuiOdF4uLAEeFAehGROEg8y1GsExUiIVFpK7TYxnZZ1db2Mfvo7my349ADcVG+y+9/+X2n31/iN554aVRMCq8tJvgXonOgHZTBfXUf2t10APZZl8fLZ/JTw+Jm8/oR61uVnNsJ62fbF73RmUOrWHjDrrmYW6Y7Njg5P2sBQCzEaf/RXTpm3pJ0zWqZR+1m2D8rwSj4Ss4ePzYtTFsUpgRUl7DAb+OQj1MB0P8qUPcub5GCC0r3PrwiIEqgFiGqRVQVE6qT2AJA6IpE/b0A2in5T4Gtp2vk1Zn7F78OBYXA4NO3QmZgmP7+QuLBEP0vCsRZ2atWbc6HV5cVV/RFgonox+rP8e53j0mMP/LqI+8E6pEDB/w98wLaos62z3cIT19nN2u4yzV2PCttqp/f2VhZQjJpWj9GcxhGTsikTTo7nk8OPD5XacODUuxRFN3jErefqW7t3RNfElo0Z0X4Zdd7MkZ50Omgry9h2SWEUp+dgMfBo3DEMkYSExDJi4SZMIYzXzxOBa9LtbZtrKlpql5VRANNZFOq6pKxy5KQnYKu/hRdvWN8jw0JuaRhAmkRsGK3E62R99+zbkURZJsdWbRR1xxcKaXHfF6fgtst43Y70NwyTkUkNWaQTyYGAVPkBPCc6KfuwYOp9CSFQoHx0YxZ6irWZXG8RPeraFoRTqcdp2onn81ZmTGDfDoWB0wblwAL0Tw8tfbhyTdXC6npeDKVjeXS+aiUXrf05uU7myrrar2hZeUgphjoMYTkUM8Ak+FbQBYu/HVsOmhbce2+XbvzRqSioe0rOPbzHwiAF/xLBeHXt/4EuYr5O3Tu3U8AAAAASUVORK5CYII=");
    this._viewable.set(true);
    this.add_attr({
      transform: new Transform
    });
  }

  TransformItem.prototype.accept_child = function(ch) {
    return ch instanceof MaskItem || ch instanceof DiscretizationItem || ch instanceof SketchItem || ch instanceof MeshItem || ch instanceof ImgSetItem || ch instanceof ImgItem;
  };

  TransformItem.prototype.sub_canvas_items = function() {
    var Z, angle, ch, d_cur, d_old, flat, lst, scale, torig, trans, vec_cur, vec_old, x, y, _i, _len, _ref;
    flat = [];
    _ref = this._children;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      ch = _ref[_i];
      CanvasManager._get_flat_list(flat, ch);
    }
    trans = [0, 0, 0];
    torig = [0, 0, 0];
    if (this.transform.cur_points.length >= 1) {
      torig = this.transform.cur_points[0].pos.get();
      trans = Vec_3.sub(this.transform.cur_points[0].pos, this.transform.old_points[0].pos);
    }
    scale = 1;
    angle = 0;
    if (this.transform.cur_points.length === 2) {
      vec_old = Vec_3.sub(this.transform.old_points[1].pos.get(), this.transform.old_points[0].pos.get());
      vec_cur = Vec_3.sub(this.transform.cur_points[1].pos.get(), this.transform.cur_points[0].pos.get());
      d_old = Vec_3.len(vec_old);
      d_cur = Vec_3.len(vec_cur);
      if (d_old) {
        scale = d_cur / d_old;
        vec_old = Vec_3.dis(vec_old, d_old);
        vec_cur = Vec_3.dis(vec_cur, d_cur);
        Z = Vec_3.cro(vec_old, vec_cur);
        y = Vec_3.len(Z);
        if (y) {
          Z = Vec_3.dis(Z, y);
          x = Vec_3.dot(vec_old, vec_cur);
          angle = Math.atan2(y, x);
        }
      }
    }
    lst = (function() {
      var _j, _len1, _results,
        _this = this;
      _results = [];
      for (_j = 0, _len1 = flat.length; _j < _len1; _j++) {
        ch = flat[_j];
        _results.push((function(ch) {
          return {
            draw: function(info) {
              var key, n_info, val;
              n_info = {};
              for (key in info) {
                val = info[key];
                n_info[key] = val;
              }
              n_info.re_2_sc = {
                proj: function(p) {
                  var np;
                  np = Vec_3.add(p, trans);
                  np = Vec_3.sub(np, torig);
                  if (angle) {
                    np = Vec_3.rot(np, Vec_3.mus(angle, Z));
                  }
                  if (scale) {
                    np = Vec_3.mus(scale, np);
                  }
                  np = Vec_3.add(np, torig);
                  return info.re_2_sc.proj(np);
                }
              };
              return ch.draw(n_info);
            },
            z_index: function() {
              return ch.z_index();
            }
          };
        })(ch));
      }
      return _results;
    }).call(this);
    lst.push(this.transform);
    return lst;
  };

  TransformItem.prototype.get_movable_entities = function(res, info, pos, phase) {
    return this.transform.get_movable_entities(res, info, pos, phase);
  };

  return TransformItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var MeshItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MeshItem = (function(_super) {

  __extends(MeshItem, _super);

  function MeshItem(legend) {
    if (legend == null) {
      legend = void 0;
    }
    MeshItem.__super__.constructor.call(this);
    this._name.set("Mesh");
    this._ico.set("data:image/png;base64,");
    this._viewable.set(true);
    this.add_attr({
      _mesh: new Mesh({
        not_editable: true
      })
    });
    this.add_attr({
      visualization: this._mesh.visualization
    });
    this.visualization.display_style.num.set(1);
  }

  MeshItem.prototype.display_suppl_context_actions = function(context_action) {};

  MeshItem.prototype.accept_child = function(ch) {
    return ch instanceof SketchItem || ch instanceof ImgItem;
  };

  MeshItem.prototype.z_index = function() {
    return this._mesh.z_index();
  };

  MeshItem.prototype.sub_canvas_items = function() {
    return [this._mesh];
  };

  MeshItem.prototype.cosmetic_attribute = function(name) {
    return MeshItem.__super__.cosmetic_attribute.call(this, name) || (name === "_mesh" || name === "visualization");
  };

  MeshItem.prototype.get_file_info = function(info) {
    info.model_type = "Mesh";
    return info.icon = "mesh";
  };

  return MeshItem;

})(TreeItem);
// Generated by CoffeeScript 1.4.0
var FieldSetSetItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

FieldSetSetItem = (function(_super) {

  __extends(FieldSetSetItem, _super);

  function FieldSetSetItem(name) {
    if (name == null) {
      name = "Field collection";
    }
    FieldSetSetItem.__super__.constructor.call(this);
    this._name.set(name);
    this._viewable.set(false);
    this.add_attr({
      visualization: new FieldSet
    });
  }

  FieldSetSetItem.prototype.apply_to_children = function() {};

  FieldSetSetItem.prototype.accept_child = function(ch) {
    return ch instanceof FieldSetItem;
  };

  FieldSetSetItem.prototype.display_context_actions = function() {
    var contex_action;
    contex_action = new Lst;
    contex_action.push(new TreeAppAction_Save);
    return contex_action;
  };

  FieldSetSetItem.prototype.add_collection_item = function() {
    var id_child, name_temp;
    id_child = this.ask_for_id_collection_child();
    name_temp = "field_" + id_child.toString();
    return this.add_child(new FieldSetItem(name_temp, id_child));
  };

  return FieldSetSetItem;

})(CollectionTreeItem);
// Generated by CoffeeScript 1.4.0
var MesherItem,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

MesherItem = (function(_super) {

  __extends(MesherItem, _super);

  function MesherItem(name) {
    var _this = this;
    if (name == null) {
      name = "Mesher";
    }
    MesherItem.__super__.constructor.call(this);
    this.add_attr({
      _mesh: new Mesh({
        not_editable: true
      })
    });
    this.add_attr({
      visualization: this._mesh.visualization,
      cell_type: new Choice(0, ["Triangle 3", "Triangle 6", "Quad 4", "Quad 8"]),
      base_size: 100,
      p_mesher: new Lst
    });
    this._name.set(name);
    this._viewable.set(true);
    this.visualization.display_style.num.set(1);
    this._computation_mode.set(false);
    this.bind(function() {
      if (_this._mesh.has_been_modified()) {
        return alert(_this._mesh.points.length + " " + _this._mesh._elements.length);
      }
    });
  }

  MesherItem.prototype.display_suppl_context_actions = function(context_action) {
    context_action.push(new TreeAppModule_Mesher);
    return context_action.push(new TreeAppModule_Sketch);
  };

  MesherItem.prototype.cosmetic_attribute = function(name) {
    return MesherItem.__super__.cosmetic_attribute.call(this, name) || (name === "_mesh" || name === "visualization");
  };

  MesherItem.prototype.add_point = function(p) {
    if (p == null) {
      p = new PointMesher;
    }
    if (p instanceof PointMesher) {
      return this.p_mesher.push(p);
    }
  };

  MesherItem.prototype.remove_point = function(p) {
    var ind;
    if (p instanceof PointMesher) {
      ind = this.p_mesher.indexOf(p);
      if (ind !== -1) {
        return this.p_mesher.splice(ind, 1);
      }
    } else if (p !== NaN) {
      return this.p_mesher.splice(p, 1);
    }
  };

  MesherItem.prototype.accept_child = function(ch) {
    return ch instanceof MaskItem || ch instanceof MesherItem || ch instanceof SketchItem || ch instanceof ImgItem || ch instanceof TransformItem;
  };

  MesherItem.prototype.sub_canvas_items = function() {
    return [this._mesh];
  };

  MesherItem.prototype.draw = function(info) {
    var draw_point, pm, _i, _len, _ref, _results;
    draw_point = info.sel_item[this.model_id];
    if (this.p_mesher.length && draw_point) {
      _ref = this.p_mesher;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        pm = _ref[_i];
        _results.push(pm.draw(info));
      }
      return _results;
    }
  };

  MesherItem.prototype.z_index = function() {
    return this._mesh.z_index();
  };

  MesherItem.prototype.disp_only_in_model_editor = function() {};

  MesherItem.prototype.get_movable_entities = function(res, info, pos, phase) {
    var pm, _i, _len, _ref, _results;
    _ref = this.p_mesher;
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      _results.push(pm.get_movable_entities(res, info, pos, phase));
    }
    return _results;
  };

  MesherItem.prototype.on_mouse_down = function(cm, evt, pos, b) {
    var pm, _i, _len, _ref;
    _ref = this.p_mesher;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_down(cm, evt, pos, b);
    }
    return false;
  };

  MesherItem.prototype.on_mouse_move = function(cm, evt, pos, b, old) {
    var pm, _i, _len, _ref;
    _ref = this.p_mesher;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      pm = _ref[_i];
      pm.on_mouse_move(cm, evt, pos, b, old);
    }
    return false;
  };

  return MesherItem;

})(TreeItem_Computable);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication_Annotation,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication_Annotation = (function(_super) {

  __extends(TreeAppApplication_Annotation, _super);

  function TreeAppApplication_Annotation() {
    var _this = this;
    TreeAppApplication_Annotation.__super__.constructor.call(this);
    this.name = 'Add a note';
    this.powered_with = 'SC';
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Note",
      fun: function(evt, app) {
        var note;
        app.undo_manager.snapshot();
        return note = _this.add_item_depending_selected_tree(app.data, AnnotationItem);
      }
    });
  }

  return TreeAppApplication_Annotation;

})(TreeAppApplication);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication_Test,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication_Test = (function(_super) {

  __extends(TreeAppApplication_Test, _super);

  function TreeAppApplication_Test() {
    var _ina,
      _this = this;
    TreeAppApplication_Test.__super__.constructor.call(this);
    this.name = 'Test apps';
    this.powered_with = 'SC';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      ico: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABLCAYAAAHlpk6FAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90LBw8mFS0sjAsAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAgAElEQVR4Xu2debxcRZn3v0/V6e675WbfE0I2CCHsISAhgqJIRBSlUZnRAcPihiIqAzMuwOA2jiKIK0gUxZUL6gyK4jJqTEAWXyIQBBMiQhJZQ5abu3TXed4/6lSf06e7bxIIGObDL5+Te05VnTpVT/3qqafWlnK5bAAF6OnpUZ4FpFwuy8p9LjFHv757XGmk9DKIuC0qsYNYESNggGoBSm0i6r/rX7YCW5HeATdny6XnrogADjmmNLlkZCKbAIfYSLCRD69ODZa46DAMgiAhNnEDKqZE3FEyfL2nRwXgzNvXvbZkZARgsMRJYADJ3it6qDh5ZxM/vnDIJIkA1CkUZGbWE4eQvPCHD7zlzM6pM8bPe99/sGzJYhYtvakuaEAEIFYU2LPOxyL4gpHDPnvt+ODcKiJIIjMaA3YyuaTjAMvRdW5DwGdTpApMzHqo0+mCtOOyrkPDABzz0O9+AczFpZcg7bmw20UEcN33bnCLXj82mrvvhtj1FjhsZMwdAzGHbKpwx4iI+cQ83F1kQsGx8gkQA4e0V7izr8BdD76U814/zdMlqQG7BBGgF1//W/v4wbM7GMQwiLgB9WRzYEAGYpWOUUYTuqCoZ38fQpHKkdd9cEvP3YM+m4/PnD2fTUn0oQaAaORT346gW9WITeJyGEW9Zx/89vj/+lTPhZMXRXg6zMZhSGuAQK3qePJ63l2JwwpSRyGT1LAIT8zZ2Kw34DDLliz+8Mh5h9y+7/svefKO808/rv/xDdsnLTANn4KQklADePq+lQdXNm+ybWPG0//4hiR4c4TIpuCQutQ5WLT0pgew7IWD/c77ZMYzh+Q9H5ljPpZ1GW8F9k38dhgRXrV0ipN9yNfNHcSHvrbMPFouSwToFw+ZXAD41cpvS0wMcaLHRamIUIzhkInKYwOWvz0Vo1ZQp1igMm0+k77wZh+8XC77ok/ef9X577W/e3hkSSa0G0Ok1inOCnHF1GSqqpSM084negVreNoVEaPQBXFUVCxEAmbboFRNm26LMG0GRaGyuSIjpUKkaGWgYjZWBvR0+VvvZ1dGcdefv+k/QMK9crksJ7z0bPP7BbMPKXbyZJJQABVEcKTtSK7Ak+eaqGMFkxF8Umk8fFnWhJDcC4Crqhv8y+b1V79xn15IWcaKw2ceXyqK4qgp6AQKiIRv54lS/2xs5lmtxjhidbpArLxFnU4WpES2agBYsLHQNrMbklKseZ55+7rXlgoyvRa4nnDZewCWnbr40nC/6Jqb3p/xagM+UZNmPiNDQFG+eMhkgURi5XJZFFWc1LebQ2DR0puuWLZk8XsWLb3pilvPfvNFnVOnV0fMO3jkX3+wVBZ+9ceYQpFlp7ZuX7eHGsdGnn/58SUjpwetQz0Psqh/dnQAxzS4PwM0SCyDtD1vVgQp8R2OQ5NMPOsENUNImGy4v2/Znvt0HJpwYxPQh09eERiGpQ3fJKUJaZb4ZwoL1So94TG04nrjW2ZtmnPf6oJTfRzHcGA8lslYxiaJAvC6LEgu3Le6AuqfvTbNhem9bWPHV+dPPrnm8ExNjEQx7xDy39jeu1Iul01PT09cLpdl5d6HceG06fKzKQd2RsONGiAGiWMDYhAjWq1UTZsh7tq0TWJgkyuhFScyvhRbFCwoIiKi0ZZ+2Vhpl6gbCqJqRRjYWpHRAwM456RUVB1Yv3HwgI4Nld6B/4hv+elcAVRCd6Snp0dP/cPDJ3YMN7+2JfG8cXhtP6jEVZ+LqoKJERLlaBI3AGeUjuHGv5dDXc8jeA8irqpUlbNf8edbL7nwy6OZN+kLKuVyWVZMfjmL33zCMe3D7VpFQ6S+CQLU+U4GkHIhkN0/NyQioEkzFFDzUFTiAa549Yj+Y0+YNVOjnp4eLZeRYuF1CxlkSy0XAQ7JRSyAJok3pPotPAM+MeoULKpORaxoyFycvGEEsLWa/ckTZs1UyHDq3XeuO0esPBgiTdBKoTYikyDwxRVXsTaSglM9w0ayAOjKZKQhzk2vuzn61iOnuawiHQEMx5vIiKcLpH3BfCT5BleAYGIb4DJbki4caqXeUqYxLgCdoRUgo90FGQ6MxkJihlvyH06QbaShrqGuONXzrMhUQBIO+fd3QOE+KAUgkyhFuwUZVQvRHAKwaOlNHwP406f+9TX7X/DpG3+/5DWfnn/ptz/TNmL4BbecdQJ7nnQaa39wde2lnW2os5LqxrEt67k9SGSLy5Ys/vCwGXuvuf2cN1/QPnEqe591PmMPXcSU48pD9syHQlZSXWKlm7S4mhVd3bNEURHgwAsvm7bpvnvYdP/djD100TNOzJ7qyzgrqU4cIwBfTYNzI2pu8z5wyd04puGIhu81j+F7zQPS4trZhK1NKnC29g3D4unfLDHNLEzLy2gW9hlialJJI1JdNBY3RB0Jmtwru2HAnCFCPyM8nHTWs5KaAmzOmhR18JJqA6azC6WTgfS/5CdKT9JrJWk2BNkHhwIbsfQDBm/+DoOc3tnVsGhPT08MiaF3ypWTpOIqeyTeBhiNYzKOicDwxE2Sa9fDgqvqrz5//a0CSaK+e9Z6vXLBng/3Vd3B2YAtr6HCZN3rw6QNdy78QEWve81tG49970mH1xpkgXRo99oVfzR/Wl2U4w5aGVcrjqhgmVMQejuVhzYqrtexYFzEbx8wtA2vQEU4bKrhjk0xiDJ/hHDHRpg/3HDbVsXEMdKraKcwGBmOaBdu/XsVt7FA3BaxYP1LzS+q/bx1yZ61ahOMvIA0Nx6SWKXZll2SezJ/hyrWEF6gsXHX5Qs58ohPs1wWBqfgn08LNFfo2XTVhtGaYflC1YXLJZ8Hli9fyMKFy9OAKerCCXhbPpRgMLEuvHyiXHzOBn39r9dMa7eFQ9uKZk0l1n5643xiBMA5EWsVmmcSABURRRqMBpcYfka8DWgLiSLNUtijVjgWRUVqNuP2EBWAxKpPHf3/xTZzmKJP8cBTN3/tn/d/+sjjfy2//8nLG2IOwqp1Ie77yGzZ55K/6JJbHlliRX5a6hQzEGtc0sT0S0pSnVJnQGfr3K5CYquqUwDJDLoO9Z18YQLgkjbDiuBUsVESLNENOqg2VgaBMwcq+sulC6asCO8G5AcYGD7pVZx5628+WyrIUqc6FgclBHVaZ4wDZPtPOHwXxuF7DglqPYl6hAwJoMnMR9a9DnU9mBw8v6SWllCAiu+tCKKKihHAoWrVWJE49GbE+QIQ31FSRW8sGTn8rNsf2f/KQ6d8xX/FI8p0pwXQC+f/2zFFwxqKjLNJlVFUkhKoJSApWaFJJ1SK9U6hL7mLIVhUnASBg0OxxLjEPUYwjAbG4ZvOYXGVEqgxEYW4ihjRUJUdUDVCBRgoFOS9V5w88cr3XLehNqGW9E3LQqIPjIs7MKYbx6i60nG1iQuPoUyrnJ86lVgRk+NxGBkIMIImLDHJ+K/G6idS1Gm4VxziVEdS5Y1GODDpbnjmp9/WxEXE+newYL1RJDgI2ckT14rvT/9hxScE3lZzrw2nkQgrtkbxpTAmobT/L40xX6dasabmLrZ+MiQgmUttgCCSUYFhAGCOiTgTRxsQ20gkYVJTdpNNV/DfSQtxZq5FCMmtCcCzSbrV6cisLgjYoSrVTDLAHz/8rn8K970Pr51nOzo3to0Zvx7g4Eu++J00ZALHVCxnCmLwHYagN82yUxcDyM52o3YGoRsf0FC2gqggw7CMTJ63L5wdxMEf+1ItZ8tOXTyva9qsR/a/4FM/+/2SE85Zdurij3dMnrZ227qH9iQRwu3nL6H/8Q2MOmAB2zY8Iv2PrWfR0ptY9cWP1eIM93Pf/eGa23OFBmHhEAzd+FHtrHueMTsixFr1rkOiV8TaIjBCXbUIsG3dQ9NDkAe+fhmH/udS7vncR3hq5W3BGfCCWbZkce3+ucKw3HNWWCFjsaLDxEl/4paiXnE3CmH78N9IJmbE2gLQPXvJubf9ZennFmQD7nnSaTWB1GBS68W2teP6+1i2ZDGjD1n4nAitLxmOCWjQWcbEItgufBc6i+ZMatYqZhnYyEhwyKKlN/0c6AbeMOHIY6MJRx4blHUNQ+mjI750Q95pl2N83TKc+tYQUqF1AN21jGYznL8PaHTzcabvBwUtwBz84HAQTq05353wSE5LZZ+86SBGscwB7sYmmfOC8FlJWZK1B3xmod7fuyuWEo5pQGctTL1gmrP2HwfFIsmamxrqqmG5XJZY48dwNgIOwjIIPIajLxGCks4oBng2JkYfjhKWNhyjAZNhViqg3YxBTeF48qiXfkQHKn6QoRzWESQWvNyyebGuu/l0PfP2dTeUjLwueS0dnmmsas1YUl918367PxSQinNHvXHN08uOOWW/VJ8nfwXQdTefrkdO+oJcdejkN/RV3fHqJ4ocYdTOJVcW+Wd4YTEIvD5NaohTXbu1b7D7qwum/i4rKGhiZ0044jfQA1cfNvVngFxy4crS2pePnk87ZeBooFTHnEbUV8tGpPotCLNVfKlbGieEzEErXeffC9/xf5vF7/G4qfBD95i74evHT/tb3rMB5XLZhhHT3Mhp8K8N82bdss9D4bkK+7yjXC6bIIwdEUp4zrvvagwVfz4NQ4XdlcgLJ6UtqC5cjixfCCALdTnLZaH09PS48E7SSjQwMYe02tXf17BwucIRK7Lj8CEdeQQ3Q+N4e7N3hMZweTRLk5I2bDVkJyw0M7ZFT0+PfuN/vmyXVV4qc9Y8IvcctEenlgrOFkuxc06MxthYiC24WAVjVJ1I3WIBjUEMzjmxRhSqRNWYYVsqxBILYrQvLuCqgoqgRtFRBTXVQZFSQQExGqsz1o/Ni2AEBhU6t1SIFZ7SonGqFLoE46AY+QwKSrUSSzwY06WxFqoVwYBUncQOxIqWBvvY0C9uRv/m/oO7B803f/G0Gznvdr3mnM9mSRAElpoOWUHpwuVcf+4GPeMn93Ru7e7er6NkhrkBfSTuazpZoc758Xlrk4HuFmg2YaHqRyp3YLICMgnfmQmLlpMVVWyxy4x3VT14sFK96ehftq20w27kbeed0TTWuqW3t49+q8zYfJt+6R1P8F/Rh6ZTMLMHntLlI/exhjhD1z7qW7pB7+62aX0mna8DsQHjjWEJI6BJCAHP92pGYE79MLYRaOtOCrjJAF9+3D3rlkXNP7S6SXrV+XXv/VvjWERmUOTkabfe+9HBwWuqj979bvnvgy6NFy7LxpPBdadPlc39Mb887fczuoYVZ0Yd3GUjsTqoJONaCs1ndpRkwf2ugheO4IidqrGRgJ9wEHFSG7loggZ3Jcfe3MxORTUuxFJwA1qsKv9x1aGTT1mx+j45YtY+dZIXSKvhUa/9rTn6nbFdP2av9xjhh4UOMZmZmWwi0gVtqIoT06xEW1SlumooVnCazL4kyGYs694MLQvIf0NIq25A9oXgLwCuqorjkEpFx1ww8ukrZs2ZV/dunVH6hW0XccWYbx0Zxay0HdKpfWrEL4JraPGywqlVhyThQcCBAduZCovD8FbwDDJuIuts5gWShXrUT4Ul90mk9UPjkkyNZe9DrTGCSiQrgW9/7g65EuqHqaLAKoD9fvm/8Wkf59iuSHpwdIbMD1F6TT3y4cXWmkj1/yXLK9PtLQ3SrFXDHBoKJJlzFCSsdESciCbTd4p63ekVvIBqmGVSVLG1uCRxazPCQ1tnde8H3J6VTwQ1q13v6fx32q3Mcqqd1orFZTKWws/R+cjr/Vp3W+rC1SncVhjKj5rQfER+rAwpSowjrgnMaRswHhhjIrqBjtjPeEZYLA4vSAUjDMZKjGUQR3cMewO3B0EBft4Q0HK5LNNKGwXGdxmhA0cBMhnLwuuDLBsCUzwyOmmn4fuUjQOBoSAAtao4bKxUrIjFMdKpHm1griBT8VN5RbFiMgWlBBln4gL8lJxL/yIQw3eg3qyqMaunpyd+9evOECNY8bvpbNK0+hHO7ZT0UHBVr/Oyk6xDTrBW/XOcTLDiUFf1jYBYUXFiXFUXmIjXAVMUtVbE4IhJR1LiRPAeWXbnC2KIQg7M6unp0Vryy+Wy3DV/nExTxEa0A0as+AlMXxKqqAmtIAD1e0WzEPC6QKyojbJmPQBqo2aUBUknWNUC6vwfKyKKdrqqnmYjOcD6uURwtdXcaaH6yVffXWmhV3cUdTorMUq1p6dHD+x8l/KK8RY/Bu/THOwZC+JXsWTRKiECNb2yswgvBcVtgJJTfYsVOcgKkK7iVKDZGuhdtj6xQWeFbk7/8CL4D7ST0jlAE7cwbe4TllbP7SYsvwA8ILdjy8MRAaroXOBtViTbgATlvN1v7krU2VnGl4bFpcLK2Shp4oao5630W+fU6feAn7oH6Nxjxr2JV37HsWAxrqpvtJHMU6deRMm3HvjaZTy67OdDTpU9F6jTWasK4wKb2pM6T9PWcEcRNk4kuuXgi7/0I4BlSxbPAzj4oi/+EGDLX+6fcO/nL/qnau+W7rGHH/37vc/64K3q9OxNf7p92ANfv4x4cMCO2OcA9jr9/UQdXTy67Ock8QBDzy/uStQxa9BtUyOdFr95MQjumUsry7BmbLOUtqx9oPuuj73v7RIVBktjxj/62PJfvWxw86aj9jv3Ern38gspjhhN156zefKuW+l7dD3Dpu9FafQ4Bp58jNGH1K1Dfc4RhCU9PT3xrCUXEfv+cMfzog8cbfdeeuGbALqmzXgYRPofXc/Td99R05ejD34JE49+NZ1TptdeGzH3IB5d9vPnZMp+KDRMWBjBYimSVfBBL+2EMk8gJK1aU1jaqr1bugC2rLl/Zs6Pue/5KPdf9Rk2/PpGAGac8g4mvzLM0D3/CALRcrkshf4+3xRDKXO1YZPLV88Sfr9o6t/8PoQL72WvgLZRByxYA7Df+Z98bNE1N3Hk136iYw87Ghx0TJ7GEV+6vqaT1l53NQC2WAJgYOMTPpbnCXXMkrgPwGRbwxZozZah4Lsx2XdLc8/+6P9b/o4TZ9/9n/82LnETgDlvP587Ljg9ExT2ede/AzD1+Dex/lf/zW0feCvw/Ct4X13iKNwX8dZMFnkBtaqK+apXH87Comtu+u/kqYDloIVX/UgT+6nOFGklhOKIUS39djUaRh0Cps/sE7yNk60qkM9wQDMbC+pbvnrDNTyHdaAHYhmXxPOsuybPNUy2u1MaFPD2VVYntb5si8vlwrjMBW042hRdBIyvCa9VgfyDUdfdSf5KuVym3w9ReGElRmmNPWlXo7Wb/xs6sSmCuxfIcCz7ihPw41CNwzG7KWqtYU9Pj67eMglSNviWq74lbKu5Z+/r/7aTZ6DXfx2KzsMm59JQq4ovGJgszdqNBLU+AUuEr45FPANt5l+UufLPURI+whdGEccU4EDxu653bwGl+lWhfmlATsGvUdwBAHsAjsZ1pTuKGC+kbvywbmoy+Cq3OwssqIsY6nVWUPCUy2W54dxXx7GyKZHuDGACXikX8IINTMteEY4ifhi6HRiJYwaOvfAM9bqp9Tzf7gYBENVwslgNddUQoFLVnyS6RHGMBGbij6MZh6MbRweO9uQahl8OORHYE8d0HBPwg4e10YbkemEgSWe76B/rPXJW+uz97zdaqXwLIJmi8vACGoFlHDAJL7zJWMYDo/ELa32V9kzy5sALRUA5ONW7Prm266G8u4G0Xp596Qe45IefXT0Q61fFiiHolqD08pmvf/ZhA4vyYXdfBFKo/08Z7IvP+IVbV1NP4W+48YN0yxfRs+EcPe+Xt0SbR+zxu4LIS4A4YckLRefsPCxxsn7DDFT07VcdPvnKfBDI2FkAPRvOUYAZ2552peUbjqqoXqZoOveWVrHmVxZ5v2dy5RHc0jWl/j7/XvbdvHt6+fcA/KzQQN+gO/bfP/KxqxJXoN50qKMaNJ76+tYf/GV8aVL7iXE7J+KYhiW11pvDN72tw4Smeeh4Ur+QnjAtp4nbUEyvywOtww7guNMN6Hf3u+vh5R98zxFDmkp1ax2yQgO4/N4vyPA7HnriyAcfvfIWFl85Zv+fUbKKquI2GzSOiEYNIir0xzGHPzGAzOjktqeriElT6Ppjuodb9rFC35PCqoIjLihaASmCDsKCCRbUcNemClUnYJVYhQXdhths47ZN7RAph7UrYi23bIsRFSKnVJ+CaBRUNzqikV6azgqHTymgG/vo7yxyz9+rqFMqj0VIBKYYcds9R5v3jrg1diP6uL7rla0EWo9yufUC3Dzy/vl38v4vZOTzYsvlsqxatYpyuWzmzp0ryUXiJnPnzpVVq1Zl3yG8E+6bhckihMleQ4XfGezI96E+zTuDZnndke81w1ByyOejVXqbueffDW7NwuXD5N97NsjGn61BQmgUM5PUGb+A2qLmeeW/8ufSZP5095ky+t77ePvyr+hbHlmjSz5+gsz/0521F971/fV6xckT5T3Xbaj9zcTHFSdPrC1yDutxA1qtr10uC1nEcmKFc6/38UK6WPA9123QL71pkrzr++v1ylMmyeQRBY7/8kPac8YeYgTecNXffF5P3EP6izHSIRR/tQeDe/4NMwsqTyqmG6oCW/q9zWiTVYjhgJOQHxGppfucnsa8QZqPUrJC0whUYy+bnKzrsFCXYySN93MnTRQjPr4oN+7fUTR0FA2RgZOvflhvOHMPAag4n7bIpPKxRuirKIPVmLddu05fs+g648b9kVdWeinYsTykq/nOnofCelj40Fo9Ysp38ifgBAgZToRnAc+0uqDUkytvTACUJ14ue31iodVHn2TdwdMKbYW2Ltclox6v6shqHyNHi7WFttzm9QRJ+RBrSuYEDel4tgjfqhk8AfXPqcVFxj1xi6v11igQVsBK7BcWKbm05yqEJGEgNXr839Ri9M/J2Ezyfo1EGZkBdflqJr+8W778BKBSUdm4zdlI2NzdaZ5sRx4bxsDTM3tXbis8MjZ+1Yob495jinx+zz6xG6fr5a86u2klyPIj+Oc1FmQScUvb8di2YTJ+y516+/c/qe/46Rz5lz8M8o0/XcyW9790lBGzd2QYUzTm6e42s6pv28CmBx+K2Ws/Q9xZlLEdG+KSpOu3qrmDOSKUGEOMYzAusTnu8r1REYoIJRVEvFHXCjowCCimWKy5xcDGAUu/xEIV2osOWxhMInGAFbDEKH49ahuG3IEwGfQ+NqiiSkVVSkWh2BGrFb8lRESQQsijBZDc4ESCGHBUBiNiB+IUFFxsUUTUKcaCiUxzKz3tatSgqvT3+m8bAntbZgMG01tbEuiEwYerFIoW6RIGNutktfoyHNOx/DkeYMWoBx7863t/eqP71qQ3yO86v6Jnb/xfPruyh7VbH2NwyVIWLm/+PYEay2rMDgycc/JnpFoawepr/daMD/3b3dG6Y4fPLnTZg4yw3vXqqoGROtDlTAGSxA6F7XXEs12f53HEIiypatAGOWS0UF0IG9UW+LV481lgezLLQKk3I4xAsuy0pvVarYhKZCCxgb6tOthuZWxsOTFWpsdx3LNvx6Zl799v3sCif14j8855G19e8LvWtZ2MIMqZU+p6krOUCwfN5WUyyZz17+9wJ9380MiOTnNcqSi2VJAVFBkADIOIFBPBthgMDQWXWQfXKlFSE0LUWgjPBRSV2Hjhx1WfPpMseQ3P2IR0vrClVohJ81VVJBIfLpFDeC+7YiEszwV8Pr1jbe9CTV5NkR38oZE4QyGzwjXEUfch9QdRqRW/Z81VtVodYJKJeDuwqbo1/uzVR0/923Xf32Du2/KofvSMA1smVCBtF4Nd1dPTo4dMvEImXjadG9/0Gn3Xir/uMViITrIiG6OYFXEBG4MaR7pdKBPfLsAOxaPktloNhXzNz2rGMOCTDoLvYKS7FPlv1pNg16C+jQ5k99NIeZLEYZMPYJzqOVVlMgPx+VcdOXVlLmwDaonOG2WLWM5Rdw1n6eeubd82acIpEsv+RcM3Y0NsBAN+dT+ZOLRxz0od8jsESN9tEKKR2n6XgHzcdYJw4XT3FA1x1iFLtOxw6Y4gTHsNDV8iQm1jEQDOa+UawtxgrsPQoOG8WwqLJvI0tY5BooGSlkESDSRGkr05mSyr7ym2lJGJkvKyqBFcPMAULOfF8ACD1Y989Yhp2Z++aUAEjaSC0L3dwGmjxs0txPLSUkHudANasqXayXIN2J72aHJc3dAv7ASa7N4YGo1p2XE8m3ctrTdRZCXbTMreLSVDValW0SgitpEofoFNDVIUTX6aJjRtAr4bYahrbbKVzMNBdveLifSJWHnAwKJtRXPQ506auOHc6/2hkaGVC2EhEVHSBNZsrOQvr7jo97ZUkIlGGKVOY+O38jTLckALibXEzoYfCo1x1dfwoZHtOLRCXqtsH+m6vECKMDHvm17FaxYAESc+jD/AvU2dDgc64yoj8L+qMsrEjMLPZ48wQluxjQiHVacWvxnFit+5Q/Jck0v4+QTbKCtf7o6gKbMkCc+xFWlXtK1aYcJdt1wscBbQfDiqWd3TELBjRVX1OBFTpIijXZBOdkas/2jsTEqHDusLqlWYoQiXagAB1FUVirXdkWMUnRYrM03EHGCCou2CFHEUkibN1DRHnMTnNwiCJ0OWJA0FTCOJUjTpaOUQFA2J4R/iEtd8iLKGPLEEoFwu09PTo/fMLjLO+rbWihSxlPDrilCGPI8geOTZn0VeKK3hhbljYQOaFXIWzYXqv5F/tz5sNj9pPpM0ZuynONnNGgFG0SmxMt9E7E/MePwySiMINu1N144yIHwnv6omXWNK8jf/vCvRMr7sKbdNm8KMfVXTVAEjevtJmFpIapJvCusXo0ly5aH4OtYayTmCyS7XvG8Wii+c0EvZMeTJkyVMqkm2R6RGf6jTUurPTK9KUSyeJG1iZW9FXwLsLVbaBVGTLDjBVyporHR5uTampVHW+efnHXneALUN95STo7PIEGzT3sMhJU6RzA7gHSzgHQs0NKk8bO2bOxA4QTNC5NEsTDO3FIrXUDa5B7A4xm/wviQAAAlhSURBVLqqLjDCSxKTIZz74eG8dkpCBzfv4I3uHc/XboDV2xk1yzeFdRi2+nH0FePxRS9tODqxmGxt3V2x7NTFn867bQ+LrrnpX/NuzaBO41gpWpFRTvVQIxwuVkoWYtI9/5BqJsCfEB323UJmN9ILjFQARvxPlLRCHbF6kt8DCm2mGzHTkyhKFrL77RGGHV+XPeTHc8jGuSPvBU2aDysAi6656cKcO8tOXXxxuO/ea98/HvChz/w460/jTvYAf1qRRcVJCb9k+yhFJ6Tn6gDpAKSyM5r1BYih5m8hR6xAqNAU9m+qerXvw7Xhm8L60dvnBtmCaZUDT/q81kzdwvtx5r4GMcbiiSSArrv5RzPWfu/qE8NZ9HkUR4554oAPXXpfYeSY+Vak/fFlP+Mv37g8HyxAAA78yOUMm74XkJ4MkEXe7fnaM7krkD3LMWu8B5s93xSG1Q7a09OjOqkS7B/BbzJtS+53D+RJBc3dmkGMxWth7r30wpc9tfK2gwCirmGbD/zoZd9uHzNpAEu87uc/mvvgd7563ODGJ8bc/sF/WXTQRV/QrukzWX3tlwAwxRKHf/77tW3aAJUtm3jqT7dRHD6y5rZo6U2tm8IXILIaK2u8h/s8sSAhFUC8aqvqCaMw/pghvzsnv80yCwfZ6YodMsobESJoOqFdQ5ZAQ4WDpmQTYyP8zw6y8Z479w/u1a1buu/419PfmYasx6PLbpauPd6ps976bvmLP7uEFe84seYv1jJs+t5MOGoxpVFjM2/+30IrjRWQJ1adZ9uEMSJOBIPBa6wCQzWFFnK9xXxz1vrdZmhCiCYIc2mtmsyA+oT5GfwSFgpdw3sHNz3VDTBinwNX73fBJx9QpweKlYm198LwQLIPZ8KiVzFh0atCdAxueoqtf13N6mu/yObVq9i8ehUP/+R7zP/E12ph/k/AAhX/q6UBeVJBI7EE0gHS7jWrVOz8GL/croQffd85ctSj1bhWnoABknGrI0YyppW1xeqRkjKEqQ9njE2advZ938W/uevj73+1VivR0/fdNWvZqYtndU6bSWnkaHV9ffQ+vJbqtq0Actjnvk1x+KiafdQ2diJt4yZiCkX6Hl3HwJOP1T4hucnRrj1m8Gjm+bYP/gude8xErKV75j5MOe6kjO9uiqR1KCa/mt0KeWLVFdTjo6aiyUy5IBG+V9i8ID1aESSPEG6ouLJoIFBGM7b6Vn1acs2liInUaVEQuqbNKi288sePDDz5+JT1v/hRtPHeP9K34RF6H14rhc5hdE6dzvA5+zPu8JdRHO5/23vOOy5g0/13s3nNn+l9ZC3VrZtBDG1jJ9A9ay6TXnkiw/acXffNSce8lmEz9uahH13LljV/ZuCpxxl46vG6MC8UrMlQZ3tNYSi8mo01urIR8dvkQ1O4o8TaldhenDtGLAuLrrnJnyKVLnsZo+gsQcaLFdM2epzMePNZqYa0NBAyYOyCoxi74Ki883YxbPrezDv3krzz/zlkiWVIuuahKRw3xYiogtdabXiNtXsi/ZHDplC/Vsw3n5ZR6nSGIMOEZBlQlkCeUC+40fDnE9m5wry2goRYyRBDsH9qGsttbVcVUXxPsIA/7SMVdqNx/Y8riNZpUQBx0gZMVnScOIkkaeIJy3Oz+Qqj5i+iEYnx3p9M6TRrBsvl5LzpBKF5qKEyVkVUDU6sopFYKSQkaxwKaDZY2Qr5sPnnPBoHPQPSZsulDVcY8hArEY6xwHj82Y5+EtslhHLUE+pFbB9JuT+SPOYGRoVEMUXBs1wuJ0FTrF83huliYvwI9WhgAKgQ7I8s8s9DIR82/5xHoExYQpIPn5I8wtIu/oCp0Xi70Ptnl5u8ACd9dzcIpk4JJQSrueV7hXWYvnCDwiy/rsgf0b8njseAXtI5w4b29TmCwX8rkELxFPOrLiwj8YcHtpqvyzZ1L5LqmcI3hXH/S34CPXnPFPmmEDJEOexrT+gjl88cVEM16d53439CuRfLRvzvSXvbLGiU5qjXEPUax3/P+wfC+IHIehj8orkiNjmfy9t9HvUL4FLt9iKePWpGBuB/nKBytFmhQ/CqfrghaRJNuVyWhctVz/3DSfqWgQf/2m5L95cMe5NqgS4cXXgCVHBswzeTg0kBx4lfQJwjk0da8EIYlfc2XNBE4Srgf0DAEyfdtpSPI8WLpNo1SGWsgMTKKgMPnv2D9a0Gu4Gcxgoz04Ceu+F6Pey9V8u1R81Yfdatj3zDCUdakVGkGsVrGZcUfiBO2stS/NpsHz6jCRP4TkD4698PxIH0G6l7Suz884t47mGcagX43sS4b7v7CuvGfnqS9VgBEwctd59xsrQ/et9P+5ye51T/jk3WdfueVQpvIAeyBcJEhGGKxmNvw3mdoZfpm66sBkqbx9QtixdtpV0Hm1zZZ6htJ1N0sFrlM70ber/8vu/cvPXq7945pOzriJXRWAAcc8D/8NNRJ5l9fxZXvnHYlKXbBuMTK1X9TW2+MNUsMf7Xm3Zu4+eL2D3gWwZN1u6nLU6ykdeprh6I9S3Dbtzw4W+esNfGn+5/HKefcki+BapDjUjldF8h0Hw0FeCUD/22ZI+dfmR7hz2vaHil+B9yy9o8QzL5Rey2COWtWEyyU/r/OdVLzdat//OVl81pOB05oNkgaX64IWu71DRY9qXjThs7eOrsPX515g1rfi3jZWRfoXCIEXNS0fByHLNqa7BeNJ5bI29C7AyezbutYEFRwfH3WFle7ecGO+D+d0Nv5bEfv3rmdr+SJxU0Egto3AaWxamz5yrAVW+Yqddf/YeN+7zyll//duBVv553Z8l8rzBgt4zrKhZjSrbqov4+ZHCIKbxwvkozlHCUrNM4yVY/kaTnnzVCk+3jEomKKp22omGSKsZIn1qJAZHMOQot0EkFyZyy3UdBWilii9JORQHUCs6JVEg7sEWtUvRnhClAJSrU8mEEKv7VBmhVRdLjkQBvt5gIFP8z7FYdUTWZs7PoQNVKJZn6TN4H0NCfqlYRiUQtSkTMsIJjm2mLTVwdGFno7RsYcJVzVzwQF7Y8zR1zp/Das45rnridQblctuVy46GtebsroFwuy5xP7F/z++5ZB8lX7pgv7/3MPAGYe8ZlNb83fWyehOt1H/P+Wbzpkv28/yX7NfgB/Ncl+zS4vykXzxmfmdUQZlfgUxfNfU7i/Ufg9IsPaJmXd/b8tqVfK7TiBsD/B5GyNXihzq8pAAAAAElFTkSuQmCC",
      siz: 1,
      txt: "test collection item",
      ina: _ina,
      fun: function(evt, app) {
        var test;
        app.undo_manager.snapshot();
        return test = _this.add_item_depending_selected_tree(app.data, ImgDirectorySetItem, function(object) {
          object.time = app.data.time;
          return object._app_data = app.data;
        });
      }
    });
  }

  return TreeAppApplication_Test;

})(TreeAppApplication);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication_Grid,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication_Grid = (function(_super) {

  __extends(TreeAppApplication_Grid, _super);

  function TreeAppApplication_Grid() {
    var _this = this;
    TreeAppApplication_Grid.__super__.constructor.call(this);
    this.name = 'Add a grid';
    this.powered_with = 'SC';
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Grid",
      fun: function(evt, app) {
        var grid;
        app.undo_manager.snapshot();
        return grid = _this.add_item_depending_selected_tree(app.data, GridItem);
      }
    });
  }

  return TreeAppApplication_Grid;

})(TreeAppApplication);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication_DeepCopy,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication_DeepCopy = (function(_super) {

  __extends(TreeAppApplication_DeepCopy, _super);

  function TreeAppApplication_DeepCopy() {
    var _this = this;
    TreeAppApplication_DeepCopy.__super__.constructor.call(this);
    this.name = 'Util';
    this.actions.push({
      ico: "data:image/png;base64,",
      txt: "deep_copy",
      siz: 1,
      fun: function(evt, app) {
        var m;
        app.undo_manager.snapshot();
        return m = _this.add_item_depending_selected_tree(app.data, DeepCopyItem);
      }
    });
  }

  return TreeAppApplication_DeepCopy;

})(TreeAppApplication);
// Generated by CoffeeScript 1.4.0
var TreeAppApplication_Sketcher,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

TreeAppApplication_Sketcher = (function(_super) {

  __extends(TreeAppApplication_Sketcher, _super);

  function TreeAppApplication_Sketcher() {
    var _ina,
      _this = this;
    TreeAppApplication_Sketcher.__super__.constructor.call(this);
    this.name = 'Sketcher';
    this.powered_with = 'SC';
    _ina = function(app) {
      var _ref, _ref1;
      return app.data.focus.get() !== ((_ref = app.selected_canvas_inst()) != null ? (_ref1 = _ref[0]) != null ? _ref1.cm.process_id : void 0 : void 0);
    };
    this.actions.push({
      ico: "data:image/png;base64,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",
      siz: 1,
      txt: "Web Sketcher",
      ina: _ina,
      fun: function(evt, app) {
        var sketcher;
        app.undo_manager.snapshot();
        return sketcher = _this.add_item_depending_selected_tree(app.data, SketchItem);
      }
    });
  }

  return TreeAppApplication_Sketcher;

})(TreeAppApplication);
